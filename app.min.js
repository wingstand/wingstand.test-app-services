function serviceFunc(t,e,o,n,r,a,i,s){function c(t){var n=function(o){if(e.debug("[notification.fct.js] Push received:",o),void 0!==t.config&&t.config.length>0){var n=a.get("ActionFactory");t.config.forEach(function(t){if("push-event"==t["item-type"]){var e={$notification:o},r=!0;t.operations.length>0&&(r=n.evalOperations(t.operations,e)),r===!0&&n.triggerEvent("push-received",t.actions,e)}})}};if(void 0!==window.device&&void 0!==window.device.platform&&void 0!==t&&void 0!==t.settings&&void 0!==t.settings["push-notifications"]){var r=t.settings["push-notifications"],s=null;switch(window.device.platform.toLowerCase()){case"android":void 0!==r.android&&r.android.enabled===!0&&(s={senderID:r.android.id});break;case"win32nt":void 0!==r.wp&&r.wp.enabled===!0&&(s={channelName:r.wp.channelName});break;case"ios":void 0!==r.ios&&r.ios.enabled===!0&&(s={badge:"true",sound:"true",alert:"true"})}if(null!==s){var c=i.getSource("notification");c!==!1&&(e.debug("Registering for push notifications..."),c.registerForPush(function(t){e.debug("Registered for push:",t),o.set("notification.token",t),c.on("pushReceived",n)},function(t){e.error("Error registering for push:",t)},s))}}}function l(){return i.getSource("notification")!==!1}function u(t){for(var e=5381,o=0;o<t.length;o++){var n=t.charCodeAt(o);e=(e<<5)+e+n}return e}function d(){var t=i.getSource("notification");m===!1&&l()&&(t.on("interactedWith",function(t){var e=r.getSchemaConfigItemsByItemType("device-notification");if(e.length>0){var o=a.get("ActionFactory");angular.forEach(e,function(e){if(void 0!==e.name&&u(e.name)==t.id&&void 0!==e.actions&&e.actions.length>0)if(void 0===t.actionResponseIdentifier)o.triggerEvent("click",e.actions,{$notification:t});else{var n=t.actionResponseIdentifier+"-interaction-pressed";o.triggerEvent(n,e.actions,{$notification:t})}})}}),m=!0)}function p(c){var p=t.defer();if(void 0!==c.name){var g=r.getSchemaConfigItemByName(c.name);if(void 0!==g)if("device-notification"==g["item-type"])if(l()){var m=i.getSource("notification"),f=c.title||g.title;void 0!==f&&f.indexOf("{{")>-1&&(f=o.parse(f)),f=s.translate(f);var C=c.text||g.text;void 0!==C&&C.indexOf("{{")>-1&&(C=o.parse(C)),C=s.translate(C);var h=c.name+"_category",S={id:u(c.name),title:f,text:C};if(void 0!==g.interactions&&g.interactions.length>0&&(S.category={identifier:h,actions:[]},g.interactions.forEach(function(t){var e={title:s.translate(t.label),identifier:t.name,textInput:t.text===!0};S.category.actions.push(e)})),c.options.schedule===!0&&void 0!==c.options.model){var v=o.parse(c.options.model),w=new Date(v);isNaN(w.getTime())||(S.at=w.getTime())}m.core.schedule(S,null,null,{skipPermission:!0}),d(),p.resolve()}else{var y="Native notifications are not available on this platform.";e.info(y),p.reject(y)}else{var L=null;switch(g.style){case"success":case"error":case"warning":L=g.style;break;case"info":default:L="info"}if(null!==L){var A=c.title||g.title||"";angular.isString(A)===!1&&void 0!==A.toString&&(A=A.toString()),A=s.translate(A);var b=c.text||g.text||"";if(angular.isString(b)===!1&&void 0!==b.toString&&(b=b.toString()),b=s.translate(b),void 0!==g.actions&&g.actions.length>0){var j=a.get("ActionFactory");g.options.onHidden=function(t){t===!0&&j.triggerEvent("click",g.actions)}}var $=angular.copy(g.options);$.autoDismiss!==!0&&($.timeOut=0,$.extendedTimeOut=0),n[L](b,A,$),p.resolve()}}else p.reject("Notification with name '"+c.name+"' could not be found in app config.")}else p.reject("Notification name has not been specified.");return p.promise}var g={call:p,init:c},m=!1;return g}serviceFunc.$inject=["$q","$log","StoreFactory","toastr","SchemaHelper","$injector","Plugin","TranslationService"],function(){"use strict";function t(){return++l}function e(t){return t&&t.window===t}function o(t){return"string"==typeof t}function n(t){if(null==t||e(t))return!1;var n=t.length;return!(1!==t.nodeType||!n)||(o(t)||Array.isArray(t)||0===n||"number"==typeof n&&n>0&&n-1 in t)}function r(){return Object.create(null)}function a(e,o){var n,r=typeof e;return"function"==r||"object"==r&&null!==e?"function"==typeof(n=e.$$hashKey)?n=e.$$hashKey():void 0===n&&(n=e.$$hashKey=(o||t)()):n=e,r+":"+n}function i(t,e,o){var n,r,a=[],i=[];for(n=0;n<e.length;n++)for(r=0;r<t.length;r++)t[r][o]?t[r][o]===e[n]&&i.push(t[r]):a.push(t[r]);return i=i.concat(a)}function s(t){var e=t[0],o=t[t.length-1],n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==o);return angular.element(n)}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}var l=0,u=function(t){return t.clone[0]},d=function(t){return t.clone[t.clone.length-1]},p=function(t,e,o,n,r,a,i,s){t[o]=n,r&&(t[r]=a),t.$index=e,t.$first=0===e,t.$last=e===i-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e)),s&&(t.$group=s)},g=function(t,e){t.data("isolateScope",e)},m=function(t,e){var o,n=t.length;if(0===n)return!1;for(o=0;o<n;o++)if(L(e,t[o]))return!0;return!1},f=function(t,e){var o,n=t.length;if(0===n)return-1;for(o=0;o<n;o++)if(L(e,t[o]))return o;return-1},C=function(t,e,o){var n,r=t,a=typeof o;if(t==e)return null;do if("string"===a){if(n=" "+r.className+" ",1===r.nodeType&&n.replace(/[\t\r\n\f]/g," ").indexOf(o)>=0)return r}else if(r==o)return r;while((r=r.parentNode)&&r!=e&&9!==r.nodeType);return null},h=function(t){var e,o=t.className.replace(/[\t\r\n\f]/g," ").trim();e=o.split(" ");for(var n=0;n<e.length;n++)/\s+/.test(e[n])&&(e.splice(n,1),n--);return e},S=function(t,e){var o=h(t);return o.indexOf(e)!==-1},v=function(t,e){var o,n,r,a=t.children(),i=a.length;if(i>0)for(var s=0;s<i;s++){if(o=a.eq(s),n=!0,r=h(o[0]),r.length>0)for(var c=0;c<e.length;c++)if(r.indexOf(e[c])===-1){n=!1;break}if(n)return o}return[]},w=function(t,e){var o,n,r;if(t.text().toLowerCase().indexOf(e.toLowerCase())!==-1)return!0;for(o=t.children(),r=o.length,n=0;n<r;n++)if(o.eq(n).text().toLowerCase().indexOf(e.toLowerCase())!==-1)return!0;return!1},y=angular.element,L=angular.equals,A=angular.copy,b=angular.extend,j=angular.module("nya.bootstrap.select",[]);j.provider("nyaBsConfig",function(){var t=null,e={"en-us":{defaultNoneSelection:"Nothing selected",noSearchResult:"NO SEARCH RESULT",numberItemSelected:"%d item selected",selectAll:"Select All",deselectAll:"Deselect All"}},o=A(e);this.setLocalizedText=function(t,e){if(!t)throw new Error("localeId must be a string formatted as languageId-countryId");o[t]||(o[t]={}),o[t]=b(o[t],e)},this.useLocale=function(e){t=e},this.$get=["$locale",function(n){var r;return r=t?o[t]:o[n.id],r||(r=e["en-us"]),r}]}),j.controller("nyaBsSelectCtrl",function(){var t=this;t.keyIdentifier=null,t.valueIdentifier=null,t.isMultiple=!1,t.onCollectionChange=function(){},t.setId=function(e){t.id=e||"id#"+Math.floor(1e4*Math.random())}}),j.directive("nyaBsSelect",["$parse","$document","$timeout","nyaBsConfig",function(t,e,o,n){var r="Nothing selected",a='<button class="btn btn-default dropdown-toggle" type="button"><span class="pull-left filter-option"></span>&nbsp;<span class="caret"></span></button>',i='<div class="dropdown-menu open"></div>',s='<div class="bs-searchbox"><input type="text" class="form-control"></div>',l='<ul class="dropdown-menu inner"></ul>',u='<li class="no-search-result"><span>NO SEARCH RESULT</span></li>',d='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button class="actions-btn bs-select-all btn btn-default">SELECT ALL</button><button class="actions-btn bs-deselect-all btn btn-default">DESELECT ALL</button></div></div>';return{restrict:"ECA",require:["ngModel","nyaBsSelect"],controller:"nyaBsSelectCtrl",compile:function(p,g){p.addClass("btn-group");var b,j,$,x,T,E,k,F,I=function(){var t;return t=g.titleTpl?y(g.titleTpl):g.title?document.createTextNode(g.title):N.defaultNoneSelectionTpl?y(N.defaultNoneSelectionTpl):N.defaultNoneSelection?document.createTextNode(N.defaultNoneSelection):document.createTextNode(r)},P=p.children(),_=y(a),D=y(i),O=y(l),N=n,M="undefined"!=typeof g.multiple;for(x=h(p[0]),x.forEach(function(t){/btn-(?:primary|info|success|warning|danger|inverse)/.test(t)&&(p.removeClass(t),_.removeClass("btn-default"),_.addClass(t)),/btn-(?:lg|sm|xs)/.test(t)&&(p.removeClass(t),_.addClass(t)),"form-control"===t&&_.addClass(t)}),O.append(P),T=P.length,E=0;E<T;E++)k=P.eq(E),(k.hasClass("nya-bs-option")||k.attr("nya-bs-option"))&&(k.find("a").attr("tabindex","0"),F=k.attr("value"),angular.isString(F)&&""!==F&&(k.attr("data-value",F),k.removeAttr("value")));return"true"===g.liveSearch&&(b=y(s),N.noSearchResultTpl?u=u.replace("NO SEARCH RESULT",N.noSearchResultTpl):N.noSearchResult&&(u=u.replace("NO SEARCH RESULT",N.noSearchResult)),j=y(u),D.append(b),O.append(j)),"true"===g.actionsBox&&M&&(N.selectAllTpl?d=d.replace("SELECT ALL",N.selectAllTpl):N.selectAll&&(d=d.replace("SELECT ALL",N.selectAll)),N.deselectAllTpl?d=d.replace("DESELECT ALL",N.deselectAllTpl):N.selectAll&&(d=d.replace("DESELECT ALL",N.deselectAll)),$=y(d),D.append($)),_.children().eq(0).append(I()),D.append(O),p.append(_),p.append(D),function(n,r,a,i){function s(){var t,e,o=R.children(),n=o.length;for(t=0;t<n;t++)if(e=o.eq(t),e.hasClass("active")&&e.hasClass("nya-bs-option")&&!e.hasClass("not-match"))return e;return null}function l(t){for(var e,o=t.childNodes,n=o.length,r=0;r<n;r++)if(e=o[r],1===e.nodeType&&"a"===e.tagName.toLowerCase()){e.focus();break}}function u(t){var e;e=t?R.children().eq(0):R.children().eq(R.children().length-1);for(var o=0;o<R.children().length;o++){var n=R.children().eq(o);if(!n.hasClass("not-match")&&n.hasClass("selected"))return R.children().eq(o)[0]}return!e.hasClass("nya-bs-option")||e.hasClass("disabled")||e.hasClass("not-match")?t?d(e[0],"nextSibling"):d(e[0],"previousSibling"):e[0]}function d(t,e){if(!t||S(t,"nya-bs-option")){for(var o=t;(o=c(o,e))&&o.nodeType;)if(S(o,"nya-bs-option")&&!S(o,"disabled")&&!S(o,"not-match"))return o;return null}}function p(t){if(D&&!P){var e,o,r;if(e=R.find("li"),e.length>0){o=k.$modelValue,r=Array.isArray(o)?A(o):[];for(var a=0;a<e.length;a++){var i=y(e[a]);if(!i.hasClass("disabled")){var s,c;s=h(i),"undefined"!=typeof s&&(c=f(r,s),t&&c==-1?(r.push(s),i.addClass("selected")):t||c==-1||(r.splice(c,1),i.removeClass("selected")))}}k.$setViewValue(r),n.$digest(),j()}}}function g(t){var e,o,a,i=k.$modelValue;e=h(t),"undefined"!=typeof e&&(D?(o=Array.isArray(i)?A(i):[],a=f(o,e),a===-1?(o.push(e),t.addClass("selected")):(o.splice(a,1),t.removeClass("selected"))):(R.children().removeClass("selected"),o=e,t.addClass("selected"))),L(o,i)||r.triggerHandler("change"),k.$setViewValue(o),n.$digest(),D||(r.hasClass("open")&&r.triggerHandler("blur"),r.removeClass("open")),j()}function h(t){var e;return E?(e=t.data("isolateScope"),E(e)):F.valueIdentifier||F.keyIdentifier?(e=t.data("isolateScope"),e[F.valueIdentifier]||e[F.keyIdentifier]):t.attr("data-value")}function b(t){var e=t.find("a");return 0===e.children().length||e.children().eq(0).hasClass("check-mark")?e[0].firstChild.cloneNode(!1):e.children().eq(0)[0].cloneNode(!0)}function j(){var t=k.$modelValue,e=O.children().eq(0);return"undefined"==typeof t?(e.empty(),void e.append(I())):void(D&&0===t.length?(e.empty(),e.append(I())):o(function(){var o,n,r,i,s,c,l=R.children(),u=l.length,d=[];if(D&&"count"===a.selectedTextFormat?c=1:D&&a.selectedTextFormat&&(s=a.selectedTextFormat.match(/\s*count\s*>\s*(\d+)\s*/))&&(c=parseInt(s[1],10)),"undefined"!=typeof c&&t.length>c)return e.empty(),void(N.numberItemSelectedTpl?e.append(y(N.numberItemSelectedTpl.replace("%d",t.length))):N.numberItemSelected?e.append(document.createTextNode(N.numberItemSelected.replace("%d",t.length))):e.append(document.createTextNode(t.length+" items selected")));for(r=0;r<u;r++)n=l.eq(r),n.hasClass("nya-bs-option")&&(o=h(n),D?Array.isArray(t)&&m(t,o)&&(i=n.attr("title"),i?d.push(document.createTextNode(i)):d.push(b(n))):L(t,o)&&(i=n.attr("title"),i?d.push(document.createTextNode(i)):d.push(b(n))));if(0===d.length)e.empty(),e.append(I());else if(1===d.length)e.empty(),e.append(d[0]);else for(e.empty(),r=0;r<d.length;r++)e.append(d[r]),r<d.length-1&&e.append(document.createTextNode(", "))}))}function $(){var t,e,o=R.find("li"),n=o.length;for(e=0;e<n;e++)if(t=o.eq(e),t.hasClass("nya-bs-option")||t.attr("nya-bs-option")){x=t[0].clientHeight;break}if(/\d+/.test(a.size)){var r=parseInt(a.size,10);R.css("max-height",r*x+"px"),R.css("overflow-y","auto")}}var x,T,E,k=i[0],F=i[1],P=!1,_=t(F.valueExp),D="undefined"!=typeof a.multiple,O=v(r,["dropdown-toggle"]),M=O.next(),R=v(M,["dropdown-menu","inner"]),U=v(M,["bs-searchbox"]),q=v(R,["no-search-result"]),V=v(M,["bs-actionsbox"]);F.valueExp&&(E=function(t,e){return _(t,e)}),F.setId(r.attr("id")),D&&(F.isMultiple=!0,k.$isEmpty=function(t){return!t||0===t.length}),O.on("focus",function(){P||r.triggerHandler("focus")}),"undefined"!=typeof a.disabled&&n.$watch(a.disabled,function(t){t?(O.addClass("disabled"),T=O.attr("tabindex"),O.attr("tabindex","-1"),P=!0):(O.removeClass("disabled"),T?O.attr("tabindex",T):O.removeAttr("tabindex"),P=!1)}),F.onCollectionChange=function(t){var e,o,r=[],a=k.$modelValue;if(a){if(Array.isArray(t)&&t.length>0){if(E)for(e=0;e<t.length;e++)r.push(E(n,t[e]));else for(e=0;e<t.length;e++)F.valueIdentifier?r.push(t[e][F.valueIdentifier]):F.keyIdentifier&&r.push(t[e][F.keyIdentifier]);if(D){for(o=a.length,e=0;e<a.length;e++)m(r,a[e])||(a.splice(e,1),e--);o!==a.length&&(a=A(a))}else m(r,a)||(a=r[0])}k.$setViewValue(a),j()}},R.on("click",function(t){if(t.stopPropagation(),!P&&!y(t.target).hasClass("dropdown-header")){var e,o=C(t.target,R[0],"nya-bs-option");if(null!==o){if(e=y(o),e.hasClass("disabled"))return;g(e)}}});var G=function(t){null===C(t.target,r.parent()[0],r[0])&&(r.hasClass("open")&&r.triggerHandler("blur"),r.removeClass("open"))};e.on("click",G),O.on("blur",function(){r.hasClass("open")||r.triggerHandler("blur")}),O.on("click",function(){var t;r.toggleClass("open"),r.hasClass("open")&&"undefined"==typeof x&&$(),"true"===a.liveSearch&&r.hasClass("open")?(t=u(!0),t&&(R.children().removeClass("active"),y(t).addClass("active"))):r.hasClass("open")&&(t=u(!0),t&&l(t))}),"true"===a.actionsBox&&D&&(V.find("button").eq(0).on("click",function(){p(!0)}),V.find("button").eq(1).on("click",function(){p(!1)})),"true"===a.liveSearch&&U.children().on("input",function(){var t,e,o,n=U.children().val(),r=0,a=R.children(),i=a.length;if(n){for(t=0;t<i;t++)e=a.eq(t),e.hasClass("nya-bs-option")&&(w(e.find("a"),n)?(e.removeClass("not-match"),r++):e.addClass("not-match"));0===r?q.addClass("show"):q.removeClass("show")}else{for(t=0;t<i;t++)e=a.eq(t),e.hasClass("nya-bs-option")&&e.removeClass("not-match");q.removeClass("show")}o=u(!0),o&&(a.removeClass("active"),y(o).addClass("active"))}),k.$render=function(){var t,e,o=k.$modelValue,n=R.children(),r=n.length;if("undefined"==typeof o)for(t=0;t<r;t++)n.eq(t).hasClass("nya-bs-option")&&n.eq(t).removeClass("selected");else for(t=0;t<r;t++)n.eq(t).hasClass("nya-bs-option")&&(e=h(n.eq(t)),D?m(o,e)?n.eq(t).addClass("selected"):n.eq(t).removeClass("selected"):L(o,e)?n.eq(t).addClass("selected"):n.eq(t).removeClass("selected"));j()},r.on("keydown",function(t){var e=t.keyCode;if(27===e||13===e||38===e||40===e){if(t.preventDefault(),P)return void t.stopPropagation();var o,n,i,c,p=C(t.target,r[0],O[0]);"true"===a.liveSearch?n=C(t.target,r[0],U[0]):o=C(t.target,r[0],M[0]),p?13!==e&&38!==e&&40!==e||r.hasClass("open")||(t.stopPropagation(),r.addClass("open"),"undefined"==typeof x&&$(),"true"===a.liveSearch?(U.children().eq(0)[0].focus(),c=u(!0),c&&(R.children().removeClass("active"),y(c).addClass("active"))):(c=u(!0),c&&l(c))):o?27===e?(O[0].focus(),r.hasClass("open")&&r.triggerHandler("blur"),r.removeClass("open"),t.stopPropagation()):38===e?(t.stopPropagation(),c=d(t.target.parentNode,"previousSibling"),c?l(c):(c=u(!1),c&&l(c))):40===e?(t.stopPropagation(),c=d(t.target.parentNode,"nextSibling"),c?l(c):(c=u(!0),c&&l(c))):13===e&&(t.stopPropagation(),i=y(t.target.parentNode),i.hasClass("nya-bs-option")&&(g(i),D||O[0].focus())):n&&(27===e?(O[0].focus(),r.removeClass("open"),t.stopPropagation()):38===e?(t.stopPropagation(),i=s(),i&&(c=d(i[0],"previousSibling"),c?(i.removeClass("active"),y(c).addClass("active")):(c=u(!1),c&&(i.removeClass("active"),y(c).addClass("active"))))):40===e?(t.stopPropagation(),i=s(),i&&(c=d(i[0],"nextSibling"),c?(i.removeClass("active"),y(c).addClass("active")):(c=u(!0),c&&(i.removeClass("active"),y(c).addClass("active"))))):13===e&&(i=s(),i&&(g(i),D||O[0].focus())))}}),n.$on("$destroy",function(){R.off(),O.off(),U.off(),e.off("click",G)})}}}}]),j.directive("nyaBsOption",["$parse",function(t){var e=/^\s*(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/;return{restrict:"A",transclude:"element",priority:1e3,terminal:!0,require:["^nyaBsSelect","^ngModel"],compile:function(o,c){var l=c.nyaBsOption,f=document.createComment(" end nyaBsOption: "+l+" "),C=l.match(e);if(!C)throw new Error("invalid expression");var h,S,v,w,A,b=c.value,j=b?t(b):null,$=C[3]||C[1],x=C[2],T=C[4],E=C[5]?t(C[5]):null,k=C[6],F={$id:a},I={};return k?w=t(k):(h=function(t,e){return a(e)},S=function(t){return t}),function(t,e,o,a,c){function l(t){var o,a,l,w,b,j,T,E,F,I,_,O,N,M,R,U=e[0],q=r(),V=[];if(A&&(O=[]),n(t))j=t,b=v||h;else{b=v||S,j=[];for(var G in t)t.hasOwnProperty(G)&&"$"!=G.charAt(0)&&j.push(G);j.sort()}for(T=j.length,E=new Array(T),o=0;o<T;o++)if(a=t===j?o:j[o],l=t[a],w=b(a,l,o),R={},x&&(R[x]=a),R[$]=l,V.push(R),A&&(I=A(a,l),O.indexOf(I)===-1&&I&&O.push(I)),D[w])F=D[w],delete D[w],A&&(F.group=I),F.key=a,F.value=l,q[w]=F,E[o]=F;else{if(q[w])throw E.forEach(function(t){t&&t.scope&&(D[t.id]=t)}),new Error("Duplicates in a select are not allowed. Use 'track by' expression to specify unique keys.");E[o]={id:w,scope:void 0,clone:void 0,key:a,value:l},q[w]=!0,I&&(E[o].group=I)}O&&O.length>0&&(E=i(E,O,"group"));for(var B in D)F=D[B],M=s(F.clone),M.removeData("isolateScope"),M.remove(),F.scope.$destroy();for(o=0;o<T;o++)F=E[o],F.scope?(_=U,u(F)!=_&&y(U).after(F.clone),U=d(F),p(F.scope,o,$,F.value,x,F.key,T,F.group)):c(function(t,e){g(t,e),F.scope=e;var n=f.cloneNode(!1);t[t.length++]=n,y(U).after(t),t.addClass("nya-bs-option"),l=C?C(F.key,F.value):F.value||F.key,k.isMultiple?Array.isArray(P.$modelValue)&&m(P.$modelValue,l)&&t.addClass("selected"):L(l,P.$modelValue)&&t.addClass("selected"),U=n,F.clone=t,q[F.id]=F,p(F.scope,o,$,F.value,x,F.key,T,F.group)}),O&&void 0!=O&&O.length>0&&(N&&N===F.group?F.clone.removeClass("first-in-group"):F.clone.addClass("first-in-group"),N=F.group,F.clone.addClass("group-item"));D=q,k.onCollectionChange(V)}var C,k=a[0],P=a[1],_={};w&&(v=function(e,o,n){return x&&(F[x]=e),F[$]=o,F.$index=n,w(t,F)}),E&&(A=function(e,o){return x&&(I[x]=e),I[$]=o,E(t,I)}),x&&(k.keyIdentifier=x),$&&(k.valueIdentifier=$),j&&(k.valueExp=b,C=function(e,o){return x&&(_[x]=e),_[$]=o,j(t,_)});var D=r();"true"===o.deepWatch?t.$watch(T,l,!0):t.$watchCollection(T,l)}}}}])}(),angular.module("angular-datepicker",[]).directive("pickADate",["$timeout",function(t){return{restrict:"A",scope:{pickADate:"=",pickADateOptions:"="},link:function(e,o){function n(o){"function"==typeof p&&p.apply(this,arguments),e.$$phase||e.$root.$$phase||t(function(){o.hasOwnProperty("clear")?e.pickADate=null:o.hasOwnProperty("select")&&(e.pickADate=c(new Date(o.select)))},0)}function r(t){"function"==typeof g&&g.apply(this,arguments)}function a(t){if("function"==typeof m&&m.apply(this,arguments),window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard){var e=function(){window.cordova.plugins.Keyboard.close(),window.removeEventListener("native.keyboardshow",this)};window.addEventListener("native.keyboardshow",e),setTimeout(function(){window.removeEventListener("native.keyboardshow",e)},500)}}function i(t){return 1===t.toString().length?"0"+t:t.toString()}function s(t){return t&&t.getUTCDate?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0,0):null}function c(t){return t.getFullYear()+"-"+i(t.getMonth()+1)+"-"+i(t.getDate())}function l(t){var e=null,o=/\d{4}-\d{2}-\d{2}/;return"string"==typeof t&&o.test(t)?e=o.exec(t)[0]:t instanceof Date&&(e=t.getFullYear()+"-"+i(t.getMonth()+1)+"-"+i(t.getDate())),e?s(new Date(e)):null}function u(t){var n=l(t);n?o.pickadate("picker").set("select",n):(e.pickADate=null,o.pickadate("picker").set("clear"))}var d=e.pickADateOptions||{},p=d.onSet,g=d.onOpen,m=d.onClose;d.min&&"string"==typeof d.min?"current"===d.min?d.min=s(new Date):d.min=l(d.min):d.min="",d.max&&"string"==typeof d.max?"current"===d.max?d.max=s(new Date):d.max=l(d.max):d.max="",d["default"]&&"string"==typeof d["default"]&&!e.pickADate&&("current"===d["default"]?(e.pickADate=c(new Date),e.$parent.updateStore(e.pickADate)):(e.pickADate=c(l(d["default"])),e.$parent.updateStore(e.pickADate))),d.selectYears===!0&&(d.selectYears=200),o.pickadate(angular.extend(d,{onOpen:r,onSet:n,onClose:a,container:document.body})),e.pickADate&&u(e.pickADate),e.$watch("pickADate",function(t,o){t!==o&&(u(t),e.$parent.updateStore(t))})}}}]).directive("pickATime",["$timeout",function(t){return{restrict:"A",scope:{pickATime:"=",pickATimeOptions:"="},link:function(e,o){function n(o){"function"==typeof p&&p.apply(this,arguments),e.$$phase||e.$root.$$phase||t(function(){if(o.hasOwnProperty("clear"))e.pickATime=null;else if(o.hasOwnProperty("select")){var t=o.select,n=Math.floor(t/60),r=t%60;e.pickATime=i(n)+":"+i(r)}},0)}function r(t){"function"==typeof g&&g.apply(this,arguments)}function a(t){if("function"==typeof m&&m.apply(this,arguments),window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard){var e=function(){window.cordova.plugins.Keyboard.close(),window.removeEventListener("native.keyboardshow",this)};window.addEventListener("native.keyboardshow",e),setTimeout(function(){window.removeEventListener("native.keyboardshow",e)},500)}}function i(t){return 1===t.toString().length?"0"+t:t.toString()}function s(t){return t&&t.getUTCDate?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),0,0):null}function c(t){return i(t.getHours())+":"+i(t.getMinutes())}function l(t){var e=null,o=/\d{2}:\d{2}/;return"string"==typeof t&&o.test(t)?e=o.exec(t)[0]:t instanceof Date&&(e=i(t.getHours())+":"+i(t.getMinutes())),e?s(new Date("1970-01-01T"+e+":00Z")):null}function u(t){var n=l(t);n?o.pickatime("picker").set("select",n):(e.pickATime=null,o.pickatime("picker").set("clear"))}var d=e.pickATimeOptions||{},p=d.onSet,g=d.onOpen,m=d.onClose;d.min&&"string"==typeof d.min?"current"===d.min?d.min=new Date:d.min=l(d.min):d.min="",d.max&&"string"==typeof d.max?"current"===d.max?d.max=new Date:d.max=l(d.max):d.max="",d["default"]&&"string"==typeof d["default"]&&!e.pickATime&&("current"===d["default"]?(e.pickATime=c(new Date),e.$parent.updateStore(e.pickATime)):(e.pickATime=c(l(d["default"])),e.$parent.updateStore(e.pickATime))),o.pickatime(angular.extend(d,{onSet:n,onOpen:r,onClose:a,container:document.body})),e.pickATime&&u(e.pickATime),e.$watch("pickATime",function(t,o){t!==o&&(u(t),e.$parent.updateStore(t))})}}}]),angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(t){return t}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope",function(t,e,o,n,r){function a(t){return void 0===t||null===t||"string"!=typeof t||0==t.trim().length}function i(){r.$broadcast("gettextLanguageChanged")}var s,c="$$noContext",l='<span id="test" title="test" class="tested">test</span>',u=angular.element("<span>"+l+"</span>").html()!==l,d=function(t){return s.debug&&s.currentLanguage!==s.baseLanguage?s.debugPrefix+t+s.debugSuffix:t},p=function(t){return s.showTranslatedMarkers?s.translatedMarkerPrefix+t+s.translatedMarkerSuffix:t};return s={debug:!1,debugPrefix:"[MISSING]: ",debugSuffix:"",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:o("strings"),setCurrentLanguage:function(t){this.currentLanguage=t,i()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(t,e){this.strings[t]||(this.strings[t]={});for(var o in e){var n=e[o];if(u&&(o=angular.element("<span>"+o+"</span>").html()),angular.isString(n)||angular.isArray(n)){var r={};r[c]=n,n=r}for(var a in n){var s=n[a];n[a]=angular.isArray(s)?s:[s]}this.strings[t][o]=n}i()},getStringForm:function(t,e,o){if(a(t))return"";var n=this.strings[this.currentLanguage]||this.strings["*"]||{},r=n[t]||{},i=r[o||c]||[];return i[e]},getString:function(t,e,o){return a(t)?"":(t=this.getStringForm(t,0,o)||d(t),t=e?n(t)(e):t,p(t))},getPlural:function(e,o,r,i,s){if(a(o))return"";var c=t(this.currentLanguage,e);return o=this.getStringForm(o,c,s)||d(1===e?o:r),i&&(i.$count=e,o=n(o)(i)),p(o)},loadRemote:function(t){return e({method:"GET",url:t,cache:s.cache}).success(function(t){for(var e in t)s.setStrings(e,t[e])})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(t,e,o,n,r){function a(t,e,o){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+o+" attribute.")}var i=function(){return String.prototype.trim?function(t){return"string"==typeof t?t.trim():t}:function(t){return"string"==typeof t?t.replace(/^\s*/,"").replace(/\s*$/,""):t}}(),s=parseInt((/msie (\d+)/.exec(angular.lowercase(r.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(r,c){a(!c.translatePlural||c.translateN,"translate-n","translate-plural"),a(!c.translateN||c.translatePlural,"translate-plural","translate-n");var l=i(r.html()),u=c.translatePlural,d=c.translateContext;return s<=8&&"<!--IE fix-->"===l.slice(-13)&&(l=l.slice(0,-13)),{post:function(r,a,i){function s(){var e;u?(r=p||(p=r.$new()),r.$count=c(r),e=t.getPlural(r.$count,l,u,null,d)):e=t.getString(l,null,d);var i=angular.element("<span>"+e+"</span>");n(i.contents())(r);var s=a.contents(),g=i.contents();o.enter(g,a),o.leave(s)}var c=e(i.translateN),p=null;i.translateN&&r.$watch(i.translateN,s),r.$on("gettextLanguageChanged",s),s()}}}}}]),angular.module("gettext").filter("translate",["gettextCatalog",function(t){function e(e,o){return t.getString(e,null,o)}return e.$stateful=!0,e}]),angular.module("gettext").factory("gettextPlurals",function(){return function(t,e){switch(t){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return e%10!=1||e%100==11?1:0;case"jv":return 0!=e?1:0;case"mk":return 1==e||e%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return e>1?1:0;case"lv":return e%10==1&&e%100!=11?0:0!=e?1:2;case"lt":return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"mnk":return 0==e?0:1==e?1:2;case"ro":return 1==e?0:0==e||e%100>0&&e%100<20?1:2;case"pl":return 1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;case"cs":case"sk":return 1==e?0:e>=2&&e<=4?1:2;case"sl":return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0;case"mt":return 1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3;case"gd":return 1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3;case"cy":return 1==e?0:2==e?1:8!=e&&11!=e?2:3;case"kw":return 1==e?0:2==e?1:3==e?2:3;case"ga":return 1==e?0:2==e?1:e<7?2:e<11?3:4;case"ar":return 0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5;default:return 1!=e?1:0}}}),window.cti={},angular.module("app",["app.core","app.templates"]),angular.module("cti-directives",[]),angular.module("app.core",["cti-directives","ngSanitize","ngAnimate","ngRoute","ngTouch","LocalStorageModule","vr.directives.slider","tmh.dynamicLocale","angularLoad","angles","toastr","base64","ngMessages","angular-datepicker","nya.bootstrap.select","mobile-router","ngElectron","gettext"]).config(["localStorageServiceProvider","$compileProvider","$logProvider","$sceDelegateProvider","$provide",function(t,e,o,n,r){angular.extend(window.JSON,window.JSON2),delete window.JSON2,o.debugEnabled(!1),t.setPrefix(""),e.debugInfoEnabled(!0),e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|content|file|ms-appx|cdvfile):/),e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|content|file|ms-appx|cdvfile|data):/),angular.module("cti-directives").directive=e.directive,r.decorator("$log",["$delegate","LoggingFactory",function(t,e){return e.process$log(t)}]),n.resourceUrlWhitelist(["self","cdvfile://**"])}]).run(["Router","RouterConfig","SchemaHelper","SchemaService","StoreFactory","StoreProvider","Auth","$rootScope",function(t,e,o,n,r,a,i,s){function c(t,e){try{for(var o=t.split(/\?(.+)?/)[1].split("&"),n=0;n<o.length;n++){var r=o[n];if(r.indexOf(e+"=")>-1){var a=r.split(/=(.+)?/);return a[1]}}return null}catch(i){return null}}function l(t){for(var e={},o=t.split(","),n=0;n<o.length;n++){var r=o[n],a=r.split(/=(.+)?/),i=a[0].split("."),s=a[1];s=p(s),m(e,i,0,s)}return e}function u(t){var e={},o=e;o.xcallback={};for(var n=o.xcallback,r=t.split(","),a=0;a<r.length;a++){var i=r[a],s=i.split(/=(.+)?/);n[s[0]]=s[1]}return e}function d(t,e){for(var o in e)e.hasOwnProperty(o)&&"undefined"!=typeof t[o]?d(t[o],e[o]):t[o]=e[o]}function p(t){return g(t)&&(t=parseInt(t)),t}function g(t){return!isNaN(parseFloat(t))&&isFinite(t)}function m(t,e,o,n){o<e.length-1?(t=null==t[e[o]]?t[e[o]]={}:t[e[o]],m(t,e,o+1,n)):t[e[o]]=n}void 0===window.cti.api&&(window.cti.api={}),window.handleOpenUrlWhenReady=function(o){setTimeout(function(){var n=c(o,"initial_data"),i=c(o,"page"),s=c(o,"xcallback");null!=n&&(n=decodeURIComponent(n));var p=null;null!=n&&(p=l(n)),null!=s&&(s=decodeURIComponent(s));var g=null;if(null!=s&&(g=u(s)),null!=g&&(null!=p?d(p,g):p=g),null!=i){i=decodeURIComponent(i);var m=t.getCurrent();void 0!==m?(null!=p&&r.mergeInitialData(p),t.go("/"+i)):(null!=p&&a.set("initialData",p),e.set("startPage","/"+i))}else null!=p&&a.set("initialData",p)},0)},document.addEventListener("resume",function(){s.$broadcast("device-resume");var e=t.getCurrent();(void 0!==o.schema.settings&&o.schema.settings.auth===!0||void 0!==e&&e.auth===!0)&&i.authenticate("Please re-authenticate").then(function(){})["catch"](function(){t.go("/error")})},!1),void 0!==window.mayflower&&document.addEventListener("backbutton",function(){window.mayflower.moveTaskToBack()},!1),window.cti.appReady=!0;var f=new CustomEvent("app-core-loaded");document.dispatchEvent(f)}]),window.cti=window.cti||{},window.cti.appReady=!1,window.cti.calls=[],window.cti.debug={ngStats:function(t){if(window.hasOwnProperty("showAngularStats"))window.showAngularStats(t);else{var e=document.createElement("script");e.src="./assets/js/ng-stats.min.js",e.onload=function(){window.showAngularStats(t)},document.head.appendChild(e)}}},window.handleOpenURL=function(t){window.cti.appReady?window.handleOpenUrlWhenReady(t):window.cti.calls.push({fn:"handleOpenUrlWhenReady",args:arguments})},document.addEventListener("app-core-loaded",function(){if(window.cti&&window.cti.calls){for(var t=0;t<window.cti.calls.length;t++)!function(t){"function"==typeof window[t.fn]&&window[t.fn].apply(window,t.args)}(window.cti.calls[t]);delete window.cti.calls}}),angular.module("app.routes",[]).config(["$routeProvider",function(t){t.when("/error",{templateUrl:"components/error/error.tpl.html"}).otherwise({redirectTo:"/"})}]),angular.module("app.core").directive("mdApp",["$rootScope","$compile","$q","$timeout","$log","SchemaService","localStorageService","StudioStorage","Router","Plugin","TranslationService","$filter",function(t,e,o,n,r,a,i,s,c,l,u,d){return{scope:{mdApp:"@",debug:"@",json:"="},restrict:"A",compile:function(){return{pre:function(i,s){var p=!1,g=window.cordova!==!1,m=function(){a.stop(i.mdApp).then(function(){
return u.init()}).then(function(){window.cti.store.preferences={};var t=l.getSource("preferences");return t?void t.getAllPreferences(function(t){return window.cti.store.preferences=t,o.resolve()},function(t){return r.error("Error obtaining preferences",t),o.resolve()}):o.resolve()}).then(function(){c.init(),s.html("<div mobile-view></div>"),e(s.contents())(i),t.currentLanguage&&window.document.body.setAttribute("class","language-"+t.currentLanguage),document.getElementById("splash-screen").style.display="none",window.document.querySelectorAll("body div.view-frame")[0].style.display="block",n(function(){t.grace&&n(function(){alert("This app will expire on "+d("date")(t.grace,"short"))},500)},1e3)})["catch"](function(t){r.error(t)})};g===!0?(document.addEventListener("deviceready",function(){m(),p=!0}),n(function(){p===!1&&m()},5e3)):m()}}}}}]),angular.module("app.core").directive("mdContextProvider",function(){return{restrict:"A",scope:{item:"=mdContextProvider",items:"=mdContextItemCollection"},controller:["$scope",function(t){var e=this;t.contextState||(t.contextState={}),e.getContextItemData=function(e){var o={$item:t.item,$state:t.contextState};if(t.items){var n=t.items.indexOf(t.item);n!==-1&&(o.$index=n,o.$totalItems=t.items.length)}if(e){var r={};return r[e]=o,r}return o},e.applyContextItemData=function(t,e){angular.extend(t,this.getContextItemData(e))},e.isRepeaterContextProvider=function(){var t=e.getContextItemData();return t.hasOwnProperty("$index")}}]}}),angular.module("app.core").controller("PageController",["$scope",function(t){var e=this;e.name=t.$parent.route.id,e.meta={valid:!1}}]),angular.module("app.core").directive("pageInfo",function(){return{restrict:"A",scope:!1,controller:["$scope",function(t){return{name:t.$parent.route.id}}]}}),angular.module("app.core").directive("mdForm",function(){return{restrict:"A",require:"^form",link:function(t,e,o,n){t.$watch(function(){return n.$valid},function(e){t.$parent.page.meta.valid=e})}}}),angular.module("app.core").directive("isolateForm",[function(){return{restrict:"A",require:"?form",link:function(t,e,o,n){if(n){var r={};angular.copy(n,r);var a=e.parent().controller("form");a.$removeControl(n);var i={$setValidity:function(t,e,o){r.$setValidity(t,e,o),a.$setValidity(t,!0,n)},$setDirty:function(){e.removeClass("ng-pristine").addClass("ng-dirty"),n.$dirty=!0,n.$pristine=!1}};angular.extend(n,i)}}}}]),angular.module("app.core").directive("mdContent",["TranslationService","AssetFactory",function(t,e){return{restrict:"E",compile:function(o,n){var r=null;if("markdown"===n.itemType){var a=o.text();a=t.translate(a);var i=new window.Showdown.converter({});r=i.makeHtml(a)||""}else{var s=o.html();s=t.translate(s),r=s||""}r=e.rewriteAssetPaths(r);var c=("content-block "+(n.classes||"")).trim(),l='<div class="'+c+'">'+r+"</div>";o.html(l)}}}]),angular.module("app.core").directive("starRating",function(){return{restrict:"A",scope:{ratingValue:"=",max:"=",disabled:"=",actions:"=",onRatingSelected:"&"},template:['<ul class="rating">','   <li ng-repeat="star in stars track by $index"        ng-class="star"        ng-click="toggle($index)" ','       md-actions="{{actions}}">','       <i class="fa fa-star" ng-class="{\'star-disabled\': (disabled) }"></i>',"   </li>","</ul>"].join(""),link:function(t){function e(){t.stars=[];for(var e=0;e<t.max;e++)t.stars.push({filled:e<t.ratingValue})}t.toggle=function(e){t.disabled||(t.ratingValue=e+1,t.onRatingSelected({rating:e+1}))},t.$watch("ratingValue",function(){e()})}}}),angular.module("app.core").directive("takePhoto",["$log","StoreFactory","Camera",function(t,e,o){return{restrict:"E",require:"ngModel",scope:{imageUrl:"=",source:"@",quality:"=","disabled:":"="},template:['<div class="photo-control-container">','   <button class="btn btn-primary btn-lg">','       <span ng-if="sourceIndex == 1">',"           <span class=\"fa fa-camera\"></span> {{ 'Take Photo' | translate }}","       </span>",'       <span ng-if="sourceIndex == 2">',"           <span class=\"fa fa-picture-o\"></span> {{ 'Choose Photo' | translate }}}","       </span>","   </button>","</div>"].join(""),link:function(t,e){switch(t.imageData=null,t.quality=void 0===t.quality?75:t.quality,t.source){case"gallery":t.sourceIndex=2;break;case"camera":default:t.sourceIndex=1}t.destination=1,t.encodingType=1,e.find("button").on("click",function(){2===t.source?o.selectPhoto().then(function(e){t.loadThumbnail(e)}):o.takePhoto(t.quality).then(function(e){t.loadThumbnail(e)})}),t.loadThumbnail=function(e){t.$parent.$parent.updateStore(e),t.imageData=e},t.removePhoto=function(){t.imageData=null,t.$parent.$parent.updateStore(void 0)};var n=function(){"undefined"!=typeof t.imageUrl&&t.loadThumbnail(t.imageUrl)};document.addEventListener("deviceready",n),window.parent.document.addEventListener("deviceready",n)}}}]),angular.module("app.core").directive("takeBarcode",["$log","Plugin",function(t,e){return{restrict:"E",require:"ngModel",replace:!0,templateUrl:"components/mdDynamicForm/fields/md-barcode.tpl.html",link:function(o,n,r,a){o.codeType=r.codeType,n.on("click",function(){var n=e.getSource("barcodeScanner");n!==!1&&n.scan(function(t){var e="object"==typeof t?t.text:t;o.$parent.$parent.updateStore(e),a.$setViewValue(e)},function(e){a.$setValidity("error",!1),t.error(e)})}),o.clear=function(){o.$parent.$parent.updateStore(""),a.$setViewValue("")}}}}]),angular.module("app.core").directive("mdSignature",function(){return{restrict:"A",disabled:"=",require:"ngModel",link:function(t,e,o,n){var r=e[0],a=new window.SignaturePad(r);a.onEnd=function(){var t=a.toDataURL();n.$setViewValue(t)};var i=r.getContext("2d");if(window.devicePixelRatio){var s=r.width,c=r.height,l=s,u=c;r.setAttribute("width",s*window.devicePixelRatio),r.setAttribute("height",c*window.devicePixelRatio),e.css("width",l+"px"),e.css("height",u+"px"),i.scale(window.devicePixelRatio,window.devicePixelRatio)}void 0!=t.inputModel&&""!=t.inputModel&&a.fromDataURL(t.inputModel),t.$watch("inputModel",function(t,e){void 0==t?a.clear():t!=e&&a.fromDataURL(t)}),t.$watch("disabled",function(){t.disabled?a.off():a.on()})}}}),angular.module("app.core").directive("mdSelect",["$rootScope","StoreFactory","$parse","$filter","$timeout","OptionFactory","TranslationService",function(t,e,o,n,r,a,i){return{restrict:"A",require:"ngModel",link:function(o,s,c,l){var u=null,d=a.get(o.pageName+"."+o.name);o.options=void 0===d?o.$parent.options:d,angular.forEach(o.options,function(t){t.label=i.translate(t.label),t.hasOwnProperty("group")&&(t.group=i.translate(t.group))}),o.$parent.searchable===!0&&(u=$(s),r(function(){u.selectpicker(),u.change(function(){l.$setViewValue(u.val())})})),"undefined"!=typeof o.$parent.optionsfilter&&(o.selectionValid=function(){var t=o.$parent.inputModel,a=!1;angular.forEach(o.$parent.optionsfilter,function(t,o){var n=e.evaluate(t);"undefined"!=typeof n&&(a===!1&&(a={}),a[o]=n)});var i=!1;if(a!==!1){var s=n("filter")(o.$parent.options,a);angular.forEach(s,function(e){e.value==t&&(i=!0)})}i===!1&&(l.$setViewValue(""),null!==u&&r(function(){u.selectpicker("deselectAll").selectpicker("refresh")}))},o.calcFilter=function(){"undefined"!=typeof o.optionsfilter&&(o.filterString={},angular.forEach(o.optionsfilter,function(t,n){var r=e.evaluate(t);"undefined"!=typeof r&&(o.filterString[n]=r)}),null!==u&&r(function(){u.selectpicker("refresh")}))},t.$on("StoreChanged",function(){o.calcFilter(),o.selectionValid()}),o.calcFilter(),o.selectionValid())}}}]),angular.module("app.core").directive("mdCheckbox",["OptionFactory",function(t){return{restrict:"E",replace:!0,scope:{required:"=",options:"=",disabled:"=",name:"=",model:"=",iconSelected:"@",iconUnselected:"@",actions:"@",validators:"@"},templateUrl:"components/mdDynamicForm/fields/md-checkbox.tpl.html",require:"^form",link:function(e,o,n,r){var a=t.get(e.$parent.$parent.pageName+"."+e.$parent.name);e.options=void 0===a?e.$parent.options:a;var i=function(){var t=!0;e.required!==!0&&"true"!=e.required||(t=!1,angular.forEach(e.model,function(e){e===!0&&(t=!0)})),r[e.name].$setValidity("validationValid",t)};i(),e.makeSelection=function(t){e.disabled||(void 0==e.model&&(e.model={}),e.model[t]=!e.model[t],i())},e.getClasses=function(t){var o={};if(void 0!==t["icon-selected"]?o[t["icon-selected"]]=void 0!=e.model&&1==e.model[t.id]:o[e.iconSelected]=void 0!=e.model&&1==e.model[t.id],void 0!==t["icon-unselected"]?o[t["icon-unselected"]]=void 0===e.model||1!=e.model[t.id]:o[e.iconUnselected]=void 0==e.model||1!=e.model[t.id],1===Object.keys(o).length){var n=void 0!==o[e.iconUnselected]?e.iconUnselected:t["icon-unselected"];o[n]=!0}return o}}}}]),angular.module("app.core").directive("mdRadio",["OptionFactory",function(t){return{restrict:"E",replace:!0,scope:{required:"=",options:"=",disabled:"=",name:"=",model:"=",iconSelected:"@",iconUnselected:"@",validators:"@",actions:"@"},templateUrl:"components/mdDynamicForm/fields/md-radio.tpl.html",require:"^form",link:function(e,o,n,r){var a=t.get(e.$parent.$parent.pageName+"."+e.$parent.name);e.options=void 0===a?e.$parent.options:a;var i=function(){var t=!0;e.required!==!0&&"true"!=e.required||(t="undefined"!=typeof e.model),r[e.name].$setValidity("validationValid",t)};i(),e.makeSelection=function(t){e.disabled||(e.model=t,i())},e.getClasses=function(t){var o={};if(void 0!==t["icon-selected"]?o[t["icon-selected"]]=void 0!=e.model&&e.model==t.value:o[e.iconSelected]=void 0!=e.model&&e.model==t.value,void 0!==t["icon-unselected"]?o[t["icon-unselected"]]=void 0==e.model||e.model!=t.value:o[e.iconUnselected]=void 0==e.model||e.model!=t.value,1===Object.keys(o).length){var n=void 0!==o[e.iconUnselected]?e.iconUnselected:t["icon-unselected"];o[n]=!0}return o}}}}]),angular.module("app.core").directive("validation",["ValidationFactory","$log",function(ValidationFactory,$log){return{restrict:"A",require:"ngModel",link:function($scope,elem,attrs,ctrl){var validationObject=!1;"undefined"!=typeof attrs.validation&&""!=attrs.validation&&(validationObject=angular.fromJson(attrs.validation)),validationObject!==!1&&angular.forEach(validationObject,function(validation){if(void 0!=validation.name&&void 0!=validation.type){var validationFunction=null;if("custom"!=validation.type)validationFunction=function(t,e){return ValidationFactory.isValid(e,validation,$scope.pageName,attrs.name)};else try{var code="validationFunction = "+validation.content;eval(code)}catch(e){$log.error("Could not eval validation function code.")}null!==validationFunction&&(ctrl.$validators[validation.name]=validationFunction)}}),$scope.$on("StoreChanged",function(){angular.forEach(validationObject,function(t){void 0!=t.name&&"regex"!=t.type&&ctrl.$setValidity(t.name,ctrl.$validators[t.name](null,ctrl.$viewValue))})})}}}]),angular.module("app.core").directive("validEmail",function(){return{restrict:"A",require:"ngModel",link:function(t,e,o,n){var r=function(t){return n.$setValidity("email",/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)),t};n.$formatters.push(r),n.$parsers.push(r)}}}),angular.module("app.core").directive("mdGroup",["$parse","StoreFactory",function(t,e){return{scope:{name:"@",repeat:"=",classes:"@"},restrict:"E",replace:!1,transclude:!0,template:['<div id="{{name}}" class="{{ classes }}">','   <ng-transclude class="group-contents"></ng-transclude>','   <div ng-if="repeat" class="group-controls">','       <button class="btn btn-success" ng-disabled="form.$invalid" ng-click="addItem()">',"           <span class=\"icon icon-plus-circle2\"></span> {{ 'Add' | translate }}","       </button>","   </div>","</div>"].join(""),require:["^pageInfo","?form","?^mdContextProvider"],link:function(o,n,r,a){var i=a[0],s=a[1],c=a[2],l=null,u=null,d=i.name;c&&(l=c.getContextItemData("$data")),o.repeat&&s&&(o.form=s,u="repeater."+d+"."+o.name),o.addItem=function(){if(o.repeat){var r={},a=n.find("md-question");angular.forEach(a,function(o){var a=angular.element(o).attr("name"),i=angular.element(o).attr("originalname"),s=angular.element(o).attr("modellocationoverride"),c=s||i||a,u=null!==l?"$data.$item."+c:"$store.pages."+d+"."+c,p=e.getForElement(u,n),g=t(c);g.assign(r,p),e.setForElement(u,void 0,n)}),null!==u&&e.push(u,r)}}}}}]),angular.module("app.core").directive("mdList",["$rootScope","$interpolate","$parse","$filter","$routeParams","StoreFactory","ActionFactory","ListFactory",function($rootScope,$interpolate,$parse,$filter,$routeParams,StoreFactory,ActionFactory,ListFactory){return{scope:{name:"@",actions:"="},restrict:"E",replace:!1,transclude:!0,templateUrl:"components/area/mdList/mdList.tpl.html",require:["?^mdContextProvider","?^scrollableItem","^pageInfo"],link:function($scope,$element,$attrs,$ctrls){function bindFromModel(){var t=StoreFactory.getForElement(model,$element);void 0!==t&&(listDataInitialized&&angular.equals(t,oldListData)||(clearTimeout(actionTimeout),clearTimeout(scrollTimeout),listDataInitialized&&(actionTimeout=setTimeout(function(){ActionFactory.triggerEvent("data-changed",actions,{oldItems:oldListData,newItems:t})},500)),autoScroll&&scrollToBottom(),bindData(t),oldListData=angular.copy(t)))}function scrollToBottom(){scrollTimeout=scrollableItemCtrl?setTimeout(function(){scrollableItemCtrl.scrollToBottom()},0):setTimeout(function(){var t=$element[0].querySelector(".main.scrollable");t.scrollTop=t.scrollHeight},0)}function attrEquals(t,e){return($attrs[t]||"").toLowerCase()===e}function prepareListState(){var t="",e="",o=null,n=orderProperty,r=orderReverse,a=1,i=getStateFromStore();i&&(search&&i.search&&(internalSearch&&"internal"===i.search.mode?(t=i.search.criteria,e=i.search.criteria):allowExternalSearch&&i.search.mode&&(o={simple:"simple"===i.search.mode,criteria:i.search.criteria})),i.order&&i.order.property&&(n=i.order.property,r="desc"===i.order.direction),pagination&&i.pagination&&(a=i&&pagination&&i.pagination.currentPage),angular.extend($scope.search,{inputValue:t,term:e,external:o}),angular.extend($scope.order,{property:n,reverse:r})),recalculatePagination(a,!0)}function bindData(t){angular.isArray(t)||(t=[]),$scope.listData=t,pagination&&($scope.pagination.totalPages=ListFactory.calculateNumberOfPages(t.length,$scope.pagination.limit),recalculatePagination($scope.pagination.currentPage||1,!0)),listDataInitialized=!0,setStateInStore()}function recalculatePagination(t,e){if(pagination){if(t<1&&(t=1),t>$scope.pagination.totalPages&&(t=$scope.pagination.totalPages),!e&&t===$scope.pagination.currentPage)return;$scope.pagination.currentPage=t,$scope.pagination.start=(t-1)*$scope.pagination.limit,$scope.pagination.visible=pagination&&$scope.pagination.totalPages>(paginationShowOnePage?0:1),$scope.pagination.visiblePages=ListFactory.calculateVisiblePages(t,$scope.pagination.totalPages,paginationPagesToDisplay)}else $scope.pagination.currentPage=1,$scope.pagination.start=0,$scope.pagination.limit=void 0;setStateInStore()}function getStateFromStore(){return ListFactory.getListState(pageName,listName)}function setStateInStore(){listDataInitialized&&(mdContextProviderCtrl&&mdContextProviderCtrl.isRepeaterContextProvider()||(clearTimeout(storeUpdateDebounce),storeUpdateDebounce=setTimeout(function(){ListFactory.setListStateFromListScope(pageName,listName,$scope)},250)))}var mdContextProviderCtrl=$ctrls[0],scrollableItemCtrl=$ctrls[1],pageInfoCtrl=$ctrls[2],pageName=pageInfoCtrl.name,listName=$scope.name,listDataInitialized=!1,listDataFiltered=!1,storeUpdateDebounce,staticData=attrEquals("datasource","static"),dynamicData=attrEquals("datasource","dynamic"),autoScroll=attrEquals("autoscroll","true"),data=JSON.parse($attrs.data||"[]"),model=$attrs.model,search=!attrEquals("search",""),internalSearch=search&&attrEquals("search","internal"),allowExternalSearch=search&&attrEquals("search","external"),searchOnType=internalSearch&&attrEquals("searchmode","type"),searchDebounce=searchOnType&&parseInt($attrs.searchdebounce)||0,searchOnButton=internalSearch&&attrEquals("searchmode","button"),customSearch=internalSearch&&attrEquals("searchwithin","custom"),searchFunctionJs=customSearch&&$attrs.searchfunction||"",searchFunctionExternalJs=allowExternalSearch&&$attrs.searchfunctionexternal||"",customSearchFunction=null,criticalSearchError=!1,order=attrEquals("order","true"),orderProperty=order?$attrs.orderproperty||"":void 0,orderReverse=order&&attrEquals("orderdirection","desc"),pagination=attrEquals("pagination","true"),paginationItemsPerPage=pagination&&parseInt($attrs.paginationitemsperpage)||void 0,paginationShowAbove=pagination&&attrEquals("paginationabove","true"),paginationShowBelow=pagination&&attrEquals("paginationbelow","true"),paginationShowOnePage=pagination&&attrEquals("paginationshowonepage","true"),paginationPagesToDisplay=pagination&&parseInt($attrs.paginationpagestodisplay)||void 0,showFirstLast=pagination&&attrEquals("paginationfirstlast","true"),showPrevNext=pagination&&attrEquals("paginationprevnext","true"),actions=angular.copy($scope.actions);if($scope.search={enabled:search,internal:internalSearch,allowExternal:allowExternalSearch,debounce:searchDebounce,showButton:searchOnButton,buttonIcon:$attrs.searchbuttonicon,buttonLabel:$attrs.searchbuttonlabel,inputValue:"",term:"",external:null},$scope.order={property:orderProperty,reverse:orderReverse},$scope.pagination={enabled:pagination,showAbove:paginationShowAbove,showBelow:paginationShowBelow,showFirstLast:showFirstLast,showPrevNext:showPrevNext,firstPageIcon:$attrs.paginationfirsticon,prevPageIcon:$attrs.paginationprevicon,nextPageIcon:$attrs.paginationnexticon,lastPageIcon:$attrs.paginationlasticon,firstPageLabel:$attrs.paginationfirstlabel,prevPageLabel:$attrs.paginationprevlabel,nextPageLabel:$attrs.paginationnextlabel,lastPageLabel:$attrs.paginationlastlabel,limit:paginationItemsPerPage,currentPage:1,start:0},prepareListState(),$scope.classes=$attrs.classes,$scope.listItemClasses=$attrs.listItemClasses,"bootstrap"===$attrs.theme&&($scope.classes=(($scope.classes||"")+" list-group").trim(),$scope.listItemClasses=(($scope.listItemClasses||"")+" list-group-item").trim()),$scope.itemTrackFn=function(t,e){return JSON.stringify(t)+"_"+e+"_"+$scope.listData.length},$scope.listOrder=function(t){return void 0===$scope.order.property?"":""===$scope.order.property?t:$parse($scope.order.property)(t)},$scope.filter=function(item){if(criticalSearchError)return!1;if(!search)return!0;if(internalSearch){if(!$scope.search.term)return!0;if(!customSearch)return $filter("filter")([item],$scope.search.term).length>0;if(null===customSearchFunction){if(!searchFunctionJs)throw criticalSearchError=!0,'List "'+$scope.name+'" on page "'+pageInfoCtrl.name+'" does not have a custom search function defined for built-in search.';eval("customSearchFunction = "+searchFunctionJs)}if("function"==typeof customSearchFunction)return customSearchFunction($scope.search.term||"",item)}else if(allowExternalSearch&&$scope.search.external){if($scope.search.external.simple)return $filter("filter")([item],$scope.search.external.criteria).length>0;if(null===customSearchFunction){if(!searchFunctionExternalJs)throw criticalSearchError=!0,'List "'+$scope.name+'" on page "'+pageInfoCtrl.name+'" does not have a custom search function defined for search actions.';eval("customSearchFunction = "+searchFunctionExternalJs)}if("function"==typeof customSearchFunction)return customSearchFunction($scope.search.external.criteria||{},item)}return!0},$scope.performSearch=function(t){internalSearch&&(searchOnButton||t===!0)&&ListFactory.setListSearchState(pageName,listName,"internal",$scope.search.inputValue,!0)},$scope.goToPage=function(t){pagination&&ListFactory.setListPaginationState(pageName,listName,t)},$scope.itemCssClass=function(t,e){if(!$scope.listItemClasses)return"";if($scope.listItemClasses.indexOf("\\{")===-1)return $scope.listItemClasses;var o=$scope.listItemClasses.replace(/\\{/g,"{"),n={$data:{$item:t,$index:e,$items:$scope.listData}};return $interpolate(o)(n)},$scope.$watch("filteredListData.length",function(t,e){if(!listDataFiltered||t!==e){$scope.pagination.totalPages=ListFactory.calculateNumberOfPages(t,$scope.pagination.limit);var o=Math.min($scope.pagination.currentPage,$scope.pagination.totalPages);recalculatePagination(o,!0),listDataFiltered=!0}}),searchOnType&&$scope.$watch("search.inputValue",function(){$scope.performSearch(!0)}),autoScroll&&scrollToBottom(),staticData===!0&&data)bindData(data);else if(dynamicData===!0&&model){var actionTimeout=null,scrollTimeout=null,oldListData=null;bindFromModel(),$scope.$on("StoreChanged",bindFromModel)}var unsubscribe=$rootScope.$on("UpdateList_"+pageInfoCtrl.name+"_"+$scope.name,prepareListState);$scope.$on("$destory",function(){unsubscribe()})},controller:["$scope",function(t){var e=this;e.getListScope=function(){return t}}]}}]),angular.module("app.core").directive("mdListItem",["ActionFactory",function(t){return{restrict:"A",require:["^mdList","mdContextProvider"],translude:!0,link:function(e,o,n,r,a){var i=r[0],s=r[1];a(function(e,n){s.applyContextItemData(n,"$data");var r=i.getListScope(),a=r.actions;o.on("click",function(e){if((!e.srcElement||["A","INPUT","BUTTON","TEXTAREA","SELECT"].indexOf(e.srcElement.tagName)===-1)&&a&&a.length){var o=s.getContextItemData();t.triggerEvent("click",a,o)}}),o.on("$destroy",function(){n.$destroy()}),o.append(e)})}}}]),angular.module("app.core").directive("mdTitle",["TranslationService","AssetFactory",function(t,e){return{restrict:"E",compile:function(o,n){var r=o.html();r=t.translate(r),r=e.rewriteAssetPaths(r);var a=(n.classes||"").trim(),i='<div class="'+a+'">'+r+"</div>";o.html(i)}}}]),angular.module("app.core").directive("mdQuestion",["$http","$rootScope","$parse","$filter","$timeout","SchemaService","$templateCache","$log","StoreFactory","ActionFactory","TranslationService",function(t,e,o,n,r,a,i,s,c,l,u){return{scope:{name:"@",itemType:"@",id:"@",label:"@",placeholder:"@",message:"@","default":"@",validators:"=",show:"@",disabled:"@",required:"@",model:"@",description:"@","extends":"=",leftIcon:"@",rightIcon:"@",classes:"@",options:"=",optionsfilter:"=",searchable:"=",maxlength:"@",multiline:"=",debounce:"=",content:"@",max:"@",min:"@",dual:"=",step:"@",actions:"=",optionSource:"@",labelProperty:"@",valueProperty:"@",groupProperty:"@",onText:"@",offText:"@",vertical:"=",iconSelected:"@",iconUnselected:"@",displayValue:"=",decimals:"@"},restrict:"E",template:["<div id=\"{{ name }}\" ng-if=\"show\" class=\"form-group item-{{itemType}} {{classes}}\" ng-class=\"{'has-error': (form[name].$invalid === true && showValidations()), 'has-success': (form[name].$invalid === false && showValidations()), 'no-error': (type == 'static')}\">",'   <label class="control-label">','       {{label | translate}} <span class="required-asterix fa fa-star" ng-if="required == \'true\' && form[name].$invalid === true"></span>',"   </label>",'   <p class="description" ng-if="description">{{description | translate}}</p>','   <div ng-include="templateUrl"></div>','   <div ng-show="form[name].$invalid === true && showValidations()" ng-messages="form[name].$error">','       <div class="form-input-error" ng-message="required">','           <span class="fa fa-times"></span> {{message | translate}}',"       </div>",'       <div class="form-input-error" ng-message="email">','           <span class="fa fa-times"></span> {{defaultMessage | translate}}',"       </div>",'       <div class="form-input-error" ng-repeat="validation in validators" ng-message-exp="validation.name">','           <span class="fa fa-times"></span> {{validation.message | translate}}',"       </div>","   </div>","</div>"].join(""),require:["^pageInfo","^form","?^mdContextProvider"],link:function(t,e,o,n){function r(t){if("number"==typeof t||"boolean"==typeof t)return!1;if("undefined"==typeof t||null===t)return!0;if("undefined"!=typeof t.length)return 0==t.length;var e=0;for(var o in t)t.hasOwnProperty(o)&&e++;return 0==e}function a(t){if(!o)return!1;if(!o.mdExpressions)return!1;var e=JSON.parse(o.mdExpressions);return e.hasOwnProperty(t)}var i=n[0],s=n[1],d=n[2];t.setTemplate=function(){switch(t.itemType){case"select":t.templateUrl="components/mdDynamicForm/fields/templates/select.tpl.html",t.defaultMessage="Please make a selection";break;case"radio":t.templateUrl="components/mdDynamicForm/fields/templates/radio.tpl.html",t.defaultMessage="Please make a selection";break;case"checkbox":t.templateUrl="components/mdDynamicForm/fields/templates/checkbox.tpl.html",t.defaultMessage="Please make a selection";break;case"date":t.templateUrl="components/mdDynamicForm/fields/templates/date.tpl.html",t.defaultMessage="Please provide a valid date";break;case"time":t.templateUrl="components/mdDynamicForm/fields/templates/time.tpl.html",t.defaultMessage="Please provide a valid time";break;case"datetime":t.templateUrl="components/mdDynamicForm/fields/templates/datetime.tpl.html",t.defaultMessage="Please provide a valid date & time";break;case"number":t.templateUrl="components/mdDynamicForm/fields/templates/number.tpl.html",t.defaultMessage="Please provide a number";break;case"email":t.templateUrl="components/mdDynamicForm/fields/templates/email.tpl.html",t.defaultMessage="Please provide a valid email address";break;case"slider":t.dual?t.templateUrl="components/mdDynamicForm/fields/templates/range-slider.tpl.html":t.templateUrl="components/mdDynamicForm/fields/templates/slider.tpl.html",t.defaultMessage="Please choose a value";break;case"rating":t.templateUrl="components/mdDynamicForm/fields/templates/rating.tpl.html",t.defaultMessage="Please provide a rating";break;case"barcode":t.templateUrl="components/mdDynamicForm/fields/templates/barcode.tpl.html",t.defaultMessage="Please capture the barcode";break;case"qrcode":t.templateUrl="components/mdDynamicForm/fields/templates/qrcode.tpl.html",t.defaultMessage="Please capture the QR code";break;case"signature":t.templateUrl="components/mdDynamicForm/fields/templates/signature.tpl.html",t.defaultMessage="Please provide your signature";break;case"switch":t.templateUrl="components/mdDynamicForm/fields/templates/switch.tpl.html",t.defaultMessage="Please make a selection";break;case"password":t.templateUrl="components/mdDynamicForm/fields/templates/password.tpl.html",t.defaultMessage="This is a required field";break;case"text":t.multi=void 0!=t.multiline&&t.multiline,t.templateUrl="components/mdDynamicForm/fields/templates/text.tpl.html",t.defaultMessage="This is a required field";break;default:void 0!==t["extends"]&&(t.type=t["extends"].type,t.itemType=t["extends"]["item-type"],t.setTemplate())}},t.message="undefined"!=typeof t.message?t.message:t.defaultMessage,t.form=s,t.pageName=i?i.name:"";var p=d?"$data.$item.":"$store.pages."+t.pageName+".",g=o.modellocationoverride||o.originalname||t.name;if(t.key=p+g,t.setTemplate(),t.inputModel=c.getForElement(t.key,e),t.updateStore=function(o){c.setForElement(t.key,o,e)},t.$watch("inputModel",function(e,o){if(e!==o){t.updateStore(e);var n=["checkbox","radio","rating","smiley","thumbs","signature","barcode","record-audio"];n.indexOf(t.itemType)!==-1&&l.triggerEvent("change",t.actions)}},!0),void 0===t.inputModel&&void 0!==t["default"]&&!a("default")){var m=u.translate(t["default"]);t.updateStore(m),t.inputModel=m}t.disabled=void 0!=t.disabled&&t.disabled,t.required=void 0!=t.required&&t.required,t.show=void 0==t.show||t.show,t.search=void 0!=t.search&&t.search,t.evalModel=function(){void 0!=t.model&&(t.inputModel=c.evaluateForElement(t.model,e))},t.userInput=function(){void 0!==s[t.name]&&s[t.name].$setTouched(!0)},t.evalModel(),t.$on("StoreChanged",function(){t.evalModel()}),t.$watch(function(){return c.getForElement(t.key,e)},function(e){t.inputModel=e,void 0!==t.form[t.name]&&(t.form[t.name].$pristine=!1)},!0),"select"==t.itemType&&void 0!=t.optionSource&&t.$watchCollection(function(){return c.getForElement(t.optionSource,e)},function(e){var o=[];void 0!=t.labelProperty||void 0!=t.valueProperty||void 0!=t.groupValue?angular.forEach(e,function(e){var n={value:void 0!=t.valueProperty?e[t.valueProperty]:e.value,label:void 0!=t.labelProperty?e[t.labelProperty]:e.label,group:void 0!=t.groupProperty?e[t.groupProperty]:e.group};o.push(n)}):o=e,t.options=o}),t.showValidations=function(){return!r(t.inputModel)||t.form[t.name].$pristine===!1}}}}]),angular.module("app.core").directive("numberFormat",["$filter",function(t){return{restrict:"A",require:"ngModel",link:function(e,o,n,r){var a=parseInt(n.decimalPlaces);isNaN(a)===!1&&(r.$formatters.push(function(e){var o=parseFloat(e);if(isNaN(o)!==!0)return void 0!==e&&(e=t("number")(e,a),e=parseFloat(e.replace(",",""))),r.$setViewValue(e),e}),r.$parsers.push(function(t){if(void 0!==t&&null!==t){var e=t.toString(),o=e.split(".");if(void 0!==o[1]&&o[1].length>a)return r.$setViewValue(r.$modelValue),r.$render(),r.$modelValue}return t}))}}}]),angular.module("app.core").directive("mdComponent",["$rootScope","$timeout","ComponentFactory",function(t,e,o){return{restrict:"E",scope:{instanceId:"@"},require:["?^mdContextProvider"],link:function(e,n,r,a){var i=a[0],s=null,c=!1,l=o.getComponentById(e.instanceId);if(null!==l){var u=l.element;if(i){var d=i.getContextItemData();if(s={$data:d},void 0!==d.$index){u=l.element.cloneNode(!0);var p=u.getAttribute("id");u.setAttribute("id",p+"_"+d.$index),c=!0}}var g=n.children().length>0;if(g){var m=Array.prototype.slice.call(u.childNodes);l.processed!==!0&&(l.dynamicChildrenStartIndex=m.length);for(var f=l.dynamicChildrenStartIndex;f<m.length;f++)u.removeChild(m[f]);angular.forEach(n.children(),function(t){var e=n[0].removeChild(t);u.appendChild(e)})}o.setUpComponentAttributes(l,u,s,!0),n.replaceWith(u),t.$on("StoreChanged",function(){o.setUpComponentAttributes(l,u,s,!1)}),(c||l.processed!==!0)&&(setTimeout(function(){o.setUpComponentBindings(l,e)},0),l.processed=!0)}}}}]),angular.module("app.core").directive("mdChart",["$compile","StoreFactory",function(t,e){return{restrict:"E",scope:{title:"@","default":"=",model:"@",classes:"@"},link:function(o,n,r){var a={"line-chart":"Line","bar-chart":"Bar","doughnut-chart":"Doughnut","pie-chart":"Pie","polar-area-chart":"PolarArea","radar-chart":"Radar"};if(o.chartType=a[r.itemType],o.model){var i=e.getForElement(o.model,n);i&&(o.data=i),o.$watch(function(){return e.getForElement(o.model,n)},function(t,e){t!==e&&(o.data=t)})}else o.data=o["default"];var s=['<div class="chart-block {{ classes }}">','   <h4 ng-if="title">{{ title | translate }}</h4>','   <div class="md-chart-container">','       <canvas chart="{{ chartType }}" data="data" responsive="true"></canvas>',"   </div>","</div>"].join(""),c=t(s)(o);n.replaceWith(c)}}}]),angular.module("app.core").directive("mdGoogleMap",["GoogleMapService","StoreFactory","ActionFactory","DirectiveBridge","$log",function(t,e,o,n,r){return{restrict:"E",replace:!0,scope:{actions:"=",lat:"@",lng:"@",zoom:"@",maptype:"@",zoomcontrol:"@",streetviewcontrol:"@",maptypecontrol:"@",fullscreencontrol:"@",rotatecontrol:"@",scalecontrol:"@",traffic:"=",transit:"=",bicycling:"=",classes:"@",name:"@","static":"=",data:"@",model:"@",styles:"@",expose:"@",exposedproperty:"@",draggable:"@",scrollwheel:"@",doubleclick:"@"},template:'<div class="google-map {{classes}} " id="{{name}}" style="position: relative;" ></div>',controller:["$scope","$element","SchemaHelper",function(a,i,s){function c(){var e=s.schema.settings.mapping?s.schema.settings.mapping.googleMapsAPIKey:void 0;t.requestGoogleMapsScript(e).then(function(e){var o=!1;if(!e&&google&&google.maps){var n=new google.maps.Map(i[0],{zoom:parseInt(a.zoom),center:{lat:parseFloat(a.lat),lng:parseFloat(a.lng)},mapTypeId:a.maptype,zoomControl:"true"==a.zoomcontrol,streetViewControl:"true"==a.streetviewcontrol,mapTypeControl:"true"==a.maptypecontrol,fullscreenControl:"true"==a.fullscreencontrol,rotateControl:"true"==a.rotatecontrol,scaleControl:"true"==a.scalecontrol,draggable:"true"==a.draggable,scrollwheel:"true"==a.scrollwheel,disableDoubleClickZoom:"true"!=a.doubleclick,
styles:JSON.parse(a.styles||"[]")});L.map=n,l(L),y(L.map,a.actions),t.registerResize(n),i.on("$destroy",function(){t.unregisterResize(n)}),google.maps.event.addListener(n,"tilesloaded",function(){o=!0,google.maps.event.clearListeners(n,"tilesloaded"),u(i[0]),google.maps.event.trigger(n,"resize")}),setTimeout(function(){o||d(i[0])},5e3),a.traffic&&(L.trafficLayer=L.trafficLayer||new google.maps.TrafficLayer,L.trafficLayer.setMap(L.map)),a.transit&&(L.transitLayer=L.transitLayer||new google.maps.TransitLayer,L.transitLayer.setMap(L.map)),a.bicycling&&(L.bicyclingLayer=L.bicyclingLayer||new google.maps.BicyclingLayer,L.bicyclingLayer.setMap(L.map)),"true"==a["static"]?p(JSON.parse(a.data||"[]")):a.model&&g(),"true"==a.expose&&(window.cti.maps||(window.cti.maps={}),window.cti.maps[a.exposedproperty]=L.map)}else d(i[0])})}function l(t){var e=i.controller("pageInfo").name;n.registerItemApi(e,a.name,{setMapLayers:function(e,o){var n;switch(e){case"traffic":n=t.trafficLayer||new google.maps.TrafficLayer,t.trafficLayer=n;break;case"transit":n=t.transitLayer||new google.maps.TransitLayer,t.transitLayer=n;break;case"bicycling":n=t.bicyclingLayer||new google.maps.BicyclingLayer,t.bicyclingLayer=n;break;default:return!1}return o?n.setMap(t.map):n.setMap(null),!0},setMapTypeId:function(e){t.map.setMapTypeId(e)},setLocation:function(e,o,n,r){r?t.map.panTo({lat:e,lng:o}):t.map.setCenter({lat:e,lng:o}),n&&t.map.setZoom(n)},setControls:function(e,o){switch(e){case"zoom":t.map.setOptions({zoomControl:o});break;case"maptype":t.map.setOptions({mapTypeControl:o});break;case"scale":t.map.setOptions({scaleControl:o});break;case"streetview":t.map.setOptions({streetViewControl:o});break;case"rotate":t.map.setOptions({rotateControl:o});break;case"fullscreen":t.map.setOptions({fullscreenControl:o});break;default:return!1}return!0}})}function u(t){var e=t.querySelector("div.google-map-failed");e&&e.parentNode.removeChild(e)}function d(t){var e=document.createElement("div");e.classList.add("google-map-failed"),e.innerHTML="<p>Map has failed to load, click to reload</p>",e.addEventListener("click",function(){c()}),t.appendChild(e)}function p(t){for(;L.overlays[0];)L.overlays.pop().setMap(null);t&&"[object Array]"===Object.prototype.toString.call(t)&&$.each(t,function(t,e){switch(e.type){case void 0:break;case"marker":C(e);break;case"polygon":S(e);break;case"polyline":v(e);break;case"heatmap":h(e);break;case"directions":m(e)}})}function g(){a.$watchCollection(function(){return e.get(a.model)},function(t){p(t)})}function m(t){var e={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{data:{type:"object",properties:{origin:{type:"string"},destination:{type:"string"},travelMode:{type:"string"},renderer:{type:"object",properties:{preserveViewport:{type:"boolean"},draggable:{type:"boolean"}},required:[],additionalProperties:!1},drivingOptions:{type:"object",properties:{departureTime:{type:"string",format:"date-time"}},required:[]}},required:["origin","destination"]},type:{type:"string",pattern:"^directions$"}},required:["data","type"]};if(w(t,e)){var o=angular.copy(t.data);delete o.renderer;var n=angular.copy(t.data.renderer||{});n.map=L.map,o.drivingOptions&&angular.isString(o.drivingOptions.departureTime)&&(o.drivingOptions.departureTime=new Date(o.drivingOptions.departureTime)),o.drivingOptions&&angular.isString(o.drivingOptions.arrivalTime)&&(o.drivingOptions.arrivalTime=new Date(o.drivingOptions.arrivalTime)),o.transitOptions&&angular.isString(o.transitOptions.departureTime)&&(o.transitOptions.departureTime=new Date(o.transitOptions.departureTime)),o.transitOptions&&angular.isString(o.transitOptions.arrivalTime)&&(o.transitOptions.arrivalTime=new Date(o.transitOptions.arrivalTime));var r=new google.maps.DirectionsRenderer(n);L.overlays.push(r);var a=new google.maps.DirectionsService;a.route(o,function(t,e){"OK"==e&&r.setDirections(t)})}}function f(t){var e={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{type:{type:"string",pattern:"^marker$"},data:{type:"object",properties:{position:{type:"object",properties:{lat:{type:"number",minimum:-90,maximum:90},lng:{type:"number",minimum:-180,maximum:180}},required:["lat","lng"],additionalProperties:!1},icon:{type:"string"},infoWindow:{type:"object",properties:{showOn:{type:"string"},content:{type:"string"}},required:["showOn","content"],additionalProperties:!1},clickable:{type:"boolean"},crossOnDrag:{type:"boolean"},cursor:{type:"string"},draggable:{type:"boolean"},label:{type:"string"},opacity:{type:"number",minimum:0,maximum:1},optimized:{type:"boolean"},place:{type:"object",properties:{location:{type:"object",properties:{lat:{type:"number",minimum:-90,maximum:90},lng:{type:"number",minimum:-180,maximum:180}}},placeId:{type:"string"},query:{type:"string"}},required:["location"],additionalProperties:!1},title:{type:"string"},visible:{type:"boolean"},zIndex:{type:"number"}},required:["position"]}},required:["type","data"]};if(!w(t,e))return null;var o=angular.copy(t.data);delete o.infoWindow;var n=new google.maps.Marker(o);if(t.data.infoWindow){var r=new google.maps.InfoWindow({content:t.data.infoWindow.content});"click"===t.data.infoWindow.showOn&&n.addListener("click",function(){r.open(L.map,n)}),"load"===t.data.infoWindow.showOn&&r.open(L.map,n)}return n}function C(t){var e=f(t);null!=e&&(e.setMap(L.map),L.overlays.push(e))}function h(t){var e={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{type:{type:"string",pattern:"^heatmap$"},data:{type:"array",items:{type:"object",properties:{lat:{type:"number",minimum:-90,maximum:90},lng:{type:"number",minimum:-180,maximum:180},weight:{type:"number",minimum:0}},required:["lat","lng"],additionalProperties:!1}},dissipating:{type:"boolean"},gradient:{type:"array",items:{type:"string"}},maxIntensity:{type:"number"},opacity:{type:"number"},radius:{type:"number"}},required:["type","data"],additionalProperties:!1};if(w(t,e)){var o=angular.copy(t.data),n=[];for(var r in o)n.push({location:new google.maps.LatLng(o[r].lat,o[r].lng),weight:o[r].weight||1});var a=new google.maps.visualization.HeatmapLayer({data:n});a.setMap(L.map),L.overlays.push(a)}}function S(t){var e={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{type:{type:"string",pattern:"^polygon$"},data:{type:"object",properties:{paths:{type:"array",items:{type:"object",properties:{lat:{type:"number",minimum:-90,maximum:90},lng:{type:"number",minimum:-180,maximum:180}},required:["lat","lng"],additionalProperties:!1}},strokeColor:{type:"string"},strokeOpacity:{type:"number"},strokeWeight:{type:"number"},fillColor:{type:"string"},fillOpacity:{type:"number"},clickable:{type:"boolean"},draggable:{type:"boolean"},editable:{type:"boolean"},geodesic:{type:"boolean"},visible:{type:"boolean"},zIndex:{type:"number"}},required:["paths"]}},required:["type","data"]};if(w(t,e)){var o=new google.maps.Polygon(t.data);o.setMap(L.map),L.overlays.push(o)}}function v(t){var e={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{type:{type:"string",pattern:"^polyline$"},data:{type:"object",properties:{path:{type:"array",items:{type:"object",properties:{lat:{type:"number",minimum:-90,maximum:90},lng:{type:"number",minimum:-180,maximum:180}},required:["lat","lng"],additionalProperties:!1}},strokeColor:{type:"string"},geodesic:{type:"boolean"},strokeOpacity:{type:"number"},clickable:{"type:":"boolean"},draggable:{"type:":"boolean"},editable:{"type:":"boolean"},strokeWeight:{"type:":"number"},visible:{"type:":"boolean"},zIndex:{"type:":"number"}},required:["paths"]}},required:["type","data"],additionalProperties:!1};if(w(t,e)){var o=new google.maps.Polyline(t.data);o.setMap(L.map),L.overlays.push(o)}}function w(t,e){var o=window.tv4.validate(t,e);return o||r.error("Google maps item validation failed: "+window.tv4.error.message+" "+window.tv4.error.dataPath),o}function y(t,e){t.addListener("center_changed",function(){o.triggerEvent("map-moved",e,{lat:t.getCenter().lat(),lng:t.getCenter().lng()})}),t.addListener("click",function(t){o.triggerEvent("map-clicked",e,{lat:t.latLng.lat(),lng:t.latLng.lng()})}),t.addListener("mousemove",function(t){o.triggerEvent("map-mouse-move",e,{lat:t.latLng.lat(),lng:t.latLng.lng()})}),t.addListener("rightclick",function(t){o.triggerEvent("map-right-clicked",e,{lat:t.latLng.lat(),lng:t.latLng.lng()})}),t.addListener("zoom_changed",function(){o.triggerEvent("map-zoom-changed",e,{zoom:t.getZoom()})}),t.addListener("tilesloaded",function(){o.triggerEvent("map-tiles-loaded",e,{})}),t.addListener("idle",function(){o.triggerEvent("map-idle",e,{})})}var L=this;L.overlays=[],L.trafficLayer=null,L.bicyclingLayer=null,L.trafficLayer=null,L.transitLayer=null,c()}]}}]),angular.module("app.core").directive("mdCustom",["$http","$templateCache","$log",function(t,e,o){return{scope:{name:"@",url:"@",data:"="},restrict:"E",template:'<div id="{{name}}" ng-if="show" class="form-group"><div ng-include="templateUrl"></div></div>',link:function(n,r,a){n.show=!0,"undefined"!=typeof a.url&&(void 0===e.get(a.url)&&t.get(a.url).then(function(t){e.put(a.url,t.data)},function(){o.error('Could not load specified template URL "'+a.url+'": '),a.show=n.show=!1}),n.templateUrl=a.url)}}}]),angular.module("app.core").directive("mdSlider",["$timeout",function(t){return{restrict:"E",scope:{required:"=",name:"=",model:"=",min:"@",max:"@",step:"@",validators:"@",disabled:"=",actions:"="},template:['<slider ng-model="modelValue" ','        ng-disabled="disabled" ','        validation="{{validators}}" ','        md-actions="{{actions}}" ','        ng-swipe-left="cancelSwipe($event)" ','        ng-swipe-right="cancelSwipe($event)" ','        floor="{{min}}" ','        ceiling="{{max}}" ','        step="{{step}}">',"</slider>",'<input type="hidden" ng-model="model" md-actions="{{actions}}" name="{{name}}" ng-required="required" />'].join(""),require:"^form",link:function(e,o,n,r){angular.isObject(e.model)&&(e.modelValue=e.model.lower||0);var a=function(t,n){var a=!0;e.required!==!0&&"true"!==e.required.toLowerCase()||(a=e.model>0),r[e.name].$setValidity("validationValid",a),t!==n&&o.find("input").triggerHandler("change")};e.cancelSwipe=function(){return e.disabled},e.$watch("model",a),t(function(){e.modelValue=e.model,e.$watch("modelValue",function(){e.model=e.modelValue})},0)}}}]).directive("mdRangeSlider",["$timeout","TranslationService",function(t,e){return{restrict:"E",scope:{required:"=",name:"=",model:"=",min:"@",max:"@",step:"@",validators:"@",disabled:"=",actions:"="},template:['<slider ng-model="modelLower" ','        ng-model-range="modelUpper" ','        ng-disabled="disabled" ','        validation="{{validators}}" ','        md-actions="{{actions}}" ','        ng-swipe-left="cancelSwipe($event)" ','        ng-swipe-right="cancelSwipe($event)" ','        translate-range-fn="translateRange(low, high)" ','        floor="{{min}}" ','        ceiling="{{max}}" ','        step="{{step}}">',"</slider>",'<input type="hidden" ng-model="model" md-actions="{{actions}}" name="{{name}}" ng-required="required" />'].join(""),require:"^form",link:function(o,n,r,a){function i(t,e){var r=!0;o.required!==!0&&"true"!==o.required.toLowerCase()||(r=o.model&&(o.model.lower>0||o.model.upper>0)),a[o.name].$setValidity("validationValid",r),angular.equals(t,e)||n.find("input").triggerHandler("change")}"string"==typeof o.model&&(isNaN(o.model)?o.model=JSON.parse(o.model):o.model={lower:0,upper:parseInt(o.model,10)}),o.translateRange=function(t,o){return e.translate("Range")+": "+(o-t)},o.cancelSwipe=function(){return o.disabled},o.$watch("model",i,!0),t(function(){o.model&&(o.modelLower=o.model.lower||0,o.modelUpper=o.model.upper||0),o.$watchGroup(["modelLower","modelUpper"],function(){o.model={lower:o.modelLower,upper:o.modelUpper}})},0)}}}]),angular.module("app.core").directive("mdButton",["$compile","TranslationService",function(t,e){return{restrict:"E",replace:!0,transclude:!0,scope:{id:"@",theme:"@",actions:"=",classes:"@",leftIcon:"@",rightIcon:"@"},template:['<div class="md-button-container">','  <a id="{{id}}" class="btn {{ class }} {{ classes }}" md-actions="{{:: actions }}" ng-disabled="disabled"></a>',"</div>"].join(""),link:function(o,n,r,a,i){o["class"]=void 0===o.theme||"default"===o.theme?"btn-default":o.theme;var s=n.find("a");i(function(r,a){var i=r.html()||"";i=e.translate(i),o.leftIcon&&(i='<span class="fa '+o.leftIcon+'"></span> '+i),o.rightIcon&&(i=i+' <span class="fa '+o.rightIcon+'"></span>');var c=angular.element("<div/>").html(i),l=t(c)(a).contents();s.empty(),s.append(l),n.on("$destroy",function(){a.$destroy()})})}}}]),angular.module("app.core").directive("mdActions",["$timeout","ActionFactory",function(t,e){return{restrict:"A",require:"?^mdContextProvider",link:function(o,n,r,a){function i(t){var e={};return l?e=t.detail||{}:(e={type:t.type,target:t.target,detail:t.detail,keyCode:t.keyCode,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey},t.target&&t.target.hasOwnProperty("value")&&(e.value=t.target.value),a&&a.applyContextItemData(e)),e}function s(o,n,r){var a=i(o);t.cancel(c[o.type]),c[o.type]=t(function(){e.triggerEvent(n,r,a,o)},100)}var c={},l="true"===r.mdActionsEventDetailOnly,u=[];if("from-schema"===r.mdActions?o._schema&&o._schema.actions&&(u=o._schema.actions):u=JSON.parse(r.mdActions||"[]"),u.length){var d=[];u.forEach(function(t){if(t.event&&d.indexOf(t.event)===-1){switch(t.event){case"enter":n.bind("keydown",function(t){var e=t.keyCode||t.which;13===e&&s(t,"enter",u)});break;default:n.bind(t.event,function(e){s(e,t.event,u)})}d.push(t.event)}})}}}}]),angular.module("app.core").factory("InlineCSS",["$rootScope","$injector","AssetFactory",function(t,e,o){function n(t){if(t){var n=e.get("SchemaService");(n.isPreview()||n.isLivePreview())&&(t=o.rewriteAssetPaths(t)),a+=t}}function r(){return a}var a="";return{add:n,get:r}}]),angular.module("app.core").directive("themes",["InlineCSS","$rootScope",function(t,e){return{restrict:"A",link:function(){e.$on("ConfigComplete",function(){var e=t.get();if(e){var o=document.createElement("style");o.textContent=e,document.head.appendChild(o)}})}}}]),angular.module("app.core").directive("mdAttributes",["StoreFactory","$timeout",function(t,e){return{restrict:"A",scope:{mdAttributes:"="},link:function(o,n,r){var a={},i={};r.mdExpressions&&(i=angular.fromJson(r.mdExpressions)),void 0!=o.mdAttributes&&angular.forEach(o.mdAttributes,function(t,e){"string"==typeof t&&t.indexOf("{{")>-1&&(a[e]=t)}),o.setAttributes=function(){angular.forEach(a,function(e,o){r.$set(o,t.parse(e))})},o.evalExpressions=function(){Object.keys(i).length>0&&angular.forEach(i,function(e,o){switch(o){case"show":var r=t.evaluate(e);r===!0?n.removeClass("ng-hide"):n.addClass("ng-hide")}})},o.$on("StoreChanged",function(){o.setAttributes(),o.evalExpressions()}),e(function(){o.setAttributes(),o.evalExpressions()})}}}]),angular.module("app.core").directive("mdExpressions",["$timeout","StoreFactory","TranslationService",function(t,e,o){return{restrict:"A",require:"^form",link:function(n,r,a,i){function s(t){angular.forEach(u,function(o,a){if(!angular.isArray(t)||t.indexOf(a)!==-1){o.indexOf("$form.invalid")!==-1&&(o=o.replace(/\$form\.invalid/g,i.$invalid));var s=e.evaluate(o.toString(),n),u=l.hasOwnProperty(a),p=l[a];u&&angular.equals(s,p)||(l[a]=s,c(a,s,r,d))}})}function c(t,e,n,r){switch(t){case"show":e===!0?n.removeClass("ng-hide"):n.addClass("ng-hide");break;case"disabled":r&&(r.disabled=e);break;case"label":r&&(r.originalLabel||(r.originalLabel=r.label),e?r.label=e:r.originalLabel&&(r.label=r.originalLabel));break;case"default":if(r&&void 0===r.inputModel)if("select"===r.itemType){for(var a=0;a<r.options.length;a++)if(r.options[a].value===e){r.inputModel=r.options[a];break}}else r.inputModel=o.translate(e)}}if(a.mdExpressions){var l={},u=JSON.parse(a.mdExpressions);if(u&&Object.keys(u).length){for(var d=null,p=a.id,g=n.$$childHead;g;g=g.$$nextSibling)if(g.id===p){d=g;break}s(["show","disabled"]),t(function(){s(["disabled","label","default"]),n.$watch(function(){return i.$invalid},function(){s()}),n.$on("StoreChanged",function(){s()})})}}}}}]),angular.module("app.core").directive("mdDomReady",["$interpolate",function(t){return{restrict:"A",priority:Number.MIN_SAFE_INTEGER,link:function(e,o,n){function r(t){t.forEach(function(t){e.$eval(t)})}var a=n.mdDomReady.split(";"),i=!1,s=!1;0!==n.mdDomReady.trim().length&&(n.waitForInterpolation&&e.$eval(n.waitForInterpolation)&&(i=!0),n.readyCheck&&(s=!0),i||s?requestAnimationFrame(function c(){var l=!1,u=!1;l=!(i&&o.text().indexOf(t.startSymbol())>=0),u=!(s&&!e.$eval(n.readyCheck)),l&&u?r(a):requestAnimationFrame(c)}):r(a))}}}]),angular.module("app.core").directive("openDocument",["electron","Plugin","StoreFactory",function(t,e,o){return{restrict:"E",scope:{classes:"@"},template:['<button class="btn btn-primary {{classes}}" ng-disabled="!document" ng-click="open()">',"   <span class=\"icon\" ng-class=\"{'icon-file-pdf': (type == 'pdf'), 'icon-file-word': (type == 'worddocument')}\"></span> Open Document","</button>"].join(""),link:function(n,r,a){n.type=a.itemType,n.document=void 0,void 0===a["static"]||"true"===a["static"]?n.document=a.path:(n.document=o.getForElement(a.model,r),n.$watch(function(){return o.getForElement(a.model,r)},function(t){n.document=t},!0)),n.open=function(){var o=e.getSource("fileopener");o!==!1?o.openFile(function(){},function(){},n.document):t.shell?t.shell.openItem(n.document):window.open(n.document,"_blank")},document.addEventListener("media-deleted",function(t){t.detail.location===n.document&&(n.document=void 0)})}}}]),angular.module("app.core").directive("imageViewer",["StoreFactory","ActionFactory",function(t,e){return{restrict:"E",templateUrl:"components/mdDynamicForm/imageViewer/imageViewer.tpl.html",scope:{src:"@",model:"@",actions:"=",classes:"@",scaleImage:"=",maxWidth:"@",maxHeight:"@"},link:function(o,n){function r(t){angular.isArray(t)?o.image=t[t.length-1]:o.image=t}if(o.multiple=!1,o.image=void 0,void 0!==o.model){var a=t.getForElement(o.model,n);r(a),o.$watch(function(){return t.getForElement(o.model,n)},function(t){r(t)},!0)}else void 0!==o.src&&""!=o.src&&(o.image=o.src);o.open=function(){e.triggerEvent("click",o.actions)},document.addEventListener("media-deleted",function(t){t.detail.location===o.image&&(o.image=void 0)})}}}]),angular.module("app.core").directive("mediaPlayer",["StoreFactory",function(t){return{restrict:"E",templateUrl:"components/mdDynamicForm/mediaPlayer/mediaPlayer.tpl.html",scope:{src:"@",model:"@",multiple:"@",actions:"=",classes:"@",itemType:"@",name:"@"},link:function(e,o){function n(t){angular.isArray(t)?e.src=t.length>0?t[t.length-1]:"":e.src=void 0!==t?t:""}if(void 0===e.src&&void 0!==e.model){e.$watch(function(){return t.getForElement(e.model,o)},function(t){n(t)},!0);var r=t.getForElement(e.model,o);n(r),e.fileType="video"==e.itemType?"video/mp4":""}}}}]).filter("trusted",["$sce",function(t){return function(e){if(void 0!==e&&"string"==typeof e)return t.trustAsResourceUrl(e)}}]),angular.module("app.core").directive("audioPlayer",["$log","AudioPlayer","ActionFactory","$rootScope",function(t,e,o,n){return{restrict:"E",templateUrl:"components/mdDynamicForm/mediaPlayer/audioPlayer.tpl.html",scope:{src:"@",actions:"="},controllerAs:"ap",controller:["$scope","$element",function(t,r){function a(){e.play(t.src,function(t){n.$$phase?l(t):n.$apply(function(){l(t)})})}function i(){e.pause()}function s(){e.unpause()}function c(){e.stop()}function l(t){t.state!==g.info.state&&d(t.state),g.info.currentTime=t.currentTime,g.info.position=t.position,g.info.state=t.state;var e=parseInt(Math.ceil(g.info.position/g.info.duration*100).toFixed(0));e<=100&&(f.style.width=e+"%"),100===e&&c()}function u(){g.info=angular.copy(m),f.style.width="0%"}function d(t){switch(t){case"playing":p("play-audio");break;case"paused":p("pause-audio");break;case"stopped":p("stop-audio")}}function p(e){o.triggerEvent(e,t.actions)}var g=this,m={state:null,totalTime:"0:00",duration:0,currentTime:"0:00",position:0};g.info=angular.copy(m);var f=r[0].getElementsByClassName("filler")[0];g.getInfo=function(t){e.getDuration(t,function(t,e){g.info.duration=t,g.info.totalTime=e,g.info.state="stopped"})},g.getInfo(t.src),g.button=function(){if(null!==g.info.state)switch(g.info.state){case"running":i();break;case"paused":s();break;case"stopped":case"released":a()}},t.$watch("src",function(t,e){t!==e&&(""!=t?g.getInfo(t):u())}),document.addEventListener("media-deleted",function(e){e.detail.location===t.src&&(c(),u())})}]}}]),angular.module("app.core").directive("recordAudio",["StoreFactory","$interval","$log","ActionFactory","$timeout","Plugin","$q","FileSystem",function(t,e,o,n,r,a,i,s){return{restrict:"E",templateUrl:"components/mdDynamicForm/fields/record-audio.tpl.html",scope:{name:"@",mediaid:"@",label:"@",actions:"=",classes:"@",smallrecorder:"=",multiple:"="},link:function(r,c){function l(){var t=i.defer(),e=new Date,n=e.getTime(),r=n+".m4a";return s.getStorageLocation().then(function(e){0===e.indexOf("file://")&&(e=e.replace("file://",""));var o=e+r;t.resolve(o)})["catch"](function(t){o.error(t)}),t.promise}function u(t){var e=Math.floor(t/60),o=Math.floor(t%60);return""+e+":"+(o<10?"0":"")+o}function d(){o.debug("Start recording..."),f().then(function(){var t={SampleRate:44100,NumberOfChannels:1};r.media.startRecordWithCompression(null,t),n.triggerEvent("recording-started",r.actions),null!==h&&e.cancel(h);var o=null;h=e(function(){if(r.state===C.MEDIA_RUNNING){null===o&&(o=Date.now());var t=Date.now(),e=o-t,n=e/1e3,a=Math.abs(n);r.currentTime=u(a)}})})}function p(){null!==r.media&&(r.media.stopRecord(),e.cancel(h))}function g(){o.debug("Finished recording.");var e=t.getForElement(v,c);null!==e&&void 0!==e&&angular.isArray(e)||(e=[]),r.multiple?e.push(r.media.src):e[0]=r.media.src,o.debug("Saving filename:",r.media.src),t.set(v,e),r.isPopulated=!0,n.triggerEvent("recording-finished",r.actions)}function m(t){o.debug("Initialise new media object..."),r.media=new C(t,function(){},function(t){o.error(t)},function(t){o.debug("State changing",r.state,t),r.$apply(function(){switch(r.state=t,r.state){case C.MEDIA_STOPPED:g(),r.media.release()}})})}function f(){var t=i.defer();return o.debug("Get file name..."),l().then(function(e){o.debug("Created filename:",e),m(e),t.resolve()}),t.promise}r.media=null;var C=a.getSource("Media"),h=null,S=r.$parent.$parent.page||r.$parent.$parent.$parent.page;r.pageName=S.name;var v="$store.media."+r.mediaid+".audio",w=t.getForElement(v,c);null!==w&&void 0!==w&&angular.isArray(w)&&w.length>0&&(r.isPopulated=!0),r.currentTime=u(0),r.uiState=!1,r.recordButton=function(){switch(r.state){case C.MEDIA_RUNNING:p();break;case C.MEDIA_PAUSED:case C.MEDIA_STOPPED:case C.MEDIA_NONE:default:d()}};var y=function(){r.isPopulated=!1,r.currentTime=u(0)};r.$watch(function(){return t.getForElement(v,c)},function(t,e){t!==e&&(void 0===t||angular.isArray(t)&&0===t.length)&&y()}),document.addEventListener("media-deleted",function(e){if(r.multiple!==!0){var o=t.getForElement(v,c)[0];(void 0!==e.detail&&e.detail.location===o||void 0===o)&&y()}}),document.addEventListener("stop-all-recording",function(){p()})}}}]),angular.module("app.core").directive("mediaGallery",["StoreFactory","MediaViewerDisplay","ActionFactory","$rootScope",function(t,e,o,n){return{restrict:"E",templateUrl:"components/mdDynamicForm/imageViewer/imageViewer.tpl.html",scope:{sources:"=",actions:"=",classes:"@"},link:function(r,a){function i(){r.files=[];var e=[];r.staticFiles.forEach(function(t){r.files.push(t)}),r.models.forEach(function(o){var n=t.getForElement(o,a);angular.isArray(n)?n.forEach(function(t){void 0!==t&&e.push(t)}):void 0!==n&&e.push(n)}),e.sort(function(t,e){var o=t.split("/"),n=e.split("/"),r=parseInt(o[o.length-1].split(".")[0],10),a=parseInt(n[n.length-1].split(".")[0],10);return r>a?1:r<a?-1:0}),e.forEach(function(t){r.files.push(t)})}r.multiple=!0,r.files=[],r.models=[],r.staticFiles=[];for(var s=0;s<r.sources.length;s++){var c=r.sources[s];if(c.indexOf("{")>-1){var l=c.replace(/\{|}/g,"");r.models.push(l)}else r.staticFiles.push(n.assetDir+c)}void 0!==r.models&&r.models.length>0&&r.models.forEach(function(e){r.$watch(function(){return t.getForElement(e,a)},function(){i()},!0)}),i(),r.getFileType=function(t){if(void 0===t)return"none";var e=t.split("."),o=e[e.length-1].toLowerCase();return"aac"===o||"m4a"===o||"mp3"===o||"wav"===o?"audio":"image"},r.getViewableFilePath=function(t){if(void 0===t)return"";var e=t.split("/");return e[e.length-1]},r.close=function(){var t=document.querySelector("#mediaViewerDisplayUi");document.body.removeChild(t)},r.open=function(t){var n=r.files[t];void 0!==n&&e.open(n,r.actions).then(function(e){var n=r.actions[e];void 0!==n&&(n.data.index=t,n.data.model=r.model,o.triggerEvent(null,[n]).then(function(){r.close()})["catch"](function(){r.close()}))})["catch"](function(){r.close()})},document.addEventListener("media-deleted",function(t){var e=r.files.indexOf(t.detail.location);e!==-1&&(r.files=r.files.some(function(e){return e!==t.detail.location}))})}}}]),angular.module("app.core").factory("MediaViewerDisplay",["$q","$compile","$rootScope",function(t,e,o){function n(n,r){var a=t.defer(),i=['<div id="mediaViewerDisplayUi" class="image-viewer-display-container">','   <div class="image-frame">','       <img ng-if="fileType === \'image\'" ng-src="{{src}}" />','       <audio-player ng-if="fileType === \'audio\'" class="col-md-4 col-xs-12" item-type="{{fileType}}" src="{{src | trusted}}"></audio-player>',"   </div>",'   <div class="image-footer">','       <a ng-repeat="action in actions track by $index" href="javascript:void(0)" class="{{action.data.theme || \'\'}}" ng-click="callAction($index)">',"           <span ng-if=\"action.data['left-icon']\" class=\"fa {{action.data['left-icon']}}\"></span> {{action.data.label}} ","           <span ng-if=\"action.data['right-icon']\" class=\"fa {{action.data['right-icon']}}\"></span>","       </a>",'       <a href="javascript:void(0)" ng-click="close()" class="primary">','           <span class="fa fa-close"></span> Close',"       </a>","   </div>","</div>"].join(""),s=o.$new(!0);s.src=n,s.actions=r;var c=s.src.split("."),l=c[c.length-1];s.fileType="aac"===l||"m4a"===l||"mp3"===l?"audio":"image",s.close=function(){a.reject()},s.callAction=function(t){a.resolve(t)};var u=angular.element(e(i)(s))[0];return document.body.appendChild(u),a.promise}var r={open:n};return r}]),angular.module("app.core").directive("mdThumbnail",["$log","Plugin","Platform",function(t,e,o){return{restrict:"A",scope:{mdThumbnail:"@"},link:function(n,r,a){n.genThumb=function(){var i,s;try{i=parseInt(a.mdThumbnailMaxwidth),s=parseInt(a.mdThumbnailMaxheight)}catch(c){t.debug("Failed to parse width and height from thumbnail")}void 0===i&&(i=200),void 0===s&&(s=200);var l=n.mdThumbnail.toLowerCase().indexOf(".svg")>-1;if(void 0===n.mdThumbnail||""==n.mdThumbnail||l)l&&(r.attr("width",i),r.attr("height",s),r.attr("src",n.mdThumbnail));else{var u=e.getSource("thumbnail"),d="winphone"===o.getName();u!==!1?u.makeThumbnail(function(t){r.attr("src",t)},function(e){t.error(e)},n.mdThumbnail,i,s,100):(d&&"/"!==n.mdThumbnail[0]&&n.mdThumbnail.length>0&&(n.mdThumbnail="/"+n.mdThumbnail),r.attr("src",n.mdThumbnail))}},n.genThumb(),n.$watch("mdThumbnail",function(t,e){t!=e&&n.genThumb()})}}}]),angular.module("app.core").directive("scrollableItem",function(){return{restrict:"A",scope:!1,controller:["$scope","$element",function(t,e){return{scrollToBottom:function(){e[0].scrollTop=e[0].scrollHeight}}}]}}),angular.module("app.core").directive("schemaSource",["SchemaHelper",function(t){return{restrict:"A",link:function(e,o,n){var r=n.schemaSource;if(r){var a=t.getSchemaByAutoId(r)[0];void 0!==a&&(e._schema=a)}}}}]),angular.module("app.core").directive("mdOnEnter",function(){return function(t,e,o){e.bind("keydown keypress",function(e){13===e.which&&(t.$apply(function(){t.$eval(o.mdOnEnter)}),e.preventDefault())})}}),angular.module("app.core").factory("DirectiveBridge",function(){function t(t,e,r){var i=o(t,e);if(i){var s=a.indexOf(i);a[s].api=r}else{var c=n(t,e);a.push({id:c,api:r})}}function e(t,e){var n=o(t,e);return n&&n.api||null}function o(t,e){var o=n(t,e);return r(o)}function n(t,e){return"page_"+t+"_item_"+e}function r(t){for(var e=0;e<a.length;e++)if(a[e].id===t)return a[e];return null}var a=[];return{registerItemApi:t,getItemApi:e}}),angular.module("app.core").factory("Utilities",function(){return{uuid:function(){var t=Date.now();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)})},escapeForRegExp:function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}}),angular.module("app.core").factory("MimeTypes",function(){function t(t){return t.indexOf(".")!=-1&&(t=t.split(".").pop().toLowerCase()),i.hasOwnProperty(t)?i[t].mimeType:null}function e(t){return t.indexOf(".")!=-1&&(t=t.split(".").pop().toLowerCase()),i.hasOwnProperty(t)?i[t].mediaType:null}function o(t){var e=[];for(var o in i)i.hasOwnProperty(o)&&i[o].mimeType.toLowerCase()===(t||"").toLowerCase()&&e.push(o);return e}function n(t){var e=[];for(var o in i)i.hasOwnProperty(o)&&i[o].mimeType.toLowerCase()===(t||"").toLowerCase()&&e.push({extension:o,preferred:i[o].preferred||!1});if(1==e.length)return e[0].extension;if(e.length>1){for(var n=0;n<e.length;n++)if(e[n].preferred===!0)return e[n].extension;return e[0].extension}return null}function r(t){for(var e in i)if(i.hasOwnProperty(e)&&i[e].mimeType.toLowerCase()===(t||"").toLowerCase())return i[e].mediaType;return null}var a={IMAGE:"image",AUDIO:"audio",VIDEO:"video"},i={a:{mimeType:"application/octet-stream",mediaType:null},ai:{mimeType:"application/postscript",mediaType:null},aif:{mimeType:"audio/x-aiff",mediaType:a.AUDIO},aifc:{mimeType:"audio/x-aiff",mediaType:a.AUDIO},aiff:{mimeType:"audio/x-aiff",mediaType:a.AUDIO},au:{mimeType:"audio/basic",mediaType:a.AUDIO},avi:{mimeType:"video/x-msvideo",mediaType:null},bat:{mimeType:"text/plain",mediaType:null},bin:{mimeType:"application/octet-stream",mediaType:null},bmp:{mimeType:"image/x-ms-bmp",mediaType:a.IMAGE},c:{mimeType:"text/plain",mediaType:null},cdf:{mimeType:"application/x-cdf",mediaType:null},csh:{mimeType:"application/x-csh",mediaType:null},css:{mimeType:"text/css",mediaType:null},dll:{mimeType:"application/octet-stream",mediaType:null},doc:{mimeType:"application/msword",mediaType:null},docm:{mimeType:"application/vnd.ms-word.document.macroEnabled.12",mediaType:null},docx:{mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",mediaType:null},dot:{mimeType:"application/msword",mediaType:null},dotx:{mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",mediaType:null},dvi:{mimeType:"application/x-dvi",mediaType:null},eml:{mimeType:"message/rfc822",mediaType:null},eps:{mimeType:"application/postscript",mediaType:null},etx:{mimeType:"text/x-setext",mediaType:null},exe:{mimeType:"application/octet-stream",mediaType:null},gif:{mimeType:"image/gif",mediaType:a.IMAGE},gtar:{mimeType:"application/x-gtar",mediaType:null},h:{mimeType:"text/plain",mediaType:null},hdf:{mimeType:"application/x-hdf",mediaType:null},htm:{mimeType:"text/html",mediaType:null},html:{mimeType:"text/html",mediaType:null},jpe:{mimeType:"image/jpe",mediaType:a.IMAGE},jpeg:{mimeType:"image/jpeg",mediaType:a.IMAGE},jpg:{mimeType:"image/jpeg",mediaType:a.IMAGE,preferred:!0},js:{mimeType:"application/javascript",mediaType:null},json:{mimeType:"application/json",mediaType:null},ksh:{mimeType:"text/plain",mediaType:null},latex:{mimeType:"application/x-latex",mediaType:null},m1v:{mimeType:"video/mpeg",mediaType:a.VIDEO},m4a:{mimeType:"audio/mpeg",mediaType:a.AUDIO,preferred:!0},man:{mimeType:"application/x-troff-man",mediaType:null
},me:{mimeType:"application/x-troff-me",mediaType:null},mht:{mimeType:"message/rfc822",mediaType:null},mhtml:{mimeType:"message/rfc822",mediaType:null},mif:{mimeType:"application/x-mif",mediaType:null},mov:{mimeType:"video/quicktime",mediaType:a.VIDEO},movie:{mimeType:"video/x-sgi-movie",mediaType:a.VIDEO},mp2:{mimeType:"audio/mpeg",mediaType:a.AUDIO},mp3:{mimeType:"audio/mp3",mediaType:a.AUDIO},mp4:{mimeType:"video/mp4",mediaType:a.VIDEO},mpa:{mimeType:"video/mpeg",mediaType:a.VIDEO},mpe:{mimeType:"video/mpeg",mediaType:a.VIDEO},mpeg:{mimeType:"video/mpeg",mediaType:a.VIDEO},mpg:{mimeType:"video/mpeg",mediaType:a.VIDEO,preferred:!0},ms:{mimeType:"application/x-troff-ms",mediaType:null},nc:{mimeType:"application/x-netcdf",mediaType:null},nws:{mimeType:"message/rfc822",mediaType:null},o:{mimeType:"application/octet-stream",mediaType:null},obj:{mimeType:"application/octet-stream",mediaType:null},oda:{mimeType:"application/oda",mediaType:null},otf:{mimeType:"application/x-font-opentype",mediaType:null},pbm:{mimeType:"image/x-portable-bitmap",mediaType:a.IMAGE},pdf:{mimeType:"application/pdf",mediaType:null},pfx:{mimeType:"application/x-pkcs12",mediaType:null},pgm:{mimeType:"image/x-portable-graymap",mediaType:a.IMAGE},png:{mimeType:"image/png",mediaType:a.IMAGE},pnm:{mimeType:"image/x-portable-anymap",mediaType:a.IMAGE},po:{mimeType:"text/x-gettext-translation",mediaType:null},pot:{mimeType:"application/vnd.ms-powerpoint",mediaType:null},ppa:{mimeType:"application/vnd.ms-powerpoint",mediaType:null},ppm:{mimeType:"image/x-portable-pixmap",mediaType:a.IMAGE},pps:{mimeType:"application/vnd.ms-powerpoint",mediaType:null},ppt:{mimeType:"application/vnd.ms-powerpoint",mediaType:null},pptm:{mimeType:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",mediaType:null},pptx:{mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation",mediaType:null},ps:{mimeType:"application/postscript",mediaType:null},pwz:{mimeType:"application/vnd.ms-powerpoint",mediaType:null},py:{mimeType:"text/x-python",mediaType:null},pyc:{mimeType:"application/x-python-code",mediaType:null},pyo:{mimeType:"application/x-python-code",mediaType:null},qt:{mimeType:"video/quicktime",mediaType:a.VIDEO},ra:{mimeType:"audio/x-pn-realaudio",mediaType:a.AUDIO},ram:{mimeType:"application/x-pn-realaudio",mediaType:a.AUDIO},ras:{mimeType:"image/x-cmu-raster",mediaType:a.IMAGE},rdf:{mimeType:"application/xml",mediaType:null},rgb:{mimeType:"image/x-rgb",mediaType:a.IMAGE},roff:{mimeType:"application/x-troff",mediaType:null},rtx:{mimeType:"text/richtext",mediaType:null},sgm:{mimeType:"text/x-sgml",mediaType:null},sgml:{mimeType:"text/x-sgml",mediaType:null},sh:{mimeType:"application/x-sh",mediaType:null},shar:{mimeType:"application/x-shar",mediaType:null},snd:{mimeType:"audio/basic",mediaType:a.AUDIO},so:{mimeType:"application/octet-stream",mediaType:null},src:{mimeType:"application/x-wais-source",mediaType:null},svg:{mimeType:"image/svg+xml",mediaType:a.IMAGE},swf:{mimeType:"application/x-shockwave-flash",mediaType:null},t:{mimeType:"application/x-troff",mediaType:null},tar:{mimeType:"application/x-tar",mediaType:null},tcl:{mimeType:"application/x-tcl",mediaType:null},tex:{mimeType:"application/x-tex",mediaType:null},texi:{mimeType:"application/x-texinfo",mediaType:null},texinfo:{mimeType:"application/x-texinfo",mediaType:null},tif:{mimeType:"image/tiff",mediaType:a.IMAGE},tiff:{mimeType:"image/tiff",mediaType:a.IMAGE},tr:{mimeType:"application/x-troff",mediaType:null},tsv:{mimeType:"text/tab-separated-values",mediaType:null},ttf:{mimeType:"application/x-font-truetype",mediaType:null},txt:{mimeType:"text/plain",mediaType:null,preferred:!0},ustar:{mimeType:"application/x-ustar",mediaType:null},vcf:{mimeType:"text/x-vcard",mediaType:null},wav:{mimeType:"audio/x-wav",mediaType:a.AUDIO},woff:{mimeType:"application/font-woff",mediaType:null,preferred:!0},woff2:{mimeType:"application/font-woff",mediaType:null},wsdl:{mimeType:"application/xml",mediaType:null},xbm:{mimeType:"image/x-xbitmap",mediaType:a.IMAGE},xlb:{mimeType:"application/vnd.ms-excel",mediaType:null},xls:{mimeType:"application/vnd.ms-excel",mediaType:null},xlsm:{mimeType:"application/vnd.ms-excel.sheet.macroEnabled.12",mediaType:null},xlsx:{mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",mediaType:null},xml:{mimeType:"text/xml",mediaType:null},xpdl:{mimeType:"application/xml",mediaType:null},xpm:{mimeType:"image/x-xpixmap",mediaType:a.IMAGE},xsl:{mimeType:"application/xml",mediaType:null},xwd:{mimeType:"image/x-xwindowdump",mediaType:a.IMAGE},zip:{mimeType:"application/zip",mediaType:null}};return{MEDIA_TYPES:a,mimeTypeFromExtension:t,mediaTypeFromExtension:e,extensionsFromMimeType:o,extensionFromMimeType:n,mediaTypeFromMimeType:r}}),angular.module("app.core").factory("StudioStorage",["$q",function(t){function e(e){var o=t.defer(),a=null!==e?e:"com.commontime.infinity.studio";return n=new PouchDB(a,{revs_limit:10}),n.allDocs({include_docs:!0}).then(function(t){angular.forEach(t.rows,function(t){t.doc&&t.doc._id&&(r[t.doc._id]=t.doc.data)}),o.resolve()}),o.promise}function o(t){if(!t)throw new Error("key cannot be empty");return r[t]||null}var n=null,r={};return{init:e,getData:o}}]),angular.module("app.core").factory("SchemaHelper",["$filter",function(t){function e(t){return n("name",t,s.schema.config)[0]}function o(e){return t("filter")(s.schema.config,{"item-type":e})}function n(t,e,o,r){o=void 0!==o?o:s.schema;var a=[];for(var i in o)o.hasOwnProperty(i)&&("object"!=typeof o[i]||r!==!0&&"actions"==i?i==t&&o[t]==e&&a.push(o):a=a.concat(n(t,e,o[i],r)));return a}function r(t,e,o){var n=JSON.search(t,'//*[type="'+e+'"]');return n.filter(function(t){return!o||t["item-type"]===o})}function a(){return s.schema.language||{defaultLocale:"en_GB",initialLanguage:"",useDeviceLocale:!0}}function i(t){return n("_auto_id_",t)}var s={ITEM_AUTO_ID_PROPERTY:"_auto_id_",SCHEMA_CONTEXT_PREVIEW:1,SCHEMA_CONTEXT_LIVE_PREVIEW:2,schema:{},getSchemaConfigItemByName:e,getSchemaConfigItemsByItemType:o,search:n,getItems:r,getLanguageSettings:a,getSchemaByAutoId:i};return s}]),angular.module("app.core").factory("SchemaService",["$injector","$http","$q","$rootScope","$log","$templateCache","$location","StoreFactory","PluginFactory","$timeout","localStorageService","OptionFactory","ApiFactory","UrlFactory","Timer","InlineCSS","VariableFactory","$base64","ActionFactory","RouterConfig","Router","Auth","SchemaHelper","IBeaconFactory","GeofenceFactory","XmppFactory","MessageQueueFactory","Notification","Platform","DataflowFactory","AzureAppServicesFactory","RestFactory","ActionflowFactory","AssetFactory","LoadingStatus","ComponentFactory","StudioStorage","$interval","Utilities","WcUtils","ListFactory","LoggingFactory",function(t,e,o,n,r,a,i,s,c,l,u,d,p,g,m,f,C,h,S,v,w,y,L,A,b,j,$,x,T,E,k,F,I,P,_,D,O,N,M,R,U,q){function V(t){var e=!1;return angular.forEach(mt.content,function(o){"page"==o.type&&o.name==t&&(e=o)}),e}function G(){return yt}function B(){var t=2;return"undefined"!=typeof mt.animation&&(t="off"!==mt.animation?"full"==mt.animation?2:1:0),t}function H(t){var n=o.defer();return e.get(t).then(function(t){mt=L.schema=t.data,n.resolve(mt)})["catch"](n.reject),n.promise}function z(t){var e=o.defer();return t.settings&&t.settings.auth===!0?y.authenticate().then(e.resolve,e.reject):e.resolve(),e.promise}function J(){w.addRoute("/error",{template:['<div class="error-container">','   <div class="alert alert-danger">','       <span class="fa fa-exclamation-triangle"></span> {{ $root.errorMessage || "An unknown error has occurred" }}',"   </div>",'   <div class="controls">','       <a href="#" class="btn md-btn btn-primary" onclick="location.reload();">','           <span class="fa fa-refresh"></span> Reload',"       </a>","   </div>","</div>"].join("")})}function K(){var e=o.defer();return n.appName=mt.name,n.cancelable=mt.cancelable===!0,n.basedir=void 0==mt.basedir?"":mt.basedir,n.assetDir=void 0!==mt.assetDir?mt.assetDir:"user-assets/",n.componentDir=void 0!==mt.componentDir?mt.componentDir:"components/",v.set("id",n.appName),r.debug("Initializing store..."),s.init(n.appName,mt).then(function(){if(T.init(),r.debug("Store initialized."),q.init(n.appName),void 0!==mt.settings){if(void 0!==mt.settings.theme&&""!=mt.settings.theme){var o=angular.element(document.querySelector("head")),a=angular.element('<link rel="stylesheet" href="'+n.basedir+"assets/css/themes/"+mt.settings.theme+'.css" />');o.append(a)}void 0!==mt.settings.router&&(void 0!==mt.settings.router.mode&&v.set("mode",mt.settings.router.mode),void 0!==mt.settings.router.animation&&v.set("animation",mt.settings.router.animation)),void 0!==mt.settings["push-notifications"]&&x.init(mt),void 0!==mt.settings["message-queue"]&&$.init(mt),_.disabled=mt.settings["loading-message"]===!1}void 0!==mt.dataflows&&mt.dataflows.length>0&&mt.dataflows.forEach(function(t){E.init(t.name,t.content)}),void 0!==mt.actionflows&&mt.actionflows.length>0&&mt.actionflows.forEach(function(t){I.init(t.name,t.content)}),d.init(n.appName),z(mt).then(function(){if(void 0!=mt.config){var o=[];angular.forEach(mt.config,function(t){if(void 0!=t.name)switch(t["item-type"]){case"onload":o.push(t);break;case"api":void 0!==t.url&&p.init(t);break;case"offline-api":void 0!==t.url&&(F.init(),F.registerOfflineApi(t));break;case"xmpp":void 0!==t.endpoint&&j.init(t);break;case"plugin":c.init(t);break;case"css":f.add(t.content);break;case"variable":C.init(t);break;case"function":s.setFunction(t);break;case"js-asset":P.injectJsAsset(t.fileName);break;case"css-asset":P.injectCssAsset(t.fileName);break;case"url":g.init(t);break;case"beacon":A.init(),A.addBeacon(t);break;case"geofence":if(b.isValidGeofenceObject(t)){var e="com.commontime.infinity."+mt.name;b.init(mt.name,e),b.register(t)}break;case"timer":void 0==window.cti.__timers&&(window.cti.__timers={}),window.cti.__timers[t.name]=new m(t.name,t["timer-type"],t.time,t.actions);break;case"azure-app-services":k.init(t)}}),o.length>0&&o.forEach(function(t){S.triggerEvent("onload",t.actions)})}U.initializeListsForApp(mt),t.get("ctDataGrid").initializeDataGridsForApp(mt),mt.components&&mt.components.length&&(mt.components.forEach(function(t){switch(t.type){case"web-component":var e=document.createElement("script"),o=n.componentDir+t.files.transpiled;e.setAttribute("src",o),document.getElementsByTagName("body")[0].appendChild(e)}}),D.registerComponentInstances(mt)),n.$emit("ConfigComplete");var r={};n.$on("onPageContentLoaded",function(t,e){void 0!==r[e.id]&&S.triggerEvent(null,r[e.id])});var a=angular.copy(mt);angular.forEach(a.pages,function(t){var e=angular.element("<div></div>"),o=[];void 0!==t.config&&t.config.length>0&&t.config.forEach(function(e){"onload"==e["item-type"]&&void 0!==e.actions&&e.actions.length>0&&e.actions.forEach(function(t){o.push(t)}),"onloaded"==e["item-type"]&&void 0!==e.actions&&e.actions.length>0&&(void 0===r[t.name]&&(r[t.name]=[]),r[t.name]=r[t.name].concat(e.actions))});var n=Z(e,t.content),a=L.search("type","go-to-page",t.content,!0),i=[];a.length>0&&angular.forEach(a,function(t){t.data&&t.data.name&&i.push(t.data.name)});var s=t.settings&&t.settings.auth===!0;w.addRoute("/"+t.name,{template:n[0].innerHTML,possibilities:i,actions:o,start:t.start,auth:s})}),J(),e.resolve(!0)})["catch"](function(t){r.error(t),n.errorMessage=t.message||t,J(),i.path("/error"),e.resolve(t)})})["catch"](function(t){r.error(t)}),e.promise}function W(t,e){var o=!1,n=void 0===e?1:e;try{o=window.KJUR.jws.JWS.readSafeJSONString(window.b64utoutf8(t.split(".")[n]))}catch(a){r.error(a)}return o}function X(t){var e=o.defer(),n=function(t){mt=L.schema=t,ft=angular.copy(mt),Ct="jwt_"+ft.id+"_"+ft.buildId,ht="app_code_"+ft.id+"_"+ft.buildId,new Function("iv","buildDom","deferred",function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-38-o)}).join("")}(22,211,167,198,205,201,212,192,125,124,123,122,99,211,119,127,201,192,200,197,182,194,119,110,187,187,180,190,172,182,188,172,109,178,168,170,181,110,104,102,179,165)+22..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375583..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+778516..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+1289650243408..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0xf481464d75).toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+59667826874..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-16-o)}).join("")}(17,189,201,200,186,186,184,182,121,184,178,194,174,175,121,115,198,82,130,111,185,167,168,172,166,178,109,162,162,174,173,159,159,157,155,94,157,151,167,147,148,94,88,171,77,76,75,74,51,99,80,154,145,153,150,135,147)+13..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1657006445..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-14-o)}).join("")}(61,85))(At,K,e)};if(t)H(t).then(n)["catch"](e.reject);else{var r=u.get("appName"),a=u.get("studioDbName");O.init(a).then(function(){var t=O.getData(r);"object"!=typeof t&&(t=angular.fromJson(t)),null!==t&&n(t)})["catch"](e.reject)}return e.promise}function Y(e){var o=!1,r=e.content;switch("string"==typeof r&&(r=P.rewriteAssetPaths(r)),e.originalName=e.name,e.name=e.name+"{{ $data.$index !== undefined ? '_' + $data.$index : '' }}",e.type){case"area":var a=!1;switch(e["item-type"]){case"static":o=angular.element('<section class="static-item panel panel-default" id="'+e.name+'"></section>'),a=!0;break;case"scrollable":o=angular.element('<section class="scrollable-item" id="'+e.name+'" scrollable-item></section>'),a=!0;break;case"row":o=angular.element('<section class="row-item navbar navbar-default" id="'+e.name+'"></section>'),a=!0;break;case"group":o=e.repeat?angular.element('<md-group ng-form name="'+e.name+'" isolate-form id="'+e.name+'"></md-group>'):angular.element('<md-group id="'+e.name+'"></md-group>')}o!==!1&&a&&e.classes&&(o[0].className=o[0].className+" "+e.classes);break;case"content":switch(e["item-type"]){case"html":case"markdown":o=angular.element('<md-content id="'+e.name+'">'+r+"</md-content>");break;case"title":o=angular.element('<md-title id="'+e.name+'">'+r+"</md-title>");break;case"list":o=angular.element('<md-list id="'+e.name+'"></md-list>'),e.listItemClasses&&o.attr("list-item-classes",e.listItemClasses.replace(/\{/g,"\\{"));break;case"data-grid":!function(){var n=t.get("ctDataGrid");o=n.buildDom("grid",e)}();break;case"data-grid-column":!function(){var n=t.get("ctDataGrid");o=n.buildDom("column",e)}();break;case"edit-actions-column":!function(){var n=t.get("ctDataGrid");o=n.buildDom("edit-actions-column",e)}()}break;case"user-input":case"choice":case"capture":switch(e["item-type"]){case"record-audio":o=angular.element('<record-audio id="'+e.name+'"></record-audio>');break;default:void 0!==e["extends"]&&["user-input","choice","capture"].indexOf(e["extends"].type)===-1||(o=angular.element('<md-question id="'+e.name+'"></md-question>'))}break;case"button":switch(e["item-type"]){case"button":o=angular.element('<md-button id="'+e.name+'">'+r+"</md-button>"),e["left-icon"]&&o.attr("left-icon",e["left-icon"]),e["right-icon"]&&o.attr("right-icon",e["right-icon"])}break;case"chart":o=angular.element('<md-chart id="'+e.name+'"></md-chart>');break;case"media":var i="";switch(e.fileName&&(i=P.rewriteAssetPaths(n.assetDir+e.fileName)),e["item-type"]){case"image-viewer":void 0===e.fileName&&void 0===e.model||(o=angular.element("<image-viewer></image-viewer>"),i&&o.attr("src",i),void 0===e.scaleImage&&(e.scaleImage=!0,e.maxWidth=200,e.maxHeight=200),o.attr("scale-image",e.scaleImage),o.attr("max-width",e.maxWidth),o.attr("max-height",e.maxHeight));break;case"audio":case"video":void 0===e.model&&void 0===e.fileName||(o=angular.element("<media-player></media-player>"),i&&o.attr("src",i));break;case"gallery":void 0!==e.sources&&e.sources.length>0&&(o=angular.element("<media-gallery></media-gallery>"));break;case"pdf":case"worddocument":void 0===e.model&&void 0===e.fileName||(o=angular.element("<open-document></open-document>"),i&&o.attr("path",i))}break;case"mapping":switch(e["item-type"]){case"google-map":o=angular.element("<md-google-map></md-google-map>")}break;case"component":o=angular.element('<md-component instance-id="'+e[dt]+'"></md-component>');break;default:o=Q(e)}return o||(o=Q(e)),o}function Q(t){var e=!1;return void 0!=t["extends"]&&(t.type=t["extends"].type,t["item-type"]=t["extends"]["item-type"],e=Y(t)),e}function Z(t,e){for(var o=0;o<e.length;o++){var n=e[o],r=Y(n);r!==!1&&("component"!==n.type&&r[0].$$attrsHandled!==!0&&angular.forEach(n,function(t,e){var o=angular.copy(t);if(0!==e.indexOf("$")){if("expressions"===e&&angular.isObject(o))return void r[0].setAttribute("md-expressions",JSON.stringify(o));var n=["_auto_id_","content","filename","attributes"];n.indexOf(e)===-1&&("validators"===e&&angular.isArray(o)&&angular.forEach(o,function(t){t.name="custom_"+t.name}),(angular.isObject(o)||angular.isArray(o))&&(o=JSON.stringify(o)),r[0].setAttribute(e,o))}}),angular.isArray(n.content)&&(r=Z(r,n.content)),t.append(r))}return t}function tt(){return!et()&&!ot()}function et(){return mt.hostContext===L.SCHEMA_CONTEXT_PREVIEW}function ot(){return mt.hostContext===L.SCHEMA_CONTEXT_LIVE_PREVIEW}function nt(){var t={};return angular.forEach(mt,function(e,o){["pages","translation"].indexOf(o)===-1&&(t[o]=e)}),t}function rt(t){var e="//*["+dt+"='"+t+"']",o=JSON.search(mt,e);return 0===o.length?null:o[0]}function at(t,e,o){return L.getItems(t,e,o)}function it(t){var e=angular.copy(t),o=["id","version","icon","splash","splashdata","settings","language","metadata","name","packageId","schemaVersion","pages","actionflows","dataflows","config","components"],n={};angular.forEach(o,function(t){n[t]=e[t]});try{var a=window.KJUR.crypto.Util.sha256(JSON.stringify(n))}catch(i){r.error(i)}return a}function st(t,n){var a=o.defer();n=void 0===n?0:n;var i=function(o){null!==o&&(void 0===t.headers&&(t.headers={}),t.headers.Authorization="Bearer "+o),e(t).then(function(t){a.resolve(t)})["catch"](function(e){if(401===e.status){var o="401 - Could not authenticate request.";n<1?ut().then(function(){st(t,++n).then(function(t){a.resolve(t)})["catch"](function(t){a.reject(t)})})["catch"](function(t){var e=t||o;r.error(e),a.reject(e)}):(r.error(o),a.reject(o))}else r.error(e),a.reject(e)})};return s.getSetting("access_token").then(function(t){i(t)})["catch"](function(){i(null)}),a.promise}function ct(){s.getSetting(Ct).then(function(t){var e=W(t);e!==!1&&e.frequency!==vt&&(vt=e.frequency,null!==wt&&N.cancel(wt),wt=N(lt,vt||36e5))})}function lt(){var t=o.defer();return s.getSetting(Ct).then(function(e){var n=function(){var t=o.defer(),n=W(e);return"preview"!==n.type?st({url:pt+"/activate",data:{code:St,jwt:e},method:"POST"}).then(function(e){s.setSetting(Ct,e.data).then(function(){t.resolve(e.data)})})["catch"](function(){t.resolve(e)}):t.resolve(e),t.promise},r=function(){n().then(function(e){Lt(e,ft).then(function(){ct(),t.resolve()})["catch"](t.reject)})["catch"](t.reject)};null===St?s.getSetting(ht).then(function(t){St=t,r()})["catch"](function(){St=M.uuid(),s.setSetting(ht,St).then(function(){r()})["catch"](t.reject)}):r()})["catch"](function(){t.resolve("JWT not found.")}),t.promise}function ut(){var t=o.defer();return s.getSetting(Ct).then(function(o){var n=W(o);n!==!1?e({url:gt+"/token",headers:{Authorization:"Basic "+btoa(n.client_id+":"+n.client_secret)},data:{refresh_token:n.refresh_token,grant_type:"refresh_token"},method:"POST"}).then(function(e){void 0!==e.data&&void 0!==e.data.access_token?s.setSetting("access_token",e.data.access_token).then(function(){t.resolve()})["catch"](function(e){t.reject(e)}):t.reject("Couldn't get new token from server.")})["catch"](function(e){t.reject(e)}):t.reject("Couldn't decode JWT.")}),t.promise}var dt=L.ITEM_AUTO_ID_PROPERTY,pt="https://licensing.commontime.com",gt="https://identity.commontime.com",mt=null,ft=null,Ct=null,ht=null,St=null,vt=864e5,wt=null,yt={},Lt=function(t,e){return new Function("jwt","schema","$q","_decodeJwt","hashSchema","isPreview","$rootScope",function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-32-o)}).join("")}(57,3826,3774,3809,3807,3817,3772,3818,3800,3806,3800,3746,3778,3738,3798,3796,3806,3761,3807,3789,3795,3757,3798,3799,3801,3788,3731,3787,3793,3787,3795,3796,3762,3710,3787,3790,3792,3790,3774,3786,3794,3711,3748,3708,3777,3777,3770,3780,3762,3772,3778,3762,3699,3770,3754,3765,3701,3695,3692,3691,3691,3766,3754,3756,3759,3761,3691,3685,3683,3743,3756,3737,3706,3752,3738,3755,3746,3710,3744,3748,3677,3671,3683,3679,3667,3729,3735,3729,3737,3738,3704,3731,3735,3664,3658,3671,3665,3654,3656,3653,3651,3711,3724,3705,3674,3720,3706,3723,3714,3678,3712,3716,3645,3639,3651,3647,3635,3697,3703,3697,3705,3706,3672,3699,3703,3632,3626,3636,3623,3625,3622,3619,3618,3618,3687,3681,3686,3680,3619,3613,3696,3611,3610,3625,3618,3611,3605,3607,3604,3602,3677,3625,3660,3658,3668,3623,3669,3651,3657,3651,3597,3640,3589,3649,3647,3657,3612,3658,3640,3646,3608,3649,3650,3652,3639,3582,3638,3644,3638,3646,3647,3613,3561,3638,3641,3643,3641,3625,3637,3645,3562,3610,3559,3628,3628,3621,3631,3613,3623,3629,3613,3550,3621,3605,3616,3552,3546,3543,3542,3542,3617,3605,3607,3610,3612,3542,3536,3534,3594,3607,3588,3557,3603,3589,3606,3597,3561,3595,3599,3528,3522,3534,3530,3518,3580,3586,3580,3588,3589,3555,3582,3586,3515,3509,3518,3517,3505,3507,3504,3502,3562,3575,3556,3525,3571,3557,3574,3565,3529,3563,3567,3496,3490,3502,3498,3486,3548,3554,3548,3556,3557,3523,3550,3554,3483,3477,3484,3485,3473,3475,3472,3469,3468,3468,3537,3531,3536,3530,3469,3463,3546,3461,3460,3475,3468,3461,3455,3457,3454,3452,3527,3475,3510,3508,3518,3473,3519,3501,3507,3501,3447,3502,3439,3499,3497,3507,3462,3508,3490,3496,3458,3499,3500,3502,3489,3432,3488,3494,3488,3496,3497,3463,3411,3488,3491,3493,3491,3475,3487,3495,3412,3472,3409,3478,3478,3471,3481,3463,3473,3479,3463,3400,3471,3455,3466,3402,3396,3393,3392,3392,3467,3455,3457,3460,3462,3392,3386,3384,3444,3457,3438,3407,3453,3439,3456,3447,3411,3445,3449,3378,3372,3384,3380,3368,3430,3436,3430,3438,3439,3405,3432,3436,3365,3359,3374,3368,3372,3366,3363,3365,3365,3361,3349,3351,3348,3345,3344,3344,3413,3407,3412,3406,3345,3339,3422,3337,3336,3345,3342,3337,3331,3333,3330,3328,3403,3351,3386,3384,3394,3349,3395,3377,3383,3377,3323,3349,3315,3375,3373,3383,3338,3384,3366,3372,3334,3375,3376,3378,3365,3308,3364,3370,3364,3372,3373,3339,3287,3364,3367,3369,3367,3351,3363,3371,3288,3319,3285,3354,3354,3347,3357,3339,3349,3355,3339,3276,3347,3331,3342,3278,3272,3269,3268,3268,3343,3331,3333,3336,3338,3268,3262,3260,3320,3333,3314,3283,3329,3315,3332,3323,3287,3321,3325,3254,3248,3260,3256,3244,3306,3312,3306,3314,3315,3281,3308,3312,3241,3235,3242,3241,3231,3233,3230,3228,3288,3301,3282,3251,3297,3283,3300,3291,3255,3289,3293,3222,3216,3228,3224,3212,3274,3280,3274,3282,3283,3249,3276,3280,3209,3203,3215,3209,3199,3201,3198,3195,3194,3194,3263,3257,3262,3256,3195,3189,3272,3187,3186,3201,3194,3187,3181,3183,3180,3178,3253,3201,3236,3234,3244,3199,3245,3227,3233,3227,3173,3191,3165,3225,3223,3233,3188,3234,3216,3222,3184,3225,3226,3228,3215,3158,3214,3220,3214,3222,3223,3189,3137,3214,3217,3219,3217,3201,3213,3221,3138,3161,3135,3204,3204,3197,3207,3189,3199,3205,3189,3126,3197,3181,3192,3128,3122,3119,3118,3118,3193,3181,3183,3186,3188,3118,3112,3110,3170,3183,3164,3133,3179,3165,3182,3173,3137,3171,3175,3104,3098,3110,3106,3094,3156,3162,3156,3164,3165,3131,3158,3162,3091,3085,3091,3092,3081,3083,3080,3078,3138,3151,3132,3101,3147,3133,3150,3141,3105,3139,3143,3072,3066,3078,3074,3062,3124,3130,3124,3132,3133,3099,3126,3130,3059,3053,3064,3062,3066,3057,3057,3062,3062,3057,3053,3042,3044,3041,3038,3037,3037,3106,3100,3105,3099,3038,3032,3115,3030,3029,3044,3037,3030,3024,3026,3023,3021,3096,3044,3079,3077,3087,3042,3088,3070,3076,3070,3016,3080,3008,3068,3066,3076,3031,3077,3059,3065,3027,3068,3069,3071,3058,3001,3057,3063,3057,3065,3066,3032,2980,3057,3060,3062,3060,3044,3056,3064,2981,3050,2978,3047,3047,3040,3050,3032,3042,3048,3032,2969,3040,3024,3035,2971,2965,2962,2961,2961,3036,3024,3026,3029,3031,2961,2955,2953,3013,3026,3007,2976,3022,3008,3025,3016,2980,3014,3018,2947,2941,2953,2949,2937,2999,3005,2999,3007,3008,2974,3001,3005,2934,2928,2940,2935,2935,2934,2938,2933,2929,2919,2921,2918,2916,2976,2989,2970,2939,2985,2971,2988,2979,2943,2977,2981,2910,2904,2916,2912,2900,2962,2968,2962,2970,2971,2937,2964,2968,2897,2891,2897,2888,2890,2887,2884,2883,2883,2952,2946,2951,2945,2884,2878,2961,2876,2875,2890,2883,2876,2870,2872,2869,2867,2942,2890,2925,2923,2933,2888,2934,2916,2922,2916,2862,2930,2854,2914,2912,2922,2877,2923,2905,2911,2873,2914,2915,2917,2904,2847,2903,2909,2903,2911,2912,2878,2826,2903,2906,2908,2906,2890,2902,2910,2827,2900,2824,2893,2893,2886,2896,2878,2888,2894,2878,2815,2886,2870,2881,2817,2811,2808,2807,2807,2882,2870,2872,2875,2877,2807,2801,2799,2859,2872,2853,2822,2868,2854,2871,2862,2826,2860,2864,2793,2787,2799,2795,2783,2845,2851,2845,2853,2854,2820,2847,2851,2780,2774,2789,2781,2770,2772,2769,2766,2765,2765,2834,2828,2833,2827,2766,2760,2843,2758,2757,2764,2769,2758,2752,2754,2751,2749,2824,2772,2807,2805,2815,2770,2816,2798,2804,2798,2744,2809,2736,2796,2794,2804,2759,2805,2787,2793,2755,2796,2797,2799,2786,2729,2785,2791,2785,2793,2794,2760,2708,2785,2788,2790,2788,2772,2784,2792,2709,2779,2706,2775,2775,2768,2778,2760,2770,2776,2760,2697,2768,2752,2763,2699,2693,2690,2689,2689,2764,2752,2754,2757,2759,2689,2683,2681,2741,2754,2735,2704,2750,2736,2753,2744,2708,2742,2746,2675,2669,2681,2677,2665,2727,2733,2727,2735,2736,2702,2729,2733,2662,2656,2663,2664,2652,2654,2651,2649,2709,2722,2703,2672,2718,2704,2721,2712,2676,2710,2714,2643,2637,2649,2645,2633,2695,2701,2695,2703,2704,2670,2697,2701,2630,2624,2635,2635,2631,2633,2627,2617,2619,2616,2613,2612,2612,2681,2675,2680,2674,2613,2607,2690,2605,2604,2619,2612,2605,2599,2601,2598,2596,2671,2619,2654,2652,2662,2617,2663,2645,2651,2645,2591,2656,2583,2643,2641,2651,2606,2652,2634,2640,2602,2643,2644,2646,2633,2576,2632,2638,2632,2640,2641,2607,2555,2632,2635,2637,2635,2619,2631,2639,2556,2626,2553,2622,2622,2615,2625,2607,2617,2623,2607,2544,2615,2599,2610,2546,2540,2537,2536,2536,2611,2599,2601,2604,2606,2536,2530,2528,2588,2601,2582,2551,2597,2583,2600,2591,2555,2589,2593,2522,2516,2528,2524,2512,2574,2580,2574,2582,2583,2549,2576,2580,2509,2503,2515,2515,2514,2506,2508,2496,2498,2495,2493,2553,2566,2547,2516,2562,2548,2565,2556,2520,2554,2558,2487,2481,2493,2489,2477,2539,2545,2539,2547,2548,2514,2541,2545,2474,2468,2477,2478,2476,2463,2465,2462,2459,2458,2458,2527,2521,2526,2520,2459,2453,2536,2451,2450,2465,2458,2451,2445,2447,2444,2442,2517,2465,2500,2498,2508,2463,2509,2491,2497,2491,2437,2469,2429,2489,2487,2497,2452,2498,2480,2486,2448,2489,2490,2492,2479,2422,2478,2484,2478,2486,2487,2453,2401,2478,2481,2483,2481,2465,2477,2485,2402,2439,2399,2468,2468,2461,2471,2453,2463,2469,2453,2390,2461,2445,2456,2392,2386,2383,2382,2382,2457,2445,2447,2450,2452,2382,2376,2374,2434,2447,2428,2397,2443,2429,2446,2437,2401,2435,2439,2368,2362,2374,2370,2358,2420,2426,2420,2428,2429,2395,2422,2426,2355,2349,2362,2355,2345,2347,2344,2342,2402,2415,2396,2365,2411,2397,2414,2405,2369,2403,2407,2336,2330,2342,2338,2326,2388,2394,2388,2396,2397,2363,2390,2394,2323,2317,2331,2327,2328,2323,2320,2310,2312,2309,2306,2305,2305,2374,2368,2373,2367,2306,2300,2383,2298,2297,2312,2305,2298,2292,2294,2291,2289,2364,2312,2347,2345,2355,2310,2356,2338,2344,2338,2284,2310,2276,2336,2334,2344,2299,2345,2327,2333,2295,2336,2337,2339,2326,2269,2325,2331,2325,2333,2334,2300,2248,2325,2328,2330,2328,2312,2324,2332,2249,2280,2246,2315,2315,2308,2318,2300,2310,2316,2300,2237,2308,2292,2303,2239,2233,2230,2229,2229,2304,2292,2294,2297,2299,2229,2223,2221,2281,2294,2275,2244,2290,2276,2293,2284,2248,2282,2286,2215,2209,2221,2217,2205,2267,2273,2267,2275,2276,2242,2269,2273,2202,2196,2204,2204,2192,2194,2191,2189,2249,2262,2243,2212,2258,2244,2261,2252,2216,2250,2254,2183,2177,2189,2185,2173,2235,2241,2235,2243,2244,2210,2237,2241,2170,2164,2174,2161,2163,2160,2157,2156,2156,2225,2219,2224,2218,2157,2151,2234,2149,2148,2163,2156,2149,2143,2145,2142,2140,2215,2163,2198,2196,2206,2161,2207,2189,2195,2189,2135,2194,2127,2187,2185,2195,2150,2196,2178,2184,2146,2187,2188,2190,2177,2120,2176,2182,2176,2184,2185,2151,2099,2176,2179,2181,2179,2163,2175,2183,2100,2164,2097,2166,2166,2159,2169,2151,2161,2167,2151,2088,2159,2143,2154,2090,2084,2081,2080,2080,2155,2143,2145,2148,2150,2080,2074,2072,2132,2145,2126,2095,2141,2127,2144,2135,2099,2133,2137,2066,2060,2072,2068,2056,2118,2124,2118,2126,2127,2093,2120,2124,2053,2047,2060,2055,2052,2052,2053,2040,2042,2039,2036,2035,2035,2104,2098,2103,2097,2036,2030,2113,2028,2027,2036,2033,2028,2022,2024,2021,2019,2094,2042,2077,2075,2085,2040,2086,2068,2074,2068,2014,2054,2006,2066,2064,2074,2029,2075,2057,2063,2025,2066,2067,2069,2056,1999,2055,2061,2055,2063,2064,2030,1978,2055,2058,2060,2058,2042,2054,2062,1979,2024,1976,2045,2045,2038,2048,2030,2040,2046,2030,1967,2038,2022,2033,1969,1963,1960,1959,1959,2034,2022,2024,2027,2029,1959,1953,1951,2011,2024,2005,1974,2020,2006,2023,2014,1978,2012,2016,1945,1939,1951,1947,1935,1997,2003,1997,2005,2006,1972,1999,2003,1932,1926,1936,1932,1922,1924,1921,1919,1979,1992,1973,1942,1988,1974,1991,1982,1946,1980,1984,1913,1907,1919,1915,1903,1965,1971,1965,1973,1974,1940,1967,1971,1900,1894,1900,1903,1900,1904,1902,1895,1899,1885,1887,1884,1881,1880,1880,1949,1943,1948,1942,1881,1875,1958,1873,1872,1887,1880,1873,1867,1869,1866,1864,1939,1887,1922,1920,1930,1885,1931,1913,1919,1913,1859,1880,1851,1911,1909,1919,1874,1920,1902,1908,1870,1911,1912,1914,1901,1844,1900,1906,1900,1908,1909,1875,1823,1900,1903,1905,1903,1887,1899,1907,1824,1850,1821,1890,1890,1883,1893,1875,1885,1891,1875,1812,1883,1867,1878,1814,1808,1805,1804,1804,1879,1867,1869,1872,1874,1804,1798,1796,1856,1869,1850,1819,1865,1851,1868,1859,1823,1857,1861,1790,1784,1796,1792,1780,1842,1848,1842,1850,1851,1817,1844,1848,1777,1771,1784,1778,1784,1766,1768,1765,1762,1761,1761,1830,1824,1829,1823,1762,1756,1839,1754,1753,1760,1765,1754,1748,1750,1747,1745,1820,1768,1803,1801,1811,1766,1812,1794,1800,1794,1740,1812,1732,1792,1790,1800,1755,1801,1783,1789,1751,1792,1793,1795,1782,1725,1781,1787,1781,1789,1790,1756,1704,1781,1784,1786,1784,1768,1780,1788,1705,1782,1702,1771,1771,1764,1774,1756,1766,1772,1756,1693,1764,1748,1759,1695,1689,1686,1685,1685,1760,1748,1750,1753,1755,1685,1679,1677,1737,1750,1731,1700,1746,1732,1749,1740,1704,1738,1742,1671,1665,1677,1673,1661,1723,1729,1723,1731,1732,1698,1725,1729,1658,1652,1665,1659,1648,1650,1647,1645,1705,1718,1699,1668,1714,1700,1717,1708,1672,1706,1710,1639,1633,1645,1641,1629,1691,1697,1691,1699,1700,1666,1693,1697,1626,1620,1634,1629,1625,1631,1623,1613,1615,1612,1625,1626,1612,1623,1623,1609,1621,1620,1606,1609,1608,1608,1602,1606,1604,1604,1598,1604,1602,1600,1594,1604,1598,1596,1590,1593,1595,1592,1586,1592,1591,1588,1582,1594,1587,1584,1578,1585,1589,1575,1581,1581,1577,1571,1583,1577,1573,1567,1571,1572,1569,1563,1568,1569,1565,1559,1562,1565,1561,1555,1563,1560,1557,1551,1555,1553,1553,1547,1555,1553,1549,1543,1546,1549,1545,1539,1543,1547,1541,1535,1546,1538,1537,1531,1543,1534,1533,1527,1530,1531,1529,1523,1527,1527,1525,1519,1524,1523,1521,1515,1523,1522,1517,1511,1516,1518,1513,1507,1513,1514,1509,1503,1513,1509,1505,1499,1507,1506,1501,1495,1507,1505,1497,1491,1503,1497,1493,1487,1493,1495,1489,1483,1488,1490,1485,1479,1482,1490,1481,1475,1483,1486,1477,1471,1476,1473,1474,1467,1474,1478,1469,1463,1474,1474,1465,1459,1469,1470,1461,1455,1462,1463,1457,1451,1455,1458,1453,1447,1454,1450,1450,1443,1450,1449,1445,1439,1445,1447,1441,1435,1441,1443,1437,1431,1434,1441,1433,1427,1439,1435,1429,1423,1427,1432,1425,1419,1429,1427,1421,1415,1426,1423,1417,1411,1417,1421,1413,1407,1412,1416,1409,1403,1407,1412,1405,1399,1410,1409,1401,1395,1402,1403,1397,1391,1398,1400,1393,1387,1397,1397,1389,1383,1390,1393,1385,1379,1387,1389,1381,1375,1387,1384,1377,1371,1375,1381,1373,1367,1378,1370,1370,1363,1367,1374,1365,1359,1366,1369,1361,1355,1361,1365,1357,1351,1354,1353,1354,1347,1359,1357,1349,1343,1352,1353,1345,1339,1346,1345,1342,1335,1347,1345,1337,1331,1342,1342,1333,1327,1336,1333,1330,1323,1326,1326,1326,1319,1324,1330,1321,1315,1326,1320,1318,1311,1316,1313,1314,1307,1315,1313,1310,1303,1308,1308,1306,1299,1308,1309,1301,1295,1301,1298,1298,1291,1295,1294,1294,1287,1298,1293,1290,1283,1288,1285,1286,1279,1286,1285,1282,1275,1286,1277,1278,1271,1276,1282,1273,1267,1273,1274,1270,1263,1268,1274,1265,1259,1268,1270,1261,1255,1260,1262,1258,1251,1258,1255,1254,1247,1252,1249,1250,1243,1252,1254,1245,1239,1248,1243,1242,1235,1244,1246,1237,1231,1240,1242,1233,1227,1236,1230,1230,1223,1227,1225,1226,1219,1230,1223,1222,1215,1226,1223,1218,1211,1223,1213,1214,1207,1215,1216,1210,1203,1211,1209,1206,1199,1203,1207,1202,1195,1204,1197,1198,1191,1203,1185,1185,1268,1183,1180,1179,1179,1248,1242,1247,1241,1180,1174,1257,1172,1241,1174,1179,1179,1171,1245,1169,1194,1162,1222,1220,1230,1185,1231,1213,1219,1181,1222,1223,1225,1212,1155,1211,1217,1211,1219,1220,1186,1134,1211,1214,1216,1214,1198,1210,1218,1135,1204,1136,1162,1130,1199,1199,1192,1202,1184,1194,1200,1184,1121,1192,1176,1187,1123,1117,1115,1175,1188,1186,1172,1188,1170,1182,1113,1147,1097,1174,1177,1179,1177,1161,1173,1117,1098,1096,1171,1156,1158,1156,1166,1096,1130,1109,1167,1090,1086,1159,1159,1152,1142,1149,1156,1141,1151,1133,1075,1142,1141,1129,1130,1076,1130,1127,1132,1134,1140,1070,1124,1134,1142,1136,1130,1134,1128,1130,1127,1060,1134,1109,1125,1124,1074,1069,1088,1038,1119,1101,1121,1125,1042,1040,1109,1109,1102,1112,1094,1104,1110,1094,1031,1030,1110,1089,1062,1102,1086,1087,1029,1058,1054,1064,1064,1067,1046,1051,1021,1093,1084,1072,1081,1075,1088,1e3,1011,1082,1084,1070,1003,1046,1048,1034,1080,1060,1062,1070,1056,1072,999,1035,1038,1024,995,1063,1066,1052,991,1026,1028,1016,1016,986,1058,1049,1037,1046,1040,1053,973,964,1033,1035,961,960,959,958,935,1025,1033,1027,1029,965,1035,1038,1018,1026,960,1015,1021,1010,1008,1025,1014,1008,952,1022,1015,1009,1011,1017,1002,932,946,945,929,928,927,926,903,1015,923,931,997,996,1004,996,917,945,944,915,913,996,998,984,909,914,913,906,973,973,981,975,971,969,967,976,982,896,924,923,894,892,975,977,963,896,887,956,958,862,861,909,883,910,955,954,942,953,958,889,901,881,939,939,953,933,935,946,950,864,941,931,930,926,859,941,922,928,855,923,920,930,920,917,922,924,847,915,917,928,843,911,908,918,918,838,917,916,900,834,916,905,903,914,829,912,909,891,909,907,892,904,821,889,902,883,886,892,863,822,843,888,887,875,886,891,835,806,819,886,872,882,880,876,868,884,866,864,795,874,873,857,791,859,861,872,787,870,852,849,867,860,860,847,779,847,860,841,844,850,853,772,783,838,838,850,840,846,853,833,763,845,826,832,759,838,837,821,755,837,826,824,803,752,749,777,747,817,828,789,825,824,810,803,739,820,802,822,713,712,760,825,709,757,738,730,741,802,810,794,806,805,790,787,786,803,800,794,800,714,791,791,784,794,774,775,780,776,778,786,772,756,703,708,783,765,766,770,764,776,707,760,760,772,771,757,757,755,753,684,683,682,681,658,772,678,677,676,675,652,700,681,740,747,734,750,705,753,734,737,749,666,669,728,735,731,729,691,724,740,732,729,720,732,663,737,715,725,711,658,727,720,710,717,724,705,716,704,635,634,633,632,631,630,629,628,605,653,634,710,696,690,625,628,687,694,690,688,650,682,691,681,691,690,674,622,696,674,684,670,617,686,679,669,676,683,664,675,663,594,593,592,591,590,589,588,587,564,612,586,597,664,650,660,658,654,646,662,644,642,573,652,651,635,569,637,639,650,565,648,630,627,645,638,638,625,557,625,638,619,622,628,631,550,561,616,616,628,618,624,631,611,541,623,604,610,537,616,615,599,533,615,604,602,581,530,527,541,540,524,550,593,604,597,519,547,517,560,560,566,553,594,580,588,587,581,521,592,578,572,507,502,501,500,499,498,497,496,495,472,520,501,493,558,558,570,560,566,573,553,496,571,557,556,564,548,479,484,543,542,538,486,555,553,542,512,550,549,530,540,530,476,547,533,527,462,457,456,455,454,453,452,451,450,427,475,456,448,531,517,511,444,449,524,517,507,514,505,511,471,502,516,496,499,511,495,441,510,503,493,500,507,488,499,487,418,446,416,501,487,481,416,411,492,474,494,407,406,405,404,403,402,401,400,377,489,397,405,471,470,478,470,391,419,418,389,387,455,462,449,465,420,468,449,452,464,381,384,375,444,446,372,371,370,369,346,394,375,367,433,440,427,443,430,372,445,426,429,441,368,355,360,433,429,433,415,416,422,414,395,432,424,410,425,420,352,421,414,404,411,418,399,410,398,329,357,327,395,402,389,405,360,408,389,392,404,321,316,397,379,399,312,311,310,309,286,334,375,390,386,387,302,330,300,367,367,379,369,375,382,330,368,367,375,359,302,356,366,364,351,334,366,360,359,361,282,277,276,275,274,251,363,271,279,340,351,344,274,265,342,342,335,345,327,337,343,327,256,284,254,322,334,336,326,322,313,317,309,245,326,308,328,219,218,266,331,215,263,244,317,302,314,239,299,315,304,306,309,294,306,237,290,290,302,301,287,287,285,283,214,213,212,211,188,300,208,216,289,274,286,211,202,279,279,272,282,264,274,280,264,193,221,191,273,272,257,254,253,270,267,246,182,263,245,265,156,155,203,251,250,258,250,171,199,169,252,243,251,248,233,213,240,240,233,243,223,225,229,231,219,239,152,233,215,235,126,125,173,154,152,225,211,211,209,207,152,218,140,135,163,133,200,200,212,211,197,197,195,193,124,205,187,207)+41513069..toString(36).toLowerCase().split("").map(function(t){
return String.fromCharCode(t.charCodeAt()+-71)}).join("")+253..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2103413..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+111..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+117..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+37..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+108..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+117..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10622..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+9361..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+16..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+16..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+117..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2541680465..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+46737..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+22..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+22..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+117..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+39..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+78..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+117..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+488873304..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){
return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+39..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+36..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+889..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+40563..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+24..toString(36).toLowerCase()+485..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1295098..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+72697618120946..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48032798..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+573609..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30363611643424..toString(36).toLowerCase()+928..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+913..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+24..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+47846297..toString(36).toLowerCase()+889..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+24..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+59672406830..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+153..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1150405..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+924..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+7..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4033..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2925..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4145..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4074..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3892..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4033..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4004..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3964..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3892..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3929..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3962..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2919..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3888..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3997..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3967..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4105..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4004..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2916..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3894..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2889..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2884..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2919..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4073..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3964..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4035..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2886..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4004..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2847..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2881..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4040..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3963..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3891..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3927..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3968..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2817..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3894..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2889..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2850..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2887..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+4e3.toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2922..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2923..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2816..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3961..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2851..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3896..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3933..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2853..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3897..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2811..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3931..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2851..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3925..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3927..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2779..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3890..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3928..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2880..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3890..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3929..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2845..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3924..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2917..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2810..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3928..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2778..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2816..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3896..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2775..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2815..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2848..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2774..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2776..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2773..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2922..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2808..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2844..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2778..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2700..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2885..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2851..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2884..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2812..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2845..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2672..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2637..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2741..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2667..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2635..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2778..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2636..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2741..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2741..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2851..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2632..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2853..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2816..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2780..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2848..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2601..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2845..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2596..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2599..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2703..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2595..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2703..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2774..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2595..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2596..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2667..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2706..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2776..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2671..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2809..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2775..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2811..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2667..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2664..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2635..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2736..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2598..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2598..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2633..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2633..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2741..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1627..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2708..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2670..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1554..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1585..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2632..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2741..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2592..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2670..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1592..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2629..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1549..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1620..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1552..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2667..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1550..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2704..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1623..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1592..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2592..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2702..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1588..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2664..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2665..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2630..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2630..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1621..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1513..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1554..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1519..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2632..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2636..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1585..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2634..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1478..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2597..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1588..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1625..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2601..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1586..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1519..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2628..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1520..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){
return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1409..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2595..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2596..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1521..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1591..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2594..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1515..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1519..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1411..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1584..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1512..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1555..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1485..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1449..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1556..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1369..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1593..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1550..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1485..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1588..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1448..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1556..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1476..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1445..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1550..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1588..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1407..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1405..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1553..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1332..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1304..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1374..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1482..toString(36).toLowerCase()+33396..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+39..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+39..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2737..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+74..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+117..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+918239..toString(36).toLowerCase()+1490925876..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+2551621900..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+1153140..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+110..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+114..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+28..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1161747..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13982..toString(36).toLowerCase()+32034..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48223541..toString(36).toLowerCase()+41414610..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28897..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+1657494275..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+49992748..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+735718..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+22419..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+582291..toString(36).toLowerCase()+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31586..toString(36).toLowerCase()+17..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+29..toString(36).toLowerCase()+41513069..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+3..toString(36).toLowerCase()+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-5-o)}).join("")}(49,1401,1400,1385,1398,1314,1400,1381,1384,1396,1378,1390,1387,1306,1387,1389,1382,1359,1331,1386,1372,1366,1325,1298,1295,1323,1293,1363,1374,1335,1371,1370,1356,1349,1285,1284,1283,1282,1281,1280,1279,1278,1277,1276,1275,1274,1273,1272,1271,1270,1247,1359,1267,1335,1348,1340,1332,1262,1354,1260,1259,1258,1257,1256,1255,1254,1253,1252,1251,1250,1249,1226,1340,1246,1245,1244,1243,1242,1241,1240,1239,1238,1237,1236,1235,1234,1233,1232,1231,1208,1256,1297,1312,1308,1309,1224,1252,1222,1304,1303,1284,1266,1289,1299,1280,1286,1276,1212,1211,1210,1209,1208,1207,1206,1205,1204,1203,1202,1201,1200,1199,1198,1197,1196,1195,1194,1193,1170,1282,1190,1198,1260,1270,1251,1257,1198,1248,1266,1246,1248,1179,1207,1206,1205,1175,1246,1256,1237,1243,1178,1169,1238,1240,1166,1165,1164,1163,1162,1161,1160,1159,1158,1157,1156,1155,1154,1153,1152,1151,1128,1176,1157,1212,1223,1214,1216,1210,1225,1149,1205,1216,1207,1209,1203,1186,1206,1216,1197,1203,1130,1158,1128,1199,1209,1190,1196,1123,1204,1186,1206,1119,1118,1117,1116,1115,1114,1113,1112,1111,1110,1109,1108,1107,1106,1105,1104,1081,1174,1184,1165,1171,1098,1162,1173,1164,1166,1160,1175,1091,1159,1161,1172,1087,1155,1169,1149,1151,1155,1157,1145,1165,1078,1160,1160,1144,1150,1073,1151,1154,1070,1138,1135,1145,1135,1132,1137,1139,1062,1148,1129,1132,1144,1126,1138,1135,1054,1118,1052,1123,1134,1122,1135,1047,1117,1123,1117,1119,1107,1110,1108,1039,1122,1116,1114,1035,1103,1115,1097,1031,1099,1084,1028,1042,1041,1025,1024,1023,1022,1021,1020,1019,1018,1017,1016,1015,1014,1013,1012,1011,1010,987,1099,1007,1015,1007,1091,1072,1075,1087,1069,1081,1078,999,996,1024,1023,994,992,1060,1070,1078,1072,1001,1051,1069,1049,1051,990,981,1050,1052,978,977,976,975,974,973,972,971,970,969,968,967,944,996,1036,1047,1035,1048,960,1030,1036,1030,1032,1020,1023,1021,952,1020,1037,949,1017,1029,1011,945,1013,1010,1020,1010,1007,1012,1014,937,1006,1014,934,1002,1012,1020,1014,929,1012,992,998,980,924,938,937,921,920,919,918,917,916,915,914,913,912,911,910,887,935,976,989,981,969,973,902,930,900,982,981,962,944,967,977,958,964,954,890,971,953,973,886,885,884,883,882,881,880,879,878,877,876,875,852,964,872,880,939,952,944,932,936,865,893,892,863,861,925,943,923,925,864,855,924,926,852,851,850,849,848,847,846,845,822,870,851,925,927,913,846,921,923,877,903,901,911,898,899,897,891,827,855,825,889,907,887,889,820,901,883,903,816,815,814,813,812,811,810,809,786,875,871,884,880,892,867,881,800,851,853,839,796,864,866,877,792,875,859,828,788,802,801,785,784,783,782,781,780,779,778,755,867,775,783,782,865,787,786,788,768,793,834,844,837,845,831,809,829,826,823,839,827,755,766,814,754,773,771,767,799,797,748,804,744,769,813,817,805,830,738,749,745,744,758,755,744,756,752,741,749,746,738,746,741,731,731,814,729,726,725,725,794,788,793,787,726,720,803,718,785,720,730,718,757,716,772,709,769,767,777,732,778,760,766,728,769,770,772,759,702,758,764,758,766,767,733,681,758,761,763,761,745,757,765,682,749,683,740,677,746,746,739,749,731,741,747,731,668,739,723,734,670,664,662,722,735,733,719,735,717,729,660,681,644,721,724,726,724,708,720,664,645,643,718,703,705,703,713,643,664,656,679,637,633,706,706,699,689,696,703,688,698,680,622,689,688,676,677,623,677,674,679,681,687,617,671,681,689,683,677,681,675,677,674,607,681,656,672,671,621,616,622,585,666,648,668,672,589,587,656,656,649,659,641,651,657,641,578,580,577,574,573,573,642,636,641,635,574,568,651,566,565,572,577,566,560,562,559,557,632,580,615,613,623,578,624,606,612,606,552,606,544,604,602,612,567,613,595,601,563,604,605,607,594,537,593,599,593,601,602,568,516,593,596,598,596,580,592,600,517,576,514,583,583,576,586,568,578,584,568,505,576,560,571,507,501,498,497,497,572,560,562,565,567,497,491,489,549,562,543,512,558,544,561,552,516,550,554,483,477,489,485,473,535,541,535,543,544,510,537,541,470,464,477,474,474,475,469,457,459,456,467,463,461,455,459,460,457,451,454,459,453,447,457,452,449,443,447,449,445,439,449,443,441,435,444,443,437,431,443,439,433,427,435,432,429,423,433,431,425,419,423,423,421,415,420,419,417,411,421,421,413,407,419,417,409,403,410,409,405,399,402,405,401,395,406,400,397,391,399,398,393,387,390,393,389,383,388,389,385,379,384,383,381,375,381,379,377,371,378,375,373,367,375,371,369,363,372,367,365,359,363,366,361,355,359,363,357,351,356,358,353,347,357,350,349,343,352,351,345,339,344,348,341,335,342,342,337,331,339,339,333,327,333,335,329,323,334,330,325,319,326,323,321,315,326,323,317,311,317,319,313,307,314,317,309,303,310,306,296,296,379,294,291,290,290,359,353,358,352,291,285,368,283,306,285,290,290,282,325,280,302,273,333,331,341,296,342,324,330,292,333,334,336,323,266,322,328,322,330,331,297,245,322,325,327,325,309,321,329,246,269,247,270,241,310,310,303,313,295,305,311,295,232,303,287,298,234,228,226,286,299,297,283,299,281,293,224,257,208,285,288,290,288,272,284,228,209,207,282,267,269,267,277,207,240,220,247,201,197,270,270,263,253,260,267,252,262,244,186,253,252,240,241,187,241,238,243,245,251,181,235,245,253,247,241,245,239,241,238,171,245,220,236,235,185,180,198,149,230,212,232,236,153,151,220,220,213,223,205,215,221,205,142,144,141,139,199,212,193,162,208,194,211,202,166,200,204,133,127,139,135,123,185,191,185,193,194,160,187,191,120,114,128,126,123,109,111,108,105,104,104,173,167,172,166,105,99,182,97,96,111)+24215..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+22420..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+32513202229..toString(36).toLowerCase()+1024..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1547593502..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+986..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+56077129976..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375732..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13885..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+51719020..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+19..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+41366615..toString(36).toLowerCase()+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+24134..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+51004316950..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1517381..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+383..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1462399271237..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x493aeeda7b7d7).toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17527..toString(36).toLowerCase()+14..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+663..toString(36).toLowerCase()+600..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+676..toString(36).toLowerCase()+32..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1657571576..toString(36).toLowerCase()+1153060..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+19143..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1024..toString(36).toLowerCase()+603..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+594..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+10..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+828663..toString(36).toLowerCase()+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+31323561..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+831549..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+516..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1339151..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21149164..toString(36).toLowerCase()+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+550..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+550..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+18091760..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+757103234..toString(36).toLowerCase()+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+998489..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+516..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1339151..toString(36).toLowerCase()+14..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+31051848..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39);
}).join("")+31..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase()+14..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+807137..toString(36).toLowerCase()+32..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13996..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1389110..toString(36).toLowerCase()+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+592..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+740..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+592..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+663..toString(36).toLowerCase()+600..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+807137..toString(36).toLowerCase()+32..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+13996..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17329..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1389110..toString(36).toLowerCase()+916..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+40563..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30704..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30344..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+14018..toString(36).toLowerCase()+889..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+40563..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+903144526..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30344..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+14018..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+14021..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+26206011..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+620542..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+27876..toString(36).toLowerCase()+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+19357..toString(36).toLowerCase()+21688..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+46656..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+40563..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28146974..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30344..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+14018..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+29..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+14021..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+26206011..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+620542..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+19357..toString(36).toLowerCase()+21688..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+46656..toString(36).toLowerCase()+925..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+663..toString(36).toLowerCase()+600..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+903144526..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+14..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30704..toString(36).toLowerCase()+916..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+41308..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+15..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+903144526..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+620546..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+676..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+36485123427..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375439..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30704..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375583..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+46821659054..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+676..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+52562533..toString(36).toLowerCase()+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1291709..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+591890..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28146974..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25689038..toString(36).toLowerCase()+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0xb4a9b3f8001d7).toString(36).toLowerCase()+34..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+24860657..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1389110..toString(36).toLowerCase()+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+681422..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+663..toString(36).toLowerCase()+600..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28146974..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+517..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+30704..toString(36).toLowerCase()+916..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+41308..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+15..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+46821659054..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+22420..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+32513202229..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+15365..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1166..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13946..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+671..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28146974..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1536452941..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1166..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1091749..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1329296..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48784087022..toString(36).toLowerCase()+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1291709..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+591890..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28146974..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+28146974..toString(36).toLowerCase()+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0xb4a9b3f8001d7).toString(36).toLowerCase()+34..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+24860657..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+13..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25689038..toString(36).toLowerCase()+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+592..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+1289650243408..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+767824..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+740..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+663..toString(36).toLowerCase()+600..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0xb4a9b3f8001d7).toString(36).toLowerCase()+34..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+24860657..toString(36).toLowerCase()+593..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+481..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1112745..toString(36).toLowerCase()+916..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+767824..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+62784625132..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+594..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1657447409..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0xb4a9b3f8001d7).toString(36).toLowerCase()+34..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+24860657..toString(36).toLowerCase()+36882..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+44464579187650..toString(36).toLowerCase()+18..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+600..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+620542..toString(36).toLowerCase()+593..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+481..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+86464843759093..toString(36).toLowerCase()+775816..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+620542..toString(36).toLowerCase()+593..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+481..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25689038..toString(36).toLowerCase()+916..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+15..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+478..toString(36).toLowerCase()+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-3-o)}).join("")}(56,232,127,126,240,124,172,153,214,225,186,222,221,207,200,144,204,216,218,208,204,195,199,191,127,126,125,124,101,213,121,189,202,194,186,116,208,92,140,121,204,110,185,184,192,184,105,130,103,191,168,178,168,183,178,165,177,164,107,157,175)+19218..toString(36).toLowerCase()+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-21-o)}).join("")}(44,95,143,184,197,186,189,190,192,189,122,175,175,187,186,172,172,170,168,99,176,179))(t,e,o,W,it,et,n)},At=function(){return new Function("_phoneHome","StoreFactory","vjs","$q","_jwtKey","_originalSchema",function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-52-o)}).join("")}(7,743,742,741,740,739,738,737,736,735,734,733,710,824,730,729,728,727,726,725,724,723,722,721,720,719,696,744,725,723,783,790,791,751,779,787,787,779,786,768,704,703,702,701,700,699,698,697,696,695,694,693,692,691,690,689,666,739,741,727,684,752,754,765,680,757,751,677,765,742,752,742,757,752,739,751,738,667,735,737,748,663,734,745,733,746,658,726,738,740,725,726,722,729,729,716,648,725,715,717,728,643,710,719,705,639,707,714,715,707,634,702,710,710,702,709,628,703,691,698,708,696,700,694,620,697,683,617,695,651,614,628,627,611,610,609,608,607,606,605,604,603,602,601,600,599,598,597,596,573,685,593,601,593,672,658,674,656,664,587,584,612,611,582,580,668,645,655,645,660,655,642,654,641,584,652,637,649,574,565,634,636,562,561,560,559,558,557,556,555,554,553,552,551,528,631,617,633,615,623,544,622,626,541,624,608,621,537,619,608,534,622,599,609,599,614,609,596,608,595,524,592,594,605,520,589,591,517,585,592,593,585,512,580,588,588,580,587,506,589,511,581,581,537,500,514,513,497,496,495,494,493,492,491,490,489,488,487,486,463,575,483,491,564,549,561,486,477,554,554,547,557,539,549,555,539,476,545,535,537,548,477,471,526,537,528,530,524,507,531,519,531,525,522,523,531,527,510,446,457,528,530,516,449,523,513,524,437,436,435,434,433,432,431,430,407,519,427,435,509,511,497,430,421,498,498,491,501,483,493,499,483,420,489,479,481,492,421,415,494,473,446,486,488,474,462,406,468,474,468,478,477,461,442,474,458,459,401,475,467,463,467,449,446,418,448,460,456,460,426,374,373,372,371,348,400,437,450,431,431,429,447,427,429,360,428,440,442,423,424,437,353,421,423,434,349,426,420,346,413,413,425,421,425,423,339,390,392,378,335,399,333,401,417,395,401,328,396,413,325,403,359,322,336,335,319,318,317,316,293,405,313,321,319,310,387,387,380,390,372,382,388,372,309,378,368,370,381,310,304,302,359,328,374,361,367,361,371,370,354,335,367,355,359,353,293,367,359,355,359,341,338,310,340,352,348,352,318,244,243,291,356,240,288,269,341,337,339,338,324,262,337,319,320,324,318,330,261,314,314,326,325,311,311,309,307,238,237,236,235,212,260,241,239,299,306,307,267,295,303,303,295,302,284,220,219,218,217,194,283,283,297,277,279,290,294,208,291,275,276,204,287,274,272,273,276,198,266,279,273,263,260,265,267,190,271,261,256,258,269,184,252,265,266,245,246,247,243,176,244,251,252,244,171,239,247,247,239,246,165,244,248,175,245,229,210,158,172,171,155,154,153,152,129,241,149,157,229,225,227,226,212,150,141,218,218,211,221,203,213,219,203,132,160,130,213,195,196,200,194,206,186,122,203,185,205,96,95,143,124,122,195,181,181,179,177,122,188,110,105,133,103,170,170,182,181,167,167,165,163,94,175,157,177)+16..toString(36).toLowerCase().split("").map(function(t){
return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0xf481464d75).toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+59667826874..toString(36).toLowerCase()+889..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+1289650243408..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20659985..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+1657006445..toString(36).toLowerCase()+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+767824..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20659985..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+778516..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b75097b).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+15..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1166..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17735..toString(36).toLowerCase()+23..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+29..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375583..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1198535873060..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1068..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+31946..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+671..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1714020418..toString(36).toLowerCase()+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+1289650243408..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+40888..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+1940629196397..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20967490..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25805..toString(36).toLowerCase()+1024..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+1940629196397..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20967490..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375583..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+600..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35524..toString(36).toLowerCase()+916..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+27661660..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+22708..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+26..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+478..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+676..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+52562533..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1032..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+998992..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+48396257..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+677..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+671..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0xf2ac4cc95e).toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20331..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1092449..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1377158..toString(36).toLowerCase()+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+592..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+1385114..toString(36).toLowerCase()+22..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+626202286..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+36821..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+896612524..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+25805..toString(36).toLowerCase()+27..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+538..toString(36).toLowerCase()+1024..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+1940629196397..toString(36).toLowerCase()+35..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20967490..toString(36).toLowerCase()+30..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+25805..toString(36).toLowerCase()+930..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375583..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1242178186199..toString(36).toLowerCase()+778516..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+10..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+46427408782684..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+887..toString(36).toLowerCase()+23..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+29..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+42815498..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+825062..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+663..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+26473062..toString(36).toLowerCase()+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-10-o)}).join("")}(37,267,276,262,196,264,271,272,264,191,259,267,267,259,266,185,260,248,255,265,253,257,251,177,254,240,174,252,208,171,185,184,168,167,166,165,164,163,162,161,160,159,158,157,156,155,154,153,152,151,150,149,126,238,146,154,146,225,211,227,209,217,140,137,165,164,135,133,221,198,208,198,213,208,195,207,194,137,205,190,202,127,118,187,189,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,77,180,166,182,164,172,93,171,175,90,173,157,170,86,168,157,83,171,148,158,148)+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1375583..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+35785062833594..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+1517381..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+44464579187650..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+671..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+38210..toString(36).toLowerCase()+16..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+26..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+478..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+21..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-13)}).join("")+42815498..toString(36).toLowerCase()+24..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+31910..toString(36).toLowerCase()+889..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+11..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-39)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+(0x5f01e0b750750).toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+995100496..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+17367..toString(36).toLowerCase()+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-60-o)}).join("")}(30,205,186,260,242,243,247,241,253,233,177,240,234,250,230,231,177,171,254,160,159,158,157,156,155,154,153,152,151,150,149,126,174,155,229,220,228,225,210,222,153,221,206,218,143,203,219,208,210,213,198,210,141,194,194,206,205,191)+20..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-97)}).join("")+1289650243408..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+12..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+26)}).join("")+25..toString(36).toLowerCase().split("").map(function(t){return String.fromCharCode(t.charCodeAt()+-71)}).join("")+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-30-o)}).join("")}(25,225,228,229,231,228,161,214,214,226,225,211,211,209,207,138,215,218,220,218,202,214,109,108,156,137,211,193,194,198,192,204,184,128,191,185,201,181,182,128,122,205,89,137,118,201,107,106,105,104,81,129,110,184,166,167,171,165,177,157,101,164,158,174,154,155,101)+1022..toString(36).toLowerCase()+function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return t.reverse().map(function(t,o){return String.fromCharCode(t-e-26-o)}).join("")}(36,73,121))(lt,s,Lt,o,Ct,ft)};return{getPages:function(){return mt.pages},buildItems:Z,stop:X,getDom:G,buildDom:K,getPageSchema:V,isBuiltApp:tt,isPreview:et,isLivePreview:ot,getAppData:nt,getAnimationLevel:B,findItemById:rt,getItems:at,ITEM_AUTO_ID_PROPERTY:dt,hashSchema:it}}]),angular.module("app.core").factory("ComponentFactory",["$rootScope","$interpolate","$injector","$timeout","SchemaHelper","AssetFactory",function(t,e,o,n,r,a){function i(t){angular.forEach(t.pages,function(e){f(t,e,e.content)})}function s(t){return c(function(e){return e.id===t})}function c(t){if("function"!=typeof t)return null;var e=h.filter(t)[0];return e||null}function l(t){if(t.indexOf("$component")===-1)return t;var e=new RegExp("\\$component\\.pages\\.\\w+\\.\\w+\\.\\$\\w+\\.[\\w-]+","g");return e.test(t)?t.replace(e,function(e){var o=new RegExp("\\$component\\.pages\\.(\\w+)\\.(\\w+)\\.\\$(\\w+)\\.([\\w-]+)"),n=e.match(o),r=n[1],a=n[2],i=n[3],s=n[4],l=c(function(t){return t.page===r&&t.name===a});if(!l)return t;var u="";switch(i){case"attribute":var d=l.element.getAttribute(s);"string"==typeof d&&(d=JSON.stringify(d)),u=d;break;case"property":var p=l.modelProperties.filter(function(t){return t.name===s})[0];if(p&&p.getter===!0)u="$store.pages."+r+"."+a+"."+s;else{var g=l.element[s];"string"==typeof g&&(g=JSON.stringify(g)),u=g}}return u}):t}function u(e,o,n){e.explicitlySetAttributes||(e.explicitlySetAttributes=[]),e.explicitlySetAttributes.push(o),e.element.setAttribute(o,n),t.$broadcast("StoreChanged")}function d(e,o,n,r){e.element[n]=m(o,r),t.$broadcast("StoreChanged")}function p(t,o,n,r){t.attributes&&angular.forEach(t.attributes,function(a,i){if(!t.explicitlySetAttributes||t.explicitlySetAttributes.indexOf(i)===-1){var s=(t.component.annotations.attributes||[]).filter(function(t){return t.name===i})[0];if(s){var c=!1;if(angular.isObject(a)&&(a=JSON.stringify(a)),angular.isString(a)&&a.indexOf("{{")!==-1){var l={$store:window.cti.store};n&&angular.extend(l,n),c=!0,a=e(a)(l)}(r||c)&&o.setAttribute(i,a)}}})}function g(t,e){var r=o.get("StoreFactory");angular.forEach(t.modelProperties,function(o){o.storeKey="pages."+t.page+"."+t.name+"."+o.name;var a=r.get(o.storeKey);void 0===a&&r.set(o.storeKey,void 0),o.updateStore=function(){var e=t.element[o.name],n=r.get(o.storeKey);e!==n&&r.set(o.storeKey,e)},o.updateElement=function(){if(o.getter){var e=t.element[o.name],n=r.get(o.storeKey);e!==n&&(t.element[o.name]=n)}else t.element[o.name]=r.get(o.storeKey)},o.setter===!0&&(e.$watch(function(){return r.get(o.storeKey)},function(){n(function(){o.updateElement()})}),o.updateElement()),o.getter===!0&&angular.forEach(o.changeEvents,function(e){t.element.addEventListener(e,function(){n(function(){o.updateStore()})})})})}function m(t,e){if(null===e||void 0===e)return e;switch((t||"").toLowerCase()){case"bool":case"boolean":return"true"===(e||"").toLowerCase();case"number":return parseFloat(e||"0");case"integer":return parseInt(e||"0",10);default:return e.toString()}}function f(e,n,i){angular.forEach(i,function(i){function s(){var t=o.get("StoreFactory").evaluate(c.expressions.show);t===!0?u[0].classList.remove("ng-hide"):u[0].classList.add("ng-hide")}if("component"===i.type){var c=i,l=e.components.filter(function(t){return t[r.ITEM_AUTO_ID_PROPERTY]===c.componentId})[0],u=null,d=[];if(l&&l.valid){u=angular.element("<"+l.tagName+' id="'+c.name+'"></'+l.tagName+">");var p=c.content;if(angular.isString(p)&&(p=a.rewriteAssetPaths(p),u.append(p)),c.expressions&&Object.keys(c.expressions).length>0&&c.expressions&&c.expressions.show&&(s(),t.$on("StoreChanged",function(){s()})),l.annotations.events&&c.actions){var g=c.actions.filter(function(t){var e=l.annotations.events.filter(function(e){return e.name===t.event})[0];return!!e});angular.forEach(l.annotations.events,function(t){u.bind(t.name,function(e){var n={type:e.type,target:e.target,detail:e.detail};o.get("ActionFactory").triggerEvent(t.name,g,n,e)})})}d=C(l)}else u=angular.element('<div style="color: red; border: 1px solid red; padding: 10px; margin: 10px 0;">Invalid component "'+l.name+'". Please edit this component for further details.</div>');var m=c[r.ITEM_AUTO_ID_PROPERTY],S={page:n.name,name:c.name,id:m,component:l,element:u[0],attributes:c.attributes,modelProperties:d};h.push(S),angular.isArray(i.content)&&f(e,n,i.content)}else angular.isArray(i.content)&&f(e,n,i.content)})}function C(t){var e=[];if(t.annotations&&angular.isArray(t.annotations.properties)&&(e=e.concat(t.annotations.properties.map(function(t){return{property:t,config:t.modelConfig}}))),t.userConfig&&t.userConfig.properties){var o=t.userConfig.properties;for(var n in o)if(o.hasOwnProperty(n)&&o[n].modelConfig){var r=t.annotations.properties.filter(function(t){return t.name===n})[0];r&&e.push({property:r,config:o[n].modelConfig})}}var a=[],i=e.filter(function(t){return t.config.store===!0});return angular.forEach(i,function(t){a.push({name:t.property.name,getter:t.property.getter,setter:t.property.setter,changeEvents:t.config.changeEvents})}),a}var h=[];return{registerComponentInstances:i,getComponentById:s,getComponentByPredicate:c,replaceComponentExpressions:l,setAttributeValueFromAction:u,setPropertyValueFromAction:d,setUpComponentAttributes:p,setUpComponentBindings:g,getTypedValue:m,___getComponentRegistrations:function(){return h},___setComponentRegistrations:function(t){h=t}}}]),angular.module("app.core").factory("ValidationFactory",["$log","StoreFactory",function(t,e){return{isValid:function(o,n,r,a){var i=!0;switch(n.type){case"regex":if(o){var s=new RegExp(n.content);i=s.test(o)}break;case"expression":var c=angular.copy(n.content);"string"==typeof o&&(o=JSON.stringify(o));var l="$store.pages."+r+"."+a;if(c.indexOf(l)!==-1){var u=l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");c=c.replace(new RegExp(u,"g"),o)}var d=c.match(/(\$store\.pages\.\w*\.\w*)/g);angular.forEach(d,function(t){var o=e.evaluate(t);"string"==typeof o&&(o=JSON.stringify(o)),c=c.replace(t,o)}),i=e.evaluate(c);break;default:t.error("Invalid validation type specified.")}return i}}}]),angular.module("app.core").factory("TranslationService",["$rootScope","$q","$timeout","$window","$filter","$locale","$log","Plugin","Platform","SchemaHelper","StoreFactory","tmhDynamicLocale","gettextCatalog","nyaBsConfig",function(t,e,o,n,r,a,i,s,c,l,u,d,p,g){function m(){var o=sessionStorage.getItem("debug");if(o){var n=o.split("|");b=n.indexOf("*")!==-1||n.indexOf("translations")!==-1}var r=e.defer(),a=l.getLanguageSettings(),i=a.initialLanguage,s=a.defaultLocale,c=a.useDeviceLocale;p.debug=b,p.baseLanguage=s,d.setLocaleLocationPattern(t.basedir+"assets/i18n/angular-locale_{{ locale }}.js");var g=!1,m=sessionStorage.getItem(A);if(null===m){var f=u.get(L);void 0!==f&&null!==f||(g=!0),m=f||i}else sessionStorage.removeItem(A);return h(c,g,m,i,s).then(function(e){u.set(L,e),S(e,s).then(function(t){return v(t,s)}).then(function(t){return w(t)}).then(function(e){t.currentLanguage=e,r.resolve()})}),r.promise}function f(t){void 0===t&&(t="");var e=u.get(L);e!==t&&(sessionStorage.setItem(A,t),n.location.reload())}function C(t){return t instanceof Array?t.map(function(t){return r("translate")(t)}):"string"==typeof t?r("translate")(t):t}function h(t,o,n,r,a){function i(t){return t.replace(/-/g,"_").toLowerCase()}function u(t,e){var o=(t||"").toLowerCase();if(!o||o===a.toLowerCase())return e;var n=l.getSchemaConfigItemsByItemType("language"),r=[];if(angular.forEach(n,function(t){t.localeId&&r.push(t.localeId.toLowerCase())}),r.sort(),y("Available localeIds:",r),r.indexOf(o)!==-1)return t;o.indexOf("_")!==-1&&(o=o.substring(0,o.indexOf("_")));for(var i="",s=0;s<r.length&&!i;s++)0===r[s].indexOf(o)&&(i=r[s]);return i||e}var d=e.defer();if(t)if(o)if("desktop"===c.getType()){y('Obtained desktop language: "'+navigator.language+'"');var p=i(navigator.language),g=u(p,r);y('Resolved desktop language to: "'+g+'"'),d.resolve(g)}else{var m=s.getSource("globalization");m&&"function"==typeof m.getPreferredLanguage?m.getPreferredLanguage(function(t){y('Obtained device language: "'+t.value+'"');var e=i(t.value),o=u(e,r);y('Resolved device language to: "'+o+'"'),d.resolve(o)},function(){d.resolve(n)}):d.resolve(n)}else y('Language code already established: "'+n+'"'),d.resolve(n);else y('Bypassing device locale; returning stored language: "'+n+'"'),d.resolve(n);return d.promise}function S(o,n){var r=e.defer();if(o)if(o.toLowerCase()===n.toLowerCase())y("Language code matches default locale; skipping translation"),p.setCurrentLanguage(n),r.resolve("");else{for(var a=l.getSchemaConfigItemsByItemType("language"),s=null,c=0;c<a.length&&null===s;c++)a[c].localeId&&a[c].localeId.toLowerCase()===o.toLowerCase()&&(s=a[c]);if(null===s)i.error('Could not find language matching locale id "'+o+'"; skipping translation'),p.setCurrentLanguage(n),r.resolve("");else{var u=t.assetDir+s.fileName;y('loading translation file "'+u+'"'),p.loadRemote(u).then(function(){y('setting language to "'+o+'"'),p.setCurrentLanguage(o),r.resolve(o)})["catch"](function(){i.error('Could not load translation file "'+u+'"; skipping translation'),p.setCurrentLanguage(n),r.resolve("")})}}else y("Default language; skipping translation"),p.setCurrentLanguage(n),r.resolve("");return r.promise}function v(t,o){var n=e.defer();t||(t=o);var r=t.replace(/_/g,"-").toLowerCase();return y('loading locale "'+r+'"'),d.set(r).then(function(){n.resolve(t)})["catch"](function(){var t=p.baseLanguage.replace(/_/g,"-").toLowerCase();i.error('Could not load locale file for locale "'+r+'"; Reverting to "'+t+'"'),d.set(t).then(function(){n.resolve(p.baseLanguage)})}),n.promise}function w(t){var o=e.defer();g.defaultNoneSelection=C(g.defaultNoneSelection),g.noSearchResult=C(g.noSearchResult);var n=angular.element.prototype.pickadate;n.defaults.monthsFull=a.DATETIME_FORMATS.STANDALONEMONTH,n.defaults.monthsShort=a.DATETIME_FORMATS.SHORTMONTH,n.defaults.weekdaysFull=a.DATETIME_FORMATS.DAY,n.defaults.weekdaysShort=a.DATETIME_FORMATS.SHORTDAY,n.defaults.today=C(n.defaults.today),n.defaults.clear=C(n.defaults.clear),n.defaults.close=C(n.defaults.close);var r=angular.element.prototype.pickatime;return r.defaults.amSmall=a.DATETIME_FORMATS.AMPMS[0],r.defaults.amLarge=a.DATETIME_FORMATS.AMPMS[0],r.defaults.pmSmall=a.DATETIME_FORMATS.AMPMS[1],r.defaults.pmLarge=a.DATETIME_FORMATS.AMPMS[1],r.defaults.clear=C(r.defaults.clear),o.resolve(t),o.promise}function y(){if(b===!0&&void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[translation.fct.js] "+t[0]),i.log.apply(i,t)}}var L="currentLanguageCode",A="newLanguageCode",b=!1;return{init:m,setLanguage:f,translate:C}}]),angular.module("app.core").factory("StoreFactory",["$rootScope","$parse","$interval","$interpolate","$log","$q","localStorageService","StoreProvider","$timeout","$injector","AssetFactory","ComponentFactory","Utilities",function(t,e,o,n,r,a,i,s,c,l,u,d,p){function g(t,o){return 0===t.indexOf("$store.")&&(t=t.replace("$store.","")),e(t)(window.cti.store,o)}function m(t,e){var o=e.controller("mdContextProvider"),n=o?o.getContextItemData("$data"):null;return g(t,n)}function f(t,o,n,r){0===t.indexOf("$store.")&&(t=t.replace("$store.",""));var a=e(t),i=a.assign;i(n||window.cti.store,o);var s=r?0:null;return F(s)}function C(t,e,o,n){var r=o.controller("mdContextProvider"),a=r?r.getContextItemData("$data"):null;return f(t,e,a,n)}function h(t,o){var n=e(t)(window.cti.store);return void 0==n&&(n=[]),n.push(o),f(t,n),F(),e(t)(window.cti.store)}function S(t,o){var n=e(t)(window.cti.store);void 0!=n&&void 0!=n[o]&&n.splice(o,1),f(t,n),F()}function v(){var t=a.defer();return M.get(O+"_data").then(function(e){R=e._rev,window.cti.store=P(angular.copy(N),e.data),void 0!==s.options.initialData&&(window.cti.store=P(window.cti.store,s.options.initialData)),t.resolve()})["catch"](function(){M.put({_id:O+"_data",data:angular.copy(N)}).then(function(e){void 0!==s.options.initialData&&(window.cti.store=P(window.cti.store,s.options.initialData)),R=e.rev,t.resolve()})["catch"](function(e){r.error(e),t.reject(e)})}),t.promise}function w(){null!==O&&i.remove(O+"_stack"),null!==M&&M.destroy().then(function(){window.location.reload()})["catch"](function(){r.error("Could not remove database.")})}function y(t){void 0!==t?f("pages."+t,{}):f("pages",{})}function L(t,e){var o=a.defer();return O=t,M=new PouchDB(O,{revs_limit:10}),void 0!==e.settings&&e.settings.encryption===!0?D(t).then(function(t){return M.crypto(t)}).then(function(){return v()}).then(function(){f("schema",angular.copy(e)),o.resolve()})["catch"](function(t){o.reject(t)}):v().then(function(){f("schema",angular.copy(e)),o.resolve()})["catch"](function(t){o.reject(t)}),o.promise}function A(){var t=a.defer();return q=new PouchDB(U,{revs_limit:10}),D(U).then(function(e){q.crypto(e).then(function(){q.allDocs({include_docs:!0}).then(function(e){if(0===e.total_rows){var o=p.uuid();q.put({_id:"instance_id",data:o}).then(function(){t.resolve()})["catch"](function(e){r.error(e),t.reject(e)})}else t.resolve()})})})["catch"](function(e){t.reject(e)}),t.promise}function b(t,e){if(!t)throw new Error("key cannot be empty");var o=a.defer();return q.get(t).then(function(t){t.data===JSON.stringify(e)?o.resolve():(t.data=e,q.put(t).then(function(){o.resolve()})["catch"](function(t){r.error(t),o.reject(t)}))})["catch"](function(n){return 404===n.status?void q.put({_id:t,data:e}).then(function(){o.resolve()})["catch"](function(t){r.error(t),o.reject(t)}):(r.error(n),void o.reject(n))}),o.promise}function j(t){if(!t)throw new Error("key cannot be empty");var e=a.defer();return q.get(t).then(function(t){e.resolve(t.data);
})["catch"](e.reject),e.promise}function $(e,o){function n(e){return e.indexOf("$component")!==-1&&(e=d.replaceComponentExpressions(e)),t.$eval(e,r)}var r={$store:window.cti.store};return o&&angular.isObject(o)&&(r=angular.extend(r,o)),"object"==typeof e?angular.forEach(e,function(t,o){void 0!=t&&"string"==typeof t&&"*"!=t&&(e[o]=n(e[o]))}):void 0!=e&&"*"!=e&&(e=n(e)),e}function x(t,e){var o=e.controller("mdContextProvider"),n=o?o.getContextItemData("$data"):null;return $(t,n)}function T(t,e,o){if(void 0===e&&(e={}),void 0===e.$store&&(e.$store=window.cti.store),"object"==typeof t?angular.forEach(t,function(n,r){"string"==typeof n&&n.indexOf("{{")>-1?t[r]=T(t[r],e,o):"object"==typeof n&&angular.toJson(n).indexOf("{{")>-1&&(t[r]=T(t[r],e,o))}):t&&"*"!==t&&(t.indexOf("$component")!==-1&&(t=d.replaceComponentExpressions(t)),t=n(t)(e)),o===!1)return t;try{return angular.fromJson(t)}catch(r){return t}}function E(t,e){if(t.indexOf("{{")>-1&&(t=T(t)),void 0!=e&&0!==Object.getOwnPropertyNames(e).length){var o="?";angular.forEach(e,function(t,e){"?"!=o&&(o+="&"),t.indexOf("{{")>-1&&(t=T(t)),o+=e+"="+encodeURI(t)}),t+=o}return t}function k(){var t=angular.copy(window.cti.store);return t.schema=void 0,t}function F(t){if(void 0!==t&&null!==t||(t=250),null!==O&&null!==M&&null!==R){null===B&&(B=a.defer()),null!==G&&c.cancel(G);var e=function(){r.debug("SAVING AT REVISION:",R),M.put({_id:O+"_data",_rev:R,data:k()}).then(function(t){R=t.rev,null!==B&&(B.resolve(),B=null)})["catch"](function(o){void 0!==o.status&&409==o.status?(r.debug("Caught document update conflict",o),c(e,t)):(r.error(o),null!==B&&(B.reject(o),B=null))})};return G=c(function(){e()},t),B.promise}}function I(t){if(void 0!=t.name&&void 0!=t.content)try{var e=[];void 0!=t.params&&t.params.length>0&&angular.forEach(t.params,function(t){e.push(t.name)}),e.push("$success"),e.push("$fail"),e.push("$store");var o=u.rewriteAssetPaths(t.content);window.cti[t.name]=new Function(e,o),window.cti[t.name].prototype.sync=t.sync===!0}catch(n){r.info("Couldn not successfully eval function code (store.fct.js:148): "),r.error(n)}}function P(t,e){return angular.forEach(e,function(o,n){"$event"===n?t.$event=o:"object"!=typeof o||null===o?t[n]=o:(void 0==t[n]&&("[object Array]"===Object.prototype.toString.call(e[n])?t[n]=[]:t[n]={}),t[n]=P(t[n],o))}),t}function _(t){window.cti.store=P(window.cti.store,t),F()}function D(t){var e=a.defer(),o=l.get("Plugin"),n=o.getSource("securesettings");return n?n.getOrCreateCryptographicKey(e.resolve,e.reject,t,512):e.resolve("1x28ucKW25UFbvZb10f/dN1ZjnOyPCWufYVDQnC8Ji7WabM9pRo6PkwjgRhaqDmFb20+TBCc/W0H8PsV0cfo1+8WIHz81joB"),e.promise}var O=null;window.cti.store={env:{},language:"en_GB",state:{},api:{},offlineApi:{},azureAppServices:{},xmpp:{},messageQueues:{listeningTo:[]},geofences:{},plugin:{},repeater:{},schema:{},media:{},notification:{},xcallback:{success:"",error:"",cancel:"",source:""},variables:{today:new Date},pages:{}};var N=angular.copy(window.cti.store),M=null,R=null,U="infinity_app_settings",q=null,V={init:L,evaluate:$,evaluateForElement:x,parse:T,get:g,getForElement:m,set:f,setForElement:C,push:h,remove:S,setFunction:I,parseUrl:E,save:F,destroyAllData:w,destroyPageData:y,merge:P,mergeInitialData:_,getId:function(){return O},initSettingsDb:A,setSetting:b,getSetting:j},G=null,B=null;t.$watch(function(){return window.cti.store},function(e,o){e!=o&&(F(),t.$broadcast("StoreChanged"),document.dispatchEvent(new CustomEvent("StoreChanged")))},!0);var H=function(){t.$$phase||t.$apply()};return document.addEventListener("StoreHasChanged",H),t.$on("StoreHasChanged",H),document.addEventListener("SaveToStore",function(t){var e=t.detail.key,o=t.detail.data;void 0!==e&&f(e,o)}),V}]).filter("store",["StoreFactory","$filter",function(t,e){var o=function(o,n){if(void 0!=o){var r=t.evaluate(o);return angular.isArray(r)&&void 0!=n&&(r=e("filter")(r,n)),r}};return o.$stateful=!0,o}]).filter("trust",["$sce",function(t){var e=function(e){return t.trustAsHtml(e)};return e.$stateful=!0,e}]),angular.module("app.core").provider("StoreProvider",function(){this.options={},this.set=function(t,e){switch(t){case"initialData":this.options.initialData=e}};var t=this;this.$get=function(){return{options:t.options,set:t.set}}}),angular.module("app.core").factory("Plugin",["$http","$log","$q","StoreFactory","$interval","electron",function(t,e,o,n,r,a){function i(t,e,o,a){if(this.name=t,this.events=[],this.polls=[],this.operations=a,void 0!=e&&(this.events=e,this.events.length>0)){var i=this;angular.forEach(this.events,function(t){window.addEventListener(t.name,function(e){n.set("plugin."+i.name+"."+t.name,e)})})}if(void 0!=o&&(this.polls=o,this.polls.length>0)){var s=this;angular.forEach(this.polls,function(t){r(function(){s.callAction(t.action,t.params,t.options)},t.interval)})}}return i.prototype={callAction:function(t,r){var a=this,s=o.defer(),c=[];angular.forEach(this.operations,function(e){e.name==t&&void 0!=e.params&&(c=angular.copy(e.params))});var l=function(e){n.set("plugin."+a.name+"."+t,e),s.resolve(e)},u=function(t){e.error(t),s.reject(t)},d=[];angular.forEach(c,function(t){var e=null;switch(t.name){case"$successCallback":e=l;break;case"$errorCallback":e=u;break;default:e=void 0!=r[t.name]?r[t.name]:t["default"]}null!==e&&d.push(e)});var p=i.getSource(this.name);if(p!==!1&&void 0!=p[t])try{p[t].apply(null,d)}catch(g){s.reject(g),e.error(g)}else s.reject("Could not call action");return s.promise}},i.getSource=function(t){if(void 0!==window[t])return window[t];if(void 0!==window.cordova&&void 0!==cordova[t])return cordova[t];if(void 0!==window.cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins[t])return cordova.plugins[t];if(void 0!==window.plugins&&void 0!==window.plugins[t])return window.plugins[t];if(void 0!==navigator&&void 0!==navigator[t])return navigator[t];if(void 0===a.app)return e.info("Plugin '"+t+"' is not available."),!1;var o=!1;try{return o=require(t)}catch(n){if(o===!1||void 0===o){var r=t.replace(/\-/g,"").toLowerCase();try{return o=require("@commontimeltd/com.commontime."+r)}catch(n){return!1}}return!1}},i}]),angular.module("app.core").factory("OptionFactory",["$rootScope","$parse","localStorageService",function(t,e,o){function n(t){return e(t)(i)}function r(t){a=t;var e=o.get(t+"_options");null!==e&&(i=e)}var a=null,i={},s={init:r,get:n};return s}]),angular.module("app.core").factory("Api",["$http","$log","$q","$timeout","$injector","$httpParamSerializer","StoreFactory","Utilities","FileSystem","MimeTypes",function(t,e,o,n,r,a,i,s,c,l){function u(t,e,o,n,r){this.name=t,this.url=e,this.params=o,this.headers=n,this.operations=r}return u.prototype={buildRequestObject:function(t,e,n){var r=o.defer(),s=this,c=s.url;"string"==typeof c&&c.indexOf("{{")>-1&&(c=i.parse(c));var l={url:c+t.path,method:t.method||"GET",params:{},headers:{}},u=["POST","PUT","CONNECT","PATCH"];u.indexOf(l.method)!==-1&&t["content-type"]&&(l.headers["Content-Type"]=t["content-type"]);var d=["POST","PUT","CONNECT","PATCH"];d.indexOf(l.method)!==-1&&(l.data={}),"JSONP"==l.method&&(l.params.callback="JSON_CALLBACK");var p=o.when(),g=[p];return angular.forEach(s.params,function(t){g.push(s.constructParameter(t,e,l,n))}),o.all(g).then(function(){return g=[p],angular.forEach(t.params,function(t){g.push(s.constructParameter(t,e,l,n))}),o.all(g)}).then(function(){"application/x-www-form-urlencoded"==l.headers["Content-Type"]&&(l.data=a(l.data)),t.downloadAsFile===!0&&(l.responseType="arraybuffer"),r.resolve(l)}),r.promise},constructParameter:function(t,n,r,a){var s=o.defer(),l=void 0;if(n&&void 0!==n[t.name]&&""!==n[t.name]?l=n[t.name]:void 0!==t["default"]?l=t["default"]:t.required===!0&&s.reject("Parameter '"+t.name+"' must be provided."),t.typeConfig=t.typeConfig||{},void 0!==l){"string"==typeof l&&l.indexOf("{{")>-1&&(l=i.parse(l));var u="function"==typeof a?a(r,t,l):o.when(!1);u.then(function(o){if(o)s.resolve();else switch(t["in"]){case"path":r.url=r.url.replace("{{"+t.name+"}}",l),s.resolve();break;case"query":r.params[t.name]=l,s.resolve();break;case"header":r.headers[t.name]=l,s.resolve();break;case"body":if(!r.data){s.reject("Unable to add parameter '"+t.name+"' to body of "+r.method.toUpperCase()+" request");break}r.data[t.name]=l,s.resolve();break;case"formData":if(!r.data){s.reject("Unable to add parameter '"+t.name+"' to form data of "+r.method.toUpperCase()+" request");break}if(r.data instanceof FormData||(r.data=new FormData),r.headers["Content-Type"]=void 0,"file"===t.type)try{var n=c.getFileNameFromPath(l);c.getFileBlob(n).then(function(e){if(t.typeConfig.fileNameParameterName&&r.data.append(t.typeConfig.fileNameParameterName,n),t.typeConfig.base64encode===!0){var o=new FileReader;o.onloadend=function(e){var o=e.target.result;r.data.append(t.name,o),s.resolve()},o.readAsDataURL(e)}else r.data.append(t.name,e,n),s.resolve()})["catch"](function(t){e.error(t),s.reject(t)})}catch(a){e.error(a),s.reject(a)}else r.data.append(t.name,l),s.resolve();break;default:s.reject("Unknown parameter location")}})}else s.resolve();return s.promise},makeRequest:function(e,n,a){function i(t){if(void 0!==a){var e=r.get("ActionFactory");e.triggerEvent("success",a,{$response:t})}}function s(t){if(void 0!==a){var e=r.get("ActionFactory");e.triggerEvent("fail",a,{$response:t})}}var c=o.defer(),l=this,u=l.operations.filter(function(t){return t.name===e});if(u.length>0){var d=u[0];l.buildRequestObject(d,n).then(function(e){return t(e)}).then(function(t){d.downloadAsFile===!0?l.handleFileDownload(t,d).then(function(t){c.resolve(t),c.promise.then(function(t){i(t)})})["catch"](function(t){s(),c.reject(t)}):(c.resolve(t.data),c.promise.then(function(t){i(t)}))})["catch"](function(t){s(t),c.reject(t)})}else c.reject("Requested operation could not be found.");return c.promise},handleFileDownload:function(t,e){var n=o.defer(),r=t.headers("Content-Type").split(";")[0].trim(),a="";if((e.downloadFileName||"").trim().length>0)a=e.downloadFileName;else{a=s.uuid();var i=l.extensionFromMimeType(r);null!==i&&(a+="."+i)}return c.saveFile(a,t.data).then(function(t){n.resolve(t)})["catch"](function(t){n.reject(t)}),n.promise}},u.merge=function(t,e){var o={};return void 0!=t&&(o=t),void 0!=e&&angular.forEach(e,function(t,e){"object"!=typeof t?o[e]=t:(void 0==o[e]&&(o[e]={}),o[e]=u.merge(o[e],t))}),o},u}]),angular.module("app.core").factory("ApiFactory",["$http","$log","StoreFactory","$timeout","$q","Api","LoadingStatus",function(t,e,o,n,r,a,i){function s(t){l[t.name]=new a(t.name,t.url,t.params,t.headers,t.operations,t.actions)}function c(t,a){var s=r.defer(),c=t.name;return void 0!=l[c]&&(i.disabled!==!0&&(i.loading=!0,i.message=u.message),o.set("state.loading",!0),l[c].makeRequest(t.operation,t.params,a).then(function(e){o.set("api."+c+"."+t.operation,e).then(function(){n(function(){i.disabled!==!0&&(i.loading=!1),o.set("state.loading",!1)},1e3),s.resolve(e)})["catch"](function(t){s.reject(t)})})["catch"](function(t){e.error(t),o.set("state.loading",!1),s.reject(t),i.disabled!==!0&&(i.loading=!1,i.error="There was an error retrieving data")})),s.promise}var l={},u={loading:!1,error:!1,message:"Loading data..."};return{init:s,makeRequest:c}}]),angular.module("app.core").service("AssetFactory",["$rootScope","$injector","$http","angularLoad",function(t,e,o,n){function r(r){var a=t.assetDir+r,s=e.get("SchemaService");s.isPreview()||s.isLivePreview()?o.get(a).then(function(t){var e=document.createElement("script");e.textContent=i(t.data),document.body.appendChild(e)}):n.loadScript(a)}function a(e){var n=t.assetDir+e;o.get(n).then(function(t){var e=document.createElement("style");e.textContent=i(t.data),document.head.appendChild(e)})}function i(e){if(t.assetDir){var o=t.assetDir.replace(/\\/g,"/");return e.replace(/user-assets\//g,o)}return e}return{injectJsAsset:r,injectCssAsset:a,rewriteAssetPaths:i}}]),angular.module("app.core").factory("AudioRecordingFactory",["$q","Plugin","FileSystem",function(t,e,o){function n(){var e=t.defer();return null!==s&&c==i.MEDIA_RUNNING?a().then(function(){s=null,e.resolve()})["catch"](function(){s=null,e.resolve()}):e.resolve(),e.promise}function r(){var e=t.defer();return n().then(function(){o.generateFileName().then(function(t){s=new i(t,function(){},function(t){e.reject(t)},function(t){c=t,"function"==typeof l&&l()});var o={SampleRate:44100,NumberOfChannels:1};s.startRecordWithCompression(null,o),e.resolve()})}),e.promise}function a(){var e=t.defer();if(null===s||c!=i.MEDIA_RUNNING)e.reject("Audio not currently recording.");else{s.stopRecord();var o=s.src;s.release(),l=function(){c==i.MEDIA_STOPPED&&(l=null,e.resolve(o))}}return e.promise}var i=e.getSource("Media"),s=null,c=i.MEDIA_STOPPED,l=null;return document.addEventListener("stop-all-recording",a),{startRecordingWithCompression:r,stopRecording:a}}]),angular.module("app.core").factory("PluginFactory",["Plugin","$timeout","StoreFactory","LoadingStatus","$q",function(t,e,o,n,r){function a(e){s[e.name]=new t(e.name,e.events,e.polls,e.operations)}function i(t,a,i){var l=r.defer();n.loading=!0,n.message=c.message;var u=o.parse(angular.copy(i));return s[t].callAction(a,u).then(function(){e(function(){n.loading=!1},1e3),l.resolve()})["catch"](function(){n.loading=!1,n.error="There was an error calling the plugin",l.reject()}),l.promise}var s={},c={loading:!1,error:!1,message:"Calling plugin..."},l={init:a,callAction:i};return l}]),angular.module("app.core").value("LoadingStatus",{loading:!1,error:!1,message:"Loading data...",disabled:!1}),angular.module("app.core").factory("ActionFactory",["$injector","$q","StoreFactory","ApiFactory","PluginFactory","$rootScope","$location","$log","UrlFactory","toastr","VariableFactory","Router","Camera","AudioRecordingFactory","Notification","$parse","IBeaconFactory","GeofenceFactory","XmppFactory","MessageQueueFactory","SchemaHelper","FileSystem","MimeTypes","TranslationService","ActionflowFactory","DataflowFactory","AzureAppServicesFactory","RestFactory","AudioPlayer","ComponentFactory","GoogleMapService","DirectiveBridge","ListFactory","LoggingFactory",function($injector,$q,StoreFactory,ApiFactory,PluginFactory,$rootScope,$location,$log,UrlFactory,toastr,VariableFactory,Router,Camera,AudioRecordingFactory,Notification,$parse,IBeaconFactory,GeofenceFactory,XmppFactory,MessageQueueFactory,SchemaHelper,FileSystem,MimeTypes,TranslationService,ActionflowFactory,DataflowFactory,AzureAppServicesFactory,RestFactory,AudioPlayer,ComponentFactory,GoogleMapService,DirectiveBridge,ListFactory,LoggingFactory){function evalOperation(t){var e=null;switch(t.type){case"value":if(angular.isNumber(t.content)||parseInt(t.content)||parseFloat(t.content))e=" "+t.content;else{var o=angular.isString(t.content)?t.content.replace(/"/g,'\\"'):t.content;e=' "'+o+'"'}break;case"operator":case"connector":e=" "+t.content}return e}function evalOperations(t,e){var o=!1;if(void 0!==t&&t.length>0){t=void 0===e?StoreFactory.parse(t):StoreFactory.parse(t,{$data:e},!1);var n="";angular.forEach(t,function(t){n+=evalOperation(t)});try{o=$parse(n)({})}catch(r){$log.error("Could not evaluate the logic expression")}}return o}function triggerEvent(t,e,o,n){var r=$q.when(),a=0,i={},s={},c=0;void 0!==o&&null!==o||void 0===n||null===n||(o={keyCode:n.keyCode,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey},n.target&&n.target.hasOwnProperty("value")&&(o.value=n.target.value));var l=function(t){return!(t>0)||i[t-1]!==!1&&l(t-1)};return angular.forEach(e,function(e){if(null===t||!e.event||e.event===t)switch(e.type){case"if":r=r.then(function(t){var n=void 0===t&&0===c?o:t;return a++,void 0!==e.operations&&e.operations.length>0&&(i[a]=evalOperations(angular.copy(e.operations),n),i[a-1]!==!1&&s[a]!==!0&&i[a]===!0&&(s[a]=!0)),$q.when(n)});break;case"end-if":r=r.then(function(t){var e=void 0===t&&0===c?o:t;return delete s[a],delete i[a],a--,$q.when(e)});break;case"otherwise":r=r.then(function(t){var e=void 0===t&&0===c?o:t;return i[a]=s[a]!==!0,$q.when(e)});break;case"otherwise-if":r=r.then(function(t){var n=void 0===t&&0===c?o:t;return s[a]===!0?i[a]=!1:(void 0!==e.operations&&e.operations.length>0&&(i[a]=evalOperations(angular.copy(e.operations),n)),i[a]===!0&&(s[a]=!0)),$q.when(n)});break;default:r=r.then(function(t){var n=void 0===t&&0===c?o:t;return i[a]!==!1&&l(a)?(c++,call(e,n)()):$q.when(n)})}}),a=0,i={},s={},r}function evalExpressions(t,e){return angular.forEach(t,function(t,o){"expressions"!=o&&("object"==typeof t?e[o]=evalExpressions(t,e[o]):e[o]=StoreFactory.evaluate(t))}),e}function call(originalAction,$data){var parsedAction=angular.copy(originalAction);"loop"!==parsedAction.type&&(parsedAction=StoreFactory.parse(parsedAction,{$data:$data}));var $store=window.cti.store;return function(){var deferred=$q.defer(),_success=function(t){deferred.resolve(t)},_error=function(t,e){$log.error('Error in action "'+originalAction.type+'"\n\n',t,"\n\nAction schema:",originalAction,"\n\nParsed action schema:",parsedAction),void 0!==e&&$log.error(e),deferred.resolve(t)};switch(void 0!==parsedAction.expressions&&(parsedAction=evalExpressions(parsedAction.expressions,parsedAction)),parsedAction.type){case"set-layers":!function(){var t=DirectiveBridge.getItemApi(parsedAction.data.page,parsedAction.data.map),e=parsedAction.data.layer;t?e&&t.setMapLayers(e,parsedAction.data.show)?_success($data):_error("Could not find layer: "+e):_error("Could not find map: "+parsedAction.data.map+" on "+parsedAction.data.page+".")}();break;case"set-map-type":!function(){var t=DirectiveBridge.getItemApi(parsedAction.data.page,parsedAction.data.map),e=parsedAction.data.maptype;t&&e?(t.setMapTypeId(e),_success($data)):_error("Could not find map: "+parsedAction.data.map+" on "+parsedAction.data.page+".")}();break;case"set-controls":!function(){var t=DirectiveBridge.getItemApi(parsedAction.data.page,parsedAction.data.map),e=parsedAction.data.control,o=parsedAction.data.show;t?e&&t.setControls(e,o)?_success($data):_error("Could not find control: "+e):_error("Could not find map: "+parsedAction.data.map+" on "+parsedAction.data.page+".")}();break;case"set-location":var lat=parseFloat(parsedAction.data.lat),lng=parseFloat(parsedAction.data.lng),zoom=parseInt(parsedAction.data.zoom),pan=parsedAction.data.pan;if(isNaN(lat)||isNaN(lng)){_error($data,"No lat/lng provided");break}var api=DirectiveBridge.getItemApi(parsedAction.data.page,parsedAction.data.map);api?(api.setLocation(lat,lng,zoom,pan),_success($data)):_error("Could not find map: "+parsedAction.data.map+" on "+parsedAction.data.page+".");break;case"set-model":try{var key=parsedAction.data.location,valueOrEmpty=parsedAction.data.value||"",value="string"==typeof valueOrEmpty?valueOrEmpty:JSON.stringify(valueOrEmpty),trimmedValue=value.trim(),dataType=parsedAction.data.dataType;if(void 0!==key){var alternativeModel=null;0!==key.indexOf("$store")&&(alternativeModel={$data:$data}),""===dataType&&(dataType=0===trimmedValue.length?"empty":["true","false"].indexOf(trimmedValue.toLowerCase())!==-1?"boolean":/^[0-9]*\.?[0-9]+$/.test(trimmedValue)?"number":"["===trimmedValue[0]?"array":"{"===trimmedValue[0]?"object":"string");var typedValue;switch(dataType){default:case"string":typedValue=value;break;case"number":typedValue=parseFloat(value)||0;break;case"boolean":typedValue=["","false","0"].indexOf(trimmedValue.toLowerCase())===-1;break;case"array":try{typedValue=JSON.parse(trimmedValue),angular.isArray(typedValue)||(typedValue=[])}catch(e){typedValue=[]}break;case"object":try{typedValue=JSON.parse(trimmedValue),angular.isObject(typedValue)||(typedValue={})}catch(e){typedValue={}}break;case"empty":typedValue=void 0}StoreFactory.set(key,typedValue,alternativeModel,!0).then(function(){alternativeModel&&$rootScope.$broadcast("StoreChanged")}),_success($data)}else _error("Model location has not been specified.")}catch(e){_error(e)}break;case"change-language":TranslationService.setLanguage(parsedAction.data.language);break;case"upload-file":!function(){var t=parsedAction.data.filePath,e=FileSystem.getFileNameFromPath(t),o=parsedAction.data.uploadUrl,n=parsedAction.data.saveResponseInModel,r=parsedAction.data.modelLocation,a={httpMethod:parsedAction.data.uploadMethod||"POST",fileName:e,fileKey:parsedAction.data.fileParameterName||"source"};FileSystem.upload(t,o,a).then(function(t){return n&&StoreFactory.set(r,t.response),_success(t)})["catch"](_error)}();break;case"download-file":!function(){var t=parsedAction.data.downloadUrl,e=parsedAction.data.saveAsFileName,o=parsedAction.data.modelLocation;FileSystem.download(t,e).then(function(t){return StoreFactory.set(o,t.filePath),_success(t)})["catch"](_error)}();break;case"call-actionflow":ActionflowFactory.execute(parsedAction.data.name,$data).then(_success)["catch"](_error);break;case"call-dataflow":DataflowFactory.execute(parsedAction.data.name,$data).then(_success)["catch"](_error);break;case"call-api":parsedAction.data.sync===!0?ApiFactory.makeRequest(parsedAction.data,originalAction.actions).then(_success)["catch"](_error):(ApiFactory.makeRequest(parsedAction.data,originalAction.actions),_success($data));break;case"call-offline-api":RestFactory.makeRequest(parsedAction).then(_success)["catch"](_error);break;case"call-azure-app-service":AzureAppServicesFactory.makeRequest(parsedAction).then(_success)["catch"](_error);break;case"logout-azure-app-service":AzureAppServicesFactory.logout().then(_success)["catch"](_error);break;case"send-xmpp-message":case"resend-xmpp-message":XmppFactory.send(parsedAction.data).then(_success)["catch"](_error);break;case"send-xmpp-group-message":XmppFactory.sendToGroup(parsedAction.data).then(_success)["catch"](_error);break;case"xmpp-login":XmppFactory.login(parsedAction.data).then(_success)["catch"](_error);break;case"xmpp-logout":XmppFactory.logout(parsedAction.data).then(_success)["catch"](_error);break;case"xmpp-mark-read":XmppFactory.markRead(parsedAction.data).then(_success)["catch"](_error);break;case"xmpp-mark-acknowledged":XmppFactory.markAcknowledged(parsedAction.data).then(_success)["catch"](_error);break;case"xmpp-set-status":XmppFactory.setStatus(parsedAction.data).then(_success)["catch"](_error);break;case"start-message-queue-listening":MessageQueueFactory.startListening(parsedAction.data.name).then(_success)["catch"](_error);break;case"stop-message-queue-listening":MessageQueueFactory.stopListening(parsedAction.data.name).then(_success)["catch"](_error);break;case"send-message-queue-message":MessageQueueFactory.sendMessage(parsedAction.data.name,parsedAction.data.message).then(_success)["catch"](_error);break;case"call-plugin":PluginFactory.callAction(parsedAction.data.name,parsedAction.data.operation,parsedAction.data.params).then(_success)["catch"](_error);break;case"call-url":UrlFactory.makeRequest(parsedAction.data).then(_success)["catch"](_error);break;case"call-x-callback-url":var url=null;switch(parsedAction.data.type){case"x-source":url=StoreFactory.get("xcallback.source");break;case"x-success":url=StoreFactory.get("xcallback.success");break;case"x-error":url=StoreFactory.get("xcallback.error");break;case"x-cancel":url=StoreFactory.get("xcallback.cancel")}url=StoreFactory.parseUrl(url,parsedAction.data.params),window.open(url,"_system"),_success(url);break;case"go-back":Router.goPrevious(),_success($data);break;case"go-to-page":var location=null;parsedAction.data.isConditional!==!0?void 0!==parsedAction.data.name&&parsedAction.data.name.length>0&&(location="/"+parsedAction.data.name):void 0!==parsedAction.data.expressions&&angular.forEach(parsedAction.data.expressions,function(t,e){null===location&&StoreFactory.evaluate(t)&&(location="/"+e)}),null!==location?(Router.go(location),_success(location)):_error($data);break;case"set-variable":VariableFactory.setVariable(parsedAction.data.name,parsedAction.data.value).then(function(){_success($data)})["catch"](_error);break;case"call-function":var functionItem=SchemaHelper.getSchemaConfigItemByName(parsedAction.data.name);if(parsedAction.data.name&&"function"==typeof window.cti[parsedAction.data.name]&&functionItem){void 0==parsedAction.data.params&&(parsedAction.data.params={});try{var paramsArr=[];angular.forEach(functionItem.params,function(t){var e=t.name,o=parsedAction.data.params[e];paramsArr.push(o)});var $success=function(t){void 0!==functionItem.actions&&functionItem.actions.length>0&&triggerEvent("success",functionItem.actions,t),_success(t)},$fail=function(t){void 0!==functionItem.actions&&functionItem.actions.length>0&&triggerEvent("fail",functionItem.actions,t),_error(t)};paramsArr.push($success),paramsArr.push($fail),paramsArr.push(window.cti.store),window.cti[parsedAction.data.name].apply({$success:$success,$fail:$fail},Array.prototype.slice.call(paramsArr,0)),window.cti[parsedAction.data.name].prototype.sync!==!0&&_success($data)}catch(e){_error("Couldn't successfully call function:",e)}}else _error("Specified function doesn't exist");break;case"inline-function":if(void 0!==parsedAction.data.code)try{var func=null;if(eval("func = function(){"+parsedAction.data.code+"}"),null!==func){var $success=function(t){void 0!==parsedAction.actions&&parsedAction.actions.length>0&&triggerEvent("success",originalAction.actions,t),_success(t)},$fail=function(t){void 0!==parsedAction.actions&&parsedAction.actions.length>0&&triggerEvent("fail",originalAction.actions,t),_error(t)};func.apply({$success:$success,$fail:$fail,$store:window.cti.store})}parsedAction.data.sync!==!0&&_success($data)}catch(error){_error(error)}else _error("Function code not specified.");break;case"call-component-function":!function(){var t=parsedAction.data.componentInstanceId,e=parsedAction.data["function"],o=ComponentFactory.getComponentById(t);if(!o)return void _error("Component not available");var n=(o.component.annotations.functions||[]).filter(function(t){return t.name===e})[0];if(!n)return void _error('Function "'+e+'" not available on component "'+o.name+'"');var r=o.element[e];if("function"!=typeof r)return void _error('Function "'+e+'" on component "'+o.name+'" is not a function');void 0==parsedAction.data.params&&(parsedAction.data.params={});var a=[];angular.forEach(n.params,function(t){var e=t.name,o=parsedAction.data.params[e],n=ComponentFactory.getTypedValue(t.type,o);a.push(n)});try{var i=r.apply(o.element,Array.prototype.slice.call(a,0));$q.all([i]).then(function(t){$rootScope.$broadcast("StoreChanged"),_success(t[0])})}catch(s){_error("Couldn't successfully call function \""+e+'" on component "'+o.name+'":',s)}}();break;case"set-component-variable":!function(){var t=parsedAction.data.componentInstanceId,e=parsedAction.data.variableName||"",o=(parsedAction.data.variableType||"").toLowerCase(),n=parsedAction.data.value,r=ComponentFactory.getComponentById(t);if(!r)return void _error("Component not available");var a=[];switch(o){case"attribute":a=r.component.annotations.attributes||[];break;case"property":a=r.component.annotations.properties||[]}var i=a.filter(function(t){return t.name===e})[0];if(!i)return void _error('Variable "'+i+'" not available on component "'+r.name+'"');try{if("attribute"===o)ComponentFactory.setAttributeValueFromAction(r,e,n),_success($data);else if("property"===o)if(i.setter===!0){var s=i.valueType;ComponentFactory.setPropertyValueFromAction(r,s,e,n),_success($data)}else _error('Cannot set property "'+e+'" on component "'+r.name+'": property does not have setter')}catch(c){_error("Couldn't successfully set variable \""+e+'" on component "'+r.name+'":',c)}}();break;case"add-to-collection":!function(){var t=parsedAction.data.model;if(!t)return void _error("Model location was not specified.");var e=StoreFactory.get(t);if(void 0===e)return void _error('Model location "'+parsedAction.data.model+'" does not exist.');if(!angular.isArray(e))return void _error('Model location "'+parsedAction.data.model+'" is not an array.');try{var o=void 0;if("model"===parsedAction.data.source){if(!parsedAction.data.itemModel)return void _error("Item data model location not specified");o=angular.copy(StoreFactory.get(parsedAction.data.itemModel))}else if("json"===parsedAction.data.source){if(!parsedAction.data.itemJson)return void _error("Item JSON not specified");o=parsedAction.data.itemJson}if(void 0!==o){switch(parsedAction.data.where){case"end":e.push(o);break;case"start":e.unshift(o);break;case"idx":var n=parseInt(parsedAction.data.index);if(isNaN(n))return void _error('Index "'+parsedAction.data.index+'" is not a valid index.');n>=e.length?e.push(o):e.splice(n,0,o)}StoreFactory.set(t,e),_success($data)}}catch(r){_error("Unable to process item JSON",r)}}();break;case"remove-from-collection":!function(){var t=parsedAction.data.model;if(!t)return void _error("Model location was not specified.");var e=StoreFactory.get(t);if(void 0===e)return void _error('Model location "'+parsedAction.data.model+'" does not exist.');if(!angular.isArray(e))return void _error('Model location "'+parsedAction.data.model+'" is not an array.');var o=parseInt(parsedAction.data.index);return isNaN(o)?void _error('Index "'+parsedAction.data.index+'" is not a valid index.'):o>=e.length?void _error("Index "+o+' is out of bounds of model "'+parsedAction.data.model+'" which has size: '+e.length+"."):(e.splice(o,1),StoreFactory.set(t,e),void _success($data))}();break;case"start-timer":void 0!=parsedAction.data.name&&void 0!=window.cti.__timers&&void 0!=window.cti.__timers[parsedAction.data.name]?(window.cti.__timers[parsedAction.data.name].start(),_success($data)):_error(!0);break;case"stop-timer":void 0!=parsedAction.data.name&&void 0!=window.cti.__timers&&void 0!=window.cti.__timers[parsedAction.data.name]?(window.cti.__timers[parsedAction.data.name].stop(),_success($data)):_error($data);break;case"show-notification":Notification.call(parsedAction.data).then(function(){_success($data)})["catch"](_error);break;case"take-photo":Camera.takePhoto(parsedAction.data.quality).then(function(t){if(void 0!==parsedAction.data.mediaId){var e="$store.media."+parsedAction.data.mediaId+".images",o=StoreFactory.get(e);void 0===o&&(o=[]),void 0!==parsedAction.data.index&&void 0!==o[parsedAction.data.index]?o[parsedAction.data.index]=t:parsedAction.data.multiple===!0?o.push(t):o[0]=t,StoreFactory.set(e,o),_success(o)}else _error("Could not save photo response.")})["catch"](function(t){_error("Could not take photo:",t)});break;case"select-photo":Camera.selectPhoto().then(function(t){if(void 0!==parsedAction.data.mediaId){var e="$store.media."+parsedAction.data.mediaId+".images",o=StoreFactory.get(e);void 0===o&&(o=[]),void 0!==parsedAction.data.index&&void 0!==o[parsedAction.data.index]?o[parsedAction.data.index]=t:parsedAction.data.multiple===!0?o.push(t):o[0]=t,StoreFactory.set(e,o),_success(o)}else _error("Could not save gallery response.")})["catch"](function(t){_error("Could not select photo:",t)});break;case"record-audio":AudioRecordingFactory.startRecordingWithCompression().then(_success)["catch"](_error);break;case"stop-record-audio":AudioRecordingFactory.stopRecording().then(function(t){if(void 0!==parsedAction.data.mediaId){var e="$store.media."+parsedAction.data.mediaId+".audio",o=StoreFactory.get(e);void 0===o&&(o=[]),void 0!==parsedAction.data.index&&void 0!==o[parsedAction.data.index]?o[parsedAction.data.index]=t:parsedAction.data.multiple===!0?o.push(t):o[0]=t,StoreFactory.set(e,o),_success(o)}else _error("Could not save audio response.")})["catch"](function(t){_error("Could not stop recording:",t)});break;case"play-audio":!function(){function t(t){AudioPlayer.play(t,function(){_success(t)})}if(void 0!==parsedAction.data.model){var e=StoreFactory.get(parsedAction.data.model),o="";angular.isArray(e)&&e.length>0?o=e[e.length-1]:angular.isString(e)&&(o=e),angular.isString(o)&&o.search(/\.m4a$/gim)>-1?t(o):_error("Play Audio action failed, model location was not a playable file.")}else void 0!==parsedAction.data.fileName?angular.isString(parsedAction.data.fileName)&&parsedAction.data.fileName.search(/\.m4a$/gim)>-1?t($rootScope.assetDir+parsedAction.data.fileName):_error("Play Audio action failed, file location was not a playable file."):_error("Play Audio action failed, no valid location specified.");
}();break;case"stop-audio":AudioPlayer.stop(),_success($data);break;case"delete-media":if(void 0===parsedAction.data.model)_error("Model location missing.");else{var mediaLocation=StoreFactory.get(parsedAction.data.model);if(void 0===mediaLocation||null===mediaLocation)_error('Model location "'+parsedAction.data.model+'" does not exist.');else if(angular.isArray(mediaLocation))_error("Cannot delete all media from a collection, you must specify a collection index.");else{var arrayRegex=/^(.*?)\[(.*?)]/,representsCollectionValue=arrayRegex.test(parsedAction.data.model);FileSystem.deleteMediaItem(mediaLocation).then(function(){var t=new CustomEvent("media-deleted",{detail:{location:mediaLocation}});if(document.dispatchEvent(t),representsCollectionValue){var e=arrayRegex.exec(parsedAction.data.model)[1],o=arrayRegex.exec(parsedAction.data.model)[2],n=StoreFactory.get(e);n&&o<n.length&&(n.splice(o,1),StoreFactory.set(e,n,!1))}else StoreFactory.set(parsedAction.data.model,void 0,!1);_success($data)})["catch"](function(t){_error(t)})}}break;case"start-beacon-listening":try{IBeaconFactory.startListening(),_success($data)}catch(err){_error(err)}break;case"stop-beacon-listening":try{IBeaconFactory.stopListening(),_success($data)}catch(err){_error(err)}break;case"loop":if(void 0!==parsedAction.data&&void 0!==parsedAction.data.model){var modelLocation=parsedAction.data.model.replace("{{","").replace("}}",""),items=null;if(items="$data"!==modelLocation?StoreFactory.get(modelLocation):$data,null!==items&&items.length>0){var subChain=$q.when();items.every(function(t){return subChain=subChain.then(function(){return triggerEvent(null,originalAction.actions,{$item:t})}),!0}),deferred.resolve(subChain)}}break;case"set-value":void 0!==parsedAction.data&&void 0!==parsedAction.data.key?StoreFactory.set(parsedAction.data.key,parsedAction.data.value,$data).then(function(){_success(parsedAction.data.value)})["catch"](function(t){_error(t)}):_error("Missing data.");break;case"enable-geofence":try{GeofenceFactory.start(parsedAction.data.name).then(function(){_success($data)},function(t){_error(t)})}catch(err){_error(err)}break;case"disable-geofence":try{GeofenceFactory.stop(parsedAction.data.name).then(function(){_success($data)},function(t){_error(t)})}catch(err){_error("Could not stop the geofence:",err)}break;case"debounce":null!==debounce&&clearTimeout(debounce),debounce=setTimeout(function(){debounce=null,_success($data)},parsedAction.data.duration);break;case"search-list":!function(){var t=parsedAction.data.page,e=parsedAction.data.list,o=parsedAction.data.searchWithin;try{if("custom"===o){var n=parsedAction.data.criteria||{};ListFactory.setListSearchState(t,e,"advanced",n)}else{var r=parsedAction.data.term||"";ListFactory.setListSearchState(t,e,"simple",r)}_success($data)}catch(a){_error(a)}}();break;case"sort-list":!function(){var t=parsedAction.data.page,e=parsedAction.data.list,o=parsedAction.data.property,n=parsedAction.data.direction;try{ListFactory.setListOrderState(t,e,o,n),_success($data)}catch(r){_error(r)}}();break;case"set-list-page":!function(){var t=parsedAction.data.page,e=parsedAction.data.list,o="number"===parsedAction.data.goToPage?parseInt(parsedAction.data.number)||1:parsedAction.data.goToPage;try{ListFactory.setListPaginationState(t,e,o),_success($data)}catch(n){_error(n)}}();break;case"reset-list":!function(){var t=parsedAction.data.page,e=parsedAction.data.list,o=parsedAction.data.resetSearch,n=parsedAction.data.resetOrder,r=parsedAction.data.resetPagination;try{ListFactory.resetListState(t,e,o,n,r),_success($data)}catch(a){_error(a)}}();break;case"log":switch(parsedAction.data.level){case"error":console.error(parsedAction.data.message);break;case"warn":console.warn(parsedAction.data.message);break;case"info":console.info(parsedAction.data.message);break;case"debug":console.debug(parsedAction.data.message)}_success($data);break;case"email-logs":LoggingFactory.emailLogs(parsedAction.data.to,parsedAction.data.subject,parsedAction.data.body,parsedAction.data.includeArchivedLogs),_success($data);break;case"set-log-level":var level=parsedAction.data.level;"fromDataModel"===level&&(level=parsedAction.data.levelFromDataModel),parsedAction.data.applyToApp&&LoggingFactory.setRootLogLevel(level,"app"),parsedAction.data.applyToClient&&LoggingFactory.setRootLogLevel(level,"client"),parsedAction.data.applyToNative&&LoggingFactory.setRootLogLevel(level,"native"),_success($data);break;case"set-buffer-size":isNaN(parseInt(parsedAction.data.bufferFrequency))?_success($data):(LoggingFactory.setBufferFrequency(parseInt(parsedAction.data.bufferFrequency)),_success($data));break;case"configure-logs":var maxFileSize=parsedAction.data.maxFileSizeKilobyte,numberOfFiles=parsedAction.data.numberOfFiles,settingsJsonObject={},hasProperty=!1;void 0!==maxFileSize&&(isNaN(parseInt(maxFileSize))||(settingsJsonObject.maxFileSize=1e3*parseInt(maxFileSize),hasProperty=!0)),void 0!==numberOfFiles&&(isNaN(parseInt(numberOfFiles))||(settingsJsonObject.maxNumberOfFiles=parseInt(numberOfFiles),hasProperty=!0)),hasProperty&&(parsedAction.data.applyToApp&&LoggingFactory.configure(settingsJsonObject,"app"),parsedAction.data.applyToClient&&LoggingFactory.configure(settingsJsonObject,"client"),parsedAction.data.applyToNative&&LoggingFactory.configure(settingsJsonObject,"native")),_success($data);break;case"search-data-grid":!function(){var t=parsedAction.data.page,e=parsedAction.data.dataGrid,o=parsedAction.data.term||"";try{var n=$injector.get("ctDataGrid");n.setDataGridSearchState(t,e,o),_success($data)}catch(r){_error(r)}}();break;case"sort-data-grid":!function(){var t=parsedAction.data.page,e=parsedAction.data.dataGrid,o=parsedAction.data.column,n=parsedAction.data.direction;try{var r=$injector.get("ctDataGrid");r.setDataGridOrderState(t,e,o,n),_success($data)}catch(a){_error(a)}}();break;case"set-data-grid-page":!function(){var t=parsedAction.data.page,e=parsedAction.data.dataGrid,o="number"===parsedAction.data.goToPage?parseInt(parsedAction.data.number)||1:parsedAction.data.goToPage;try{var n=$injector.get("ctDataGrid");n.setDataGridPaginationState(t,e,o),_success($data)}catch(r){_error(r)}}();break;case"reset-data-grid":!function(){var t=parsedAction.data.page,e=parsedAction.data.dataGrid,o=parsedAction.data.resetSearch,n=parsedAction.data.resetOrder,r=parsedAction.data.resetPagination;try{var a=$injector.get("ctDataGrid");a.resetDataGridState(t,e,o,n,r),_success($data)}catch(i){_error(i)}}();break;case"start-data-grid-edits":!function(){var t=parsedAction.data.page,e=parsedAction.data.dataGrid,o=parsedAction.data.items,n=parsedAction.data.indexes;try{var r=$injector.get("ctDataGrid");r.startEditMode(t,e,o,n),_success($data)}catch(a){_error(a)}}();break;case"finish-data-grid-edits":!function(){var t=parsedAction.data.page,e=parsedAction.data.dataGrid;try{var o=$injector.get("ctDataGrid"),n=o.finishEditMode(t,e);_success(n)}catch(r){_error(r)}}();break;case"enable-logging":LoggingFactory.enableDisableLogging(!0),_success($data);break;case"disable-logging":LoggingFactory.enableDisableLogging(!1),_success($data);break;case"enable-destination":parsedAction.data.applyToApp&&LoggingFactory.enableDisableDestination(!0,"app"),parsedAction.data.applyToClient&&LoggingFactory.enableDisableDestination(!0,"client"),parsedAction.data.applyToNative&&LoggingFactory.enableDisableDestination(!0,"native"),_success($data);break;case"disable-destination":parsedAction.data.applyToApp&&LoggingFactory.enableDisableDestination(!1,"app"),parsedAction.data.applyToClient&&LoggingFactory.enableDisableDestination(!1,"client"),parsedAction.data.applyToNative&&LoggingFactory.enableDisableDestination(!1,"native"),_success($data);break;case"zip-logs":LoggingFactory.zipLogs(parsedAction.data.includeArchivedLogs).then(function(t){$data.zipFileInfo={zipPath:t},_success($data)});break;default:_error("Invalid action type specified.")}return deferred.promise}}var service={triggerEvent:triggerEvent,evalOperations:evalOperations,evalOperation:evalOperation},debounce=null;return void 0===window.cti.utils&&(window.cti.utils={}),window.cti.utils.callAction=function(t,e,o,n){call({type:t,data:e,expressions:o})().then(function(t){void 0!==n&&n(t)})},window.cti.utils.updatePage=function(){$rootScope.$$phase||$rootScope.$apply()},window.cti.utils.triggerStoreChanged=function(){$rootScope.$broadcast("StoreChanged")},window.cti.utils.getMetadataItem=function(t){if(void 0!==SchemaHelper.schema.metadata){var e=SchemaHelper.schema.metadata;if(void 0!==e[t])return e[t]}},window.cti.utils.destroyAllData=function(){StoreFactory.destroyAllData()},window.cti.utils.destroyPageData=function(t){StoreFactory.destroyPageData(t)},window.cti.utils.stopAllRecording=function(){document.dispatchEvent(new CustomEvent("stop-all-recording"))},void 0===window.cti.utils.logging&&(window.cti.utils.logging={}),window.cti.utils.logging.enableLogging=function(){LoggingFactory.enableDisableLogging(!0)},window.cti.utils.logging.disableLogging=function(){LoggingFactory.enableDisableLogging(!1)},window.cti.utils.logging.enableDestination=function(t){LoggingFactory.enableDisableDestination(!0,t)},window.cti.utils.logging.disableDestination=function(t){LoggingFactory.enableDisableDestination(!1,t)},window.cti.utils.logging.setRootLogLevel=function(t,e){LoggingFactory.setRootLogLevel(t,e)},window.cti.utils.logging.getRootLogLevel=function(t,e){LoggingFactory.getRootLogLevel(t).then(function(t){e(null,t)})["catch"](function(t){e(t)})},window.cti.utils.logging.configure=function(t,e){LoggingFactory.configure(t,e)},window.cti.utils.logging.zipLogFiles=function(t,e){LoggingFactory.zipLogs(t).then(function(t){e(null,t)})["catch"](function(t){e(t)})},window.cti.utils.logging.emailLogs=function(t,e,o,n){LoggingFactory.emailLogs(t,e,o,n)},window.cti.utils.logging.makeFilesPublic=function(t,e){LoggingFactory.makeFilesPublic(t).then(function(t){e(null,t)})["catch"](function(t){e(t)})},window.cti.utils.logging.removePublicFiles=function(){LoggingFactory.removePublicFiles()},window.cti.utils.logging.getLogFilePaths=function(t){LoggingFactory.getLogFilePaths().then(function(e){t(null,e)})["catch"](function(e){t(e)})},window.cti.utils.logging.getArchivedLogFilePaths=function(t){LoggingFactory.getArchivedLogFilePaths().then(function(e){t(null,e)})["catch"](function(e){t(e)})},window.cti.utils.logging.isLoggingEnabled=function(t){LoggingFactory.isLoggingEnabled().then(function(e){t(null,e)})["catch"](function(e){t(e)})},window.cti.utils.logging.isDestinationEnabled=function(t){LoggingFactory.isDestinationEnabled().then(function(e){t(null,e)})["catch"](function(e){t(e)})},service}]),angular.module("app.core").factory("Url",["$http","$log","$q","StoreFactory",function(t,e,o,n){function r(t,e,o,n){this.name=t,this.url=e,this.target=o,this.params=n}return r.prototype={makeRequest:function(t,e){var a=o.defer(),i=this.url,s={url:i};return s.target=void 0!=t?t:this.target,e=r.merge(this.params,e),void 0!=e&&(s.params=n.parse(e)),s.url=n.parseUrl(s.url,s.params),window.open(s.url,s.target),a.promise}},r.merge=function(t,e){var o={};return void 0!=t&&(o=t),void 0!=e&&angular.forEach(e,function(t,e){"object"!=typeof t?o[e]=t:(void 0==o[e]&&(o[e]={}),o[e]=r.merge(o[e],t))}),o},r}]),angular.module("app.core").factory("UrlFactory",["$http","$log","StoreFactory","$timeout","$q","Url",function(t,e,o,n,r,a){function i(t){c[t.name]=new a(t.name,t.url,t.target,t.params)}function s(t){var e=r.defer(),o=t.name;return void 0!=c[o]&&c[o].makeRequest(t.target,t.params).then(function(){e.resolve()})["catch"](function(){e.reject()}),e.promise}var c={},l={init:i,makeRequest:s};return l}]),angular.module("app.core").factory("Timer",["$timeout","$interval","ActionFactory",function(t,e,o){function n(t,e,o,n){this.timerFunction=null,this.name=t,this.type=e,this.time=parseInt(o),this.actions=n}return n.prototype={start:function(){var n=this.actions;"delay"==this.type?t(function(){o.triggerEvent(null,n)},this.time):"interval"==this.type&&(this.timerFunction=e(function(){o.triggerEvent(null,n)},this.time))},stop:function(){"interval"==this.type&&null!=this.timerFunction&&e.cancel(this.timerFunction)}},n}]),angular.module("app.core").factory("Variable",["$q","StoreFactory",function(t,e){function o(t,e,o){this.name=t,this.type=e,this.set(o)}return o.prototype={set:function(o){var n=t.defer();if(void 0!=o)if("string"==typeof o&&o.indexOf("{{")>-1&&(o=e.parse(o)),void 0!=this.name){var r=null;switch(this.type){case"date":r=Date.parse(o);break;case"string":r=o;break;case"int":r=parseInt(o);break;case"boolean":r="true"==o||"1"==o}this.value=window.cti.store.variables[this.name]=r,n.resolve(r)}else n.reject("Variable must have a name");else n.resolve();return n.promise}},o}]),angular.module("app.core").factory("VariableFactory",["Variable","$q",function(t,e){function o(e){a[e.name]=new t(e.name,e["variable-type"],e.value)}function n(t,o){var n=e.defer();if(void 0!==a[t]){var i=a[t];i.set(o||r(i)).then(function(t){n.resolve(t)})["catch"](function(t){n.reject(t)})}else n.reject('Cannot find variable "'+t+'"');return n.promise}function r(t){switch(t.type){case"date":return"1970";case"string":return"";case"int":return"0";case"boolean":return"false"}return""}var a={};return{init:o,setVariable:n}}]),angular.module("app.core").factory("Camera",["StoreFactory","$log","$q","Plugin","FileSystem","Platform",function(t,e,o,n,r,a){function i(t){return c(1,t).then(function(t){var e=o.defer(),n=function(t){e.reject(t)};return 0==t.length&&n("image path returned empty"),window.resolveLocalFileSystemURL(t,function(t){var o=new Date,a=o.getTime(),i=a+".jpg";r.getStorage().then(function(o){t.moveTo(o,i,function(t){t.file(function(t){e.resolve(t.localURL)},n)},n)})["catch"](n)},n),e.promise})}function s(){return c(0)}function c(t,i){var s=o.defer(),c=function(t){void 0!==t&&e.error(t),s.reject(t)},l="desktop"===a.getType();if(l)r.selectFile(["image/jpeg","image/png","image/gif"]).then(function(t){s.resolve(t)})["catch"](function(){c()});else if(1==t){var u=n.getSource("camera");u.getPicture(function(t){s.resolve(t)},c,{quality:i||50,destinationType:1,sourceType:t,allowEdit:!1,encodingType:0,saveToPhotoAlbum:!1,correctOrientation:!0})}else{var d=n.getSource("fileimporter");d!==!1?d.importPicture(function(t){s.resolve(t)}):c()}return s.promise}var l={takePhoto:i,selectPhoto:s};return l}]),angular.module("app.core").factory("Auth",["$q","Plugin",function(t,e){function o(){var o=t.defer();return a=e.getSource("authentication"),a!==!1?o.resolve():o.reject("No authentication method available."),o.promise}function n(e){var n=t.defer();if(i)return void(i=!1);var r=void 0!==e?e:"Authentication Required";return o().then(function(){a.authenticate(r,"infinity","7OHHxYvRuG1PBlGJi2LXULqMrOKcS64S",function(){n.resolve()},function(){n.reject("Authentication failed")}),i=!0})["catch"](function(){n.resolve()}),n.promise}var r={authenticate:n},a=!1,i=!1;return r}]),angular.module("app.core").factory("Notification",serviceFunc),angular.module("app.core").factory("IBeaconFactory",["$injector","Plugin","$log",function(t,e,o){function n(){if(!A){if(h=e.getSource("locationManager"),h!==!1){try{S=t.get("ActionFactory"),h.requestAlwaysAuthorization(),h.isBluetoothEnabled().then(function(t){t||h.enableBluetooth()}).fail(o.error).done()}catch(n){o.error("Error loading iBeacon plugin",n)}var r=new h.Delegate;r.didExitRegion=function(t){s(t)},r.didRangeBeaconsInRegion=function(t){i(t)},h.setDelegate(r)}else o.error("Beacon plugin has not successfully initialised.");A=!0}}function r(t){return Math.round((255-Math.abs(t))/255*100)}function a(t,e){return t.signalStrength<e.signalStrength?1:t.signalStrength>e.signalStrength?-1:0}function i(t){var e=t.beacons[0];if(void 0!==e){var o=!1;for(var n in L){var i=L[n];if(i.uuid.toLowerCase()==e.uuid.toLowerCase()){var s=e.proximity.toLowerCase().replace("proximity","");i.proximity!=e.proximity&&v.forEach(function(t){void 0!==t.uuid&&void 0!==i.uuid&&t.uuid.toLowerCase()===i.uuid.toLowerCase()&&S.triggerEvent(s,t.actions)}),i.proximity=e.proximity,i.accuracy=e.accuracy,i.signalStrength=r(e.rssi),o=!0}}if(!o)for(var c in v){var l=v[c];l.uuid.toLowerCase()==e.uuid.toLowerCase()&&(L.push({title:l.name,major:l.major,minor:l.minor,uuid:l.uuid,accuracy:e.accuracy,proximity:e.proximity,signalStrength:r(e.rssi)}),S.triggerEvent("in-range",l.actions))}var u=L[0].uuid;L.sort(a);var d=L[0].uuid;if(u.toLowerCase()!=d.toLowerCase()){var p=L[0];for(var g in v){var m=v[g];m.uuid.toLowerCase()==p.uuid.toLowerCase()&&S.triggerEvent("closest",m.actions)}}}}function s(t){var e=t.region.uuid;for(var o in L){var n=L[o];if(n.uuid.toLowerCase()==e.toLowerCase()){L.splice(o,1);for(var r in v){var a=v[r];a.uuid.toLowerCase()==e.toLowerCase()&&S.triggerEvent("out-of-range",a.actions)}}}}function c(t){if(v.push(t),void 0!==window.cordova){var e=f(t);t.rangingEnabled&&(w.push(t),h.startRangingBeaconsInRegion(e).fail(o.error).done(),t.ranging=!0),h.startMonitoringForRegion(e).fail(o.error).done(),t.monitoring=!0}}function l(){angular.forEach(v,function(t){if(t.monitoring){var e=f(t);h.stopMonitoringForRegion(e).fail(o.error).done(),t.monitoring=!1}})}function u(){angular.forEach(w,function(t){if(t.ranging){var e=f(t);h.stopRangingBeaconsInRegion(e).fail(o.error).done()}t.ranging=!1})}function d(){l(),u()}function p(){g(),m()}function g(){angular.forEach(v,function(t){if(!t.monitoring){var e=f(t);h.startMonitoringForRegion(e).fail(o.error).done(),t.monitoring=!0}})}function m(){angular.forEach(w,function(t){if(!t.ranging){var e=f(t);h.startRangingBeaconsInRegion(e).fail(o.error).done()}t.ranging=!0})}function f(t){var e=null;return angular.forEach(y,function(o){if(o.uuid.toLowerCase()==t.uuid.toLowerCase())return void(e=o)}),null===e&&(e=new h.BeaconRegion(t.name,t.uuid,t.major,t.minor),y.push(e)),e}var C={init:n,addBeacon:c,stopMonitoring:l,stopRanging:u,startMonitoring:g,startRanging:m,startListening:p,stopListening:d},h=!1,S=null,v=[],w=[],y=[],L=[],A=!1;return C}]),angular.module("app.core").factory("GeofenceFactory",["$q","$injector","Plugin","StoreFactory","$log",function(t,e,o,n,r){function a(t){return"string"==typeof t.name&&"number"==typeof t.lat&&"number"==typeof t.lng&&"number"==typeof t.radius}function i(r,a){if(D)return t.when();P=r,_=a,I=T===!0?$():o.getSource("geofence");var i=t.defer();return I===!1?i.reject("Unable to initialise 'geofence' plugin"):(O=e.get("ActionFactory"),b("Retrieving saved geofence state:",n.get(E)),b("Initializing 'geofence' plugin..."),I.initialize().then(function(){u(i)},function(t){d(t)})),D=!0,i.promise}function s(e){if(!N){M.push(e);var o="Plugin not ready, adding geofence to queue:";return b(o,e),t.reject(o)}var n=S(e,"enter")?k:0,r=S(e,"exit")?F:0,a=n|r,i=[k,F,k|F];if(i.indexOf(a)==-1){var s="Geofence '"+e.name+"' being ignored - has no transition actions defined";return b(s),t.reject(s)}var c=t.defer();if(e.fullyQualifiedName=h(e.name),void 0===e.listening){var l=A(e);e.listening=void 0===l||l.listening}if(e.listening===!1)b("Skipping geofence '"+e.name+"', was previously stopped"),y(e);else if(e.listening===!0){var u={id:e.fullyQualifiedName,latitude:e.lat,longitude:e.lng,radius:e.radius,transitionType:a,notification:{id:1,title:P,text:e.notificationText||"You have passed a geofence boundary",openAppOnClick:!0}};I.addOrUpdate(u).then(function(){b("Registered geofence '"+e.name+"'"),y(e),c.resolve()},function(t){var o="Unable to register geofence '"+e.name+"'";j(o,t),c.reject(o)})}return c.promise}function c(e){if(!N)return t.reject("Geofence plugin not initialised");if("|all|"===e)return f();var o=t.defer(),n=h(e),r=w(n);return null!==r?r.listening===!1?(r.listening=!0,s(r).then(function(){L(),o.resolve()})):(b("Geofence '"+e+"' already registered"),o.resolve()):o.reject("Unable to find and start geofence '"+e+"'"),o.promise}function l(e){if(!N)return t.reject("Geofence plugin not initialised");if("|all|"===e)return C();var o=t.defer(),n=h(e),r=w(n);return null!==r?I.remove(r.fullyQualifiedName).then(function(){b("Geofence '"+e+"' stopped"),r.listening=!1,y(r),L(),o.resolve()},function(t){var n="Unable to stop geofence '"+e+"'";t(n,t),o.reject(n)}):o.reject("Unable to find and stop geofence '"+e+"'"),o.promise}function u(t){N=!0,I.onTransitionReceived=p,b("Initialized 'geofence' plugin"),I.removeAll().then(function(){b("Existing geofence registrations purged"),M.length>0&&(b("Registering "+M.length+" queued geofences..."),angular.forEach(M,function(t){s(t)}),M=[]),t.resolve()})}function d(t){t("Geofence plugin not initialised",t)}function p(t){angular.forEach(t,function(t){var e=w(t.id);if(null!==e&&e.listening===!0)switch(t.transitionType){case k:g(e);break;case F:m(e)}})}function g(t){null!==t&&t.listening===!0&&t.actions.length&&(b("Triggering 'enter' event for '"+t.name+"'"),O.triggerEvent("enter",t.actions))}function m(t){null!==t&&t.listening===!0&&t.actions.length&&(b("Triggering 'exit' event for '"+t.name+"'"),O.triggerEvent("exit",t.actions))}function f(){var e=t.defer(),o=[];return angular.forEach(R,function(t){t.listening=!0,o.push(s(t))}),t.all(o).then(function(){b("All geofences registered"),L(),e.resolve()}),e.promise}function C(){var e=t.defer();return I.removeAll().then(function(){b("All geofences stopped"),angular.forEach(R,function(t){t.listening=!1,y(t)}),L(),e.resolve()},function(t){var o="Unable to stop all geofences";t(o,t),e.reject(o)}),e.promise}function h(t){return _+"__"+t}function S(t,e){return!(!t.actions||!t.actions.length)&&t.actions.some(function(t){return t.event.toLowerCase()===e.toLowerCase()})}function v(t){for(var e=0;e<R.length;e++){var o=R[e];if(o.fullyQualifiedName===t)return e}return-1}function w(t){var e=v(t);return e!==-1?R[e]:null}function y(t){var e=v(t.fullyQualifiedName);e===-1?R.push(t):R[e]=t}function L(){var t={};angular.forEach(R,function(e){t[e.name]={listening:e.listening}}),n.set(E,t),b("Geofence state saved:",t)}function A(t){return angular.copy(n.get(E+"."+t.name))}function b(){if(x===!0){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[geofence.fct.js] "+t[0]),r.log.apply(r,t)}}function j(){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[geofence.fct.js] "+t[0]),r.error.apply(r,t)}function $(){function e(){var e=t.defer();return setTimeout(function(){e.resolve()},o),e.promise}r.info("*** USING MOCK GEOFENCE PLUGIN: Turn this off in geofence.fct.js if you expect to use the real plugin ***");var o=500;return{initialize:function(){return e()},addOrUpdate:function(){return e()},remove:function(){return e()},removeAll:function(){return e()},onTransitionReceived:function(){}}}var x=!1,T=!1,E="geofences",k=1,F=2,I=null,P="",_="",D=!1,O=null,N=!1,M=[],R=[];return{isValidGeofenceObject:a,init:i,register:s,start:c,stop:l}}]),angular.module("app.core").factory("Xmpp",["LoadingStatus","$log","StoreFactory","$injector","$rootScope","$q","Camera","Plugin","FileSystem","$sce","MimeTypes","$filter",function(t,e,o,n,r,a,i,s,c,l,u,d){function p(t,i,s,l,u,d,p,g,m){var f=n.get("ActionFactory"),C=this;C.id=t,C.endpoint=i,C.uploadJid=l,C.readReceipts=u,C.stayConnected=d,C.multicastJid=p,C.pingTime=g,C.pingTo=m,C.stayConnected===!0&&C.reconnect(),C.actions=s,void 0!==C.id&&void 0!==C.endpoint?(void 0===window.cti.store.xmpp[this.id]&&(window.cti.store.xmpp[this.id]={connection_status:null,user_status:null,history:{},contacts:[],groups:[]}),C.cleanQueue(),window.cti.api.xmpp_connection=new window.Strophe.Connection(C.endpoint),window.cti.api.xmpp_connection.reset(),C.setConnectionStatus(null),C.onMessage=function(t){e.debug("[xmpp.fct.js] ("+C.id+") MESSAGE RECEIVED:",t);try{C.enablePing();var n=t.getAttribute("type"),a=t.getAttribute("id"),i=C.getBareJid(t.getAttribute("to")),s=C.getBareJid(t.getAttribute("from"));switch(n){case"chat":var l=t.getElementsByTagName("body")[0],u=t.getElementsByTagName("url")[0];if(void 0!==l)var d=window.Strophe.getText(l);var p=t.getElementsByTagName("metadata")[0];if(void 0!==p){var g={},m=p.childNodes;if(void 0!==m&&m.length>0)for(var h=0;h<m.length;h++){var S=m[h];g[S.tagName]=window.Strophe.getText(S)}}if(void 0!==l||void 0!==u){var v=C.createMessageObject(i,s,d,null,a,null,g),w=t.getElementsByTagName("markable")[0];if(void 0!==w&&C.readReceipts!==!1&&C.sendMarker(v.id,C.MESSAGE_STATUS.RECEIVED),void 0!==u){v.media.remote=encodeURI(window.Strophe.getText(u)),v.media.status=C.MEDIA_STATUS.DOWNLOADING,C.saveAndUpdate();var y=c.getFileNameFromPath(v.media.remote);c.download(v.media.remote,y).then(function(t){v.media.local=t.filePath,v.media.type=t.mimeType,v.media.status=C.MEDIA_STATUS.DOWNLOADED,C.saveAndUpdate()})["catch"](function(t){e.error(t)})}void 0!==C.actions&&C.actions.length>0&&f.triggerEvent("message-received",C.actions,{$message:v}),C.saveAndUpdate()}break;case"error":e.error("XMPP ERROR!",t);var L=t.getAttribute("id");if(void 0!==L){var A=C.getMessageFromHistory(s,L);null!==A&&(A.sent=!1,f.triggerEvent("error",C.actions,{$message:A}),o.save().then(function(){r.$emit("StoreHasChanged")}))}break;default:var b=t.getElementsByTagName("received")[0];if(void 0!==b&&C.readReceipts!==!1){var j=b.getAttribute("id");if(null!==j){var $=C.getMessageFromHistory(s,j);null!==$&&($.status=C.MESSAGE_STATUS.RECEIVED,C.saveAndUpdate())}}var x=t.getElementsByTagName("displayed")[0];if(void 0!==x&&C.readReceipts!==!1){var T=x.getAttribute("id");if(null!==T){var E=C.getMessageFromHistory(s,T);null!==E&&(E.status=C.MESSAGE_STATUS.DISPLAYED,C.saveAndUpdate())}}var k=t.getElementsByTagName("acknowledged")[0];if(void 0!==k&&C.readReceipts!==!1){var F=k.getAttribute("id");if(null!==F){var I=C.getMessageFromHistory(s,F);null!==I&&(I.status=C.MESSAGE_STATUS.ACKNOWLEDGED,C.saveAndUpdate())}}}}catch(P){e.error("XMPP Error:",P)}return!0},C.updateMessageStatus=function(t){var e=!1;C.queue.forEach(function(o){if(o===t){var n=C.getMessageFromAllHistory(t);null!==n&&(n.status=C.MESSAGE_STATUS.FAILED,f.triggerEvent("send-failed",C.actions,{$message:n}),e=!0)}}),e===!0&&C.saveAndUpdate()},C.send=function(t,o){var n=a.defer();if(window.cti.api.xmpp_connection.connected===!0){C.enablePing();var r=null;if(r=void 0!==t.id?C.getMessageFromAllHistory(t.id):C.createMessageObject(t.to,window.cti.api.xmpp_connection.authzid,t.message,null,null,t.ttl,t.metadata,o),null!==r){var i=function(){var t=C.createMessageXml(r.id);C.queue.push(r.id),window.cti.api.xmpp_connection.send(t),C.saveAndUpdate(),n.resolve()},s=t["file-path"];if(void 0!==s&&angular.isString(s)&&s.length>0)if(void 0!==C.uploadJid){var l=c.getFileNameFromPath(s);c.getFile(l).then(function(t){r.media.local=t.filePath,r.media.type=t.mimeType,r.media.status=C.MEDIA_STATUS.UPLOADING,C.saveAndUpdate(),window.cti.api.xmpp_connection.httpFileUpload.slot(C.uploadJid,t.name,t.size,r.media.type,function(o){if(null!==o.put){var a=s,l=encodeURI(o.put),u={httpMethod:"PUT",fileName:t.name,headers:{"Content-Type":r.media.type}};e.debug("[xmpp.fct.js] uploading file '"+a+"' to '"+l+"' with options",u),c.upload(a,l,u).then(function(){r.media.remote=o.get,r.media.status=C.MEDIA_STATUS.UPLOADED,i()})["catch"](function(t){n.reject(t)})}else n.reject("No upload slot was provided.")},function(t){n.reject(t)})})["catch"](function(t){n.reject(t)})}else n.reject("Upload jid has not been configured.");else i()}else n.reject("Unable to send message.")}else n.reject("No connection available.");return n.promise},C.sendToGroup=function(t){var e=a.defer();if(t.groups)if(void 0===C.multicastJid)e.reject('Multicast JID is required for group messages, please configure this on the "'+C.id+'" XMPP instance.');else{t.to=C.multicastJid;var n=void 0!==t.statuses?t.statuses:[],r=void 0!==t.groups?t.groups:[],i=o.get("xmpp."+C.id+".contacts"),s=i.filter(function(t){return void 0!==t.groups&&t.groups.filter(function(t){return r.indexOf(t)>-1}).length>0&&n.indexOf(t.status)===-1}),c=s.map(function(t){return t.username});C.send(t,c).then(function(){e.resolve()})["catch"](function(t){e.reject(t)})}else e.reject("No group(s) specified for group message.");return e.promise},C.markRead=function(t){var o=a.defer();if(window.cti.api.xmpp_connection.connected===!0)if(void 0!==t.id)e.debug('Marking message with ID "'+t.id+'" as displayed.'),C.sendMarker(t.id,"displayed"),o.resolve(!0);else if(void 0!==t.recipient)if(void 0!==window.cti.store.xmpp[C.id].history&&void 0!==window.cti.store.xmpp[C.id].history[t.recipient]){var n=angular.copy(window.cti.store.xmpp[C.id].history[t.recipient].messages);void 0!==n&&n.length>0?(n=n.reverse(),n.every(function(t){return t.status!==C.MESSAGE_STATUS.DISPLAYED&&t.status!==C.MESSAGE_STATUS.ACKNOWLEDGED&&(t.from!==window.cti.api.xmpp_connection.authzid&&void 0!==t.id&&C.sendMarker(t.id,C.MESSAGE_STATUS.DISPLAYED),!0)}),o.resolve(!0)):o.resolve(!0)}else o.resolve(!0);else o.reject("No message ID provided.");else o.resolve();return o.promise},C.onAcknowledgement=function(t){e.debug("[xmpp.fct.js] ("+C.id+") ACKNOWLEDGEMENT RECEIVED:",t);try{var o=!1;C.queue.forEach(function(t){var e=C.getMessageFromAllHistory(t);null!==e&&[C.MESSAGE_STATUS.RECEIVED,C.MESSAGE_STATUS.ACKNOWLEDGED,C.MESSAGE_STATUS.DISPLAYED].indexOf(e.status)===-1&&(e.status=C.MESSAGE_STATUS.SENT,o=!0)}),C.queue=[],o===!0&&C.saveAndUpdate()}catch(n){e.error(n)}return!0},C.onIq=function(t){e.debug("[xmpp.fct.js] ("+C.id+") IQ RECEIVED:",t);var o=t.getAttribute("type");switch(o){case"set":var n=t.getElementsByTagName("query")[0];if(void 0!==n){var r=n.getAttribute("xmlns");switch(r){case"jabber:iq:roster":C.processContacts(n.childNodes),f.triggerEvent("contacts-update",C.actions)}}}return!0},C.onPresence=function(t){e.debug("[xmpp.fct.js] ("+C.id+") PRESENCE RECEIVED:",t),C.enablePing();var n=t.getAttribute("type"),r="unavailable"===n?"offline":"chat",a="unavailable"===n?"Offline":"Available",i=t.getElementsByTagName("show")[0];void 0!==i&&(r=window.Strophe.getText(i));var s=t.getElementsByTagName("status")[0];void 0!==s&&(a=window.Strophe.getText(s));var c=C.getBareJid(t.getAttribute("from")),l=o.get("xmpp."+C.id+".contacts"),u=!1;if(l.length>0){var d=l.filter(function(t){return t.username===c})[0];void 0!==d&&d.status!==r&&(d.status=r,d.friendly_status=a,f.triggerEvent("status-update",C.actions,{$contact:d}),u=!0)}return u&&C.saveAndUpdate(),!0},C.login=function(t,n){if(window.cti.api.xmpp_connection.connected===!0)return a.when();var r=a.defer();return window.cti.api.xmpp_connection.reset(),C.setLastAuthStatus("pending"),void 0!==t&&void 0!==n?window.cti.api.xmpp_connection.connect(t,n,function(a){var i=C.statusCodeToTxt(a);switch(C.setConnectionStatus(i),f.triggerEvent(i,C.actions),e.debug("[xmpp.fct.js] ("+C.id+") STATUS CHANGE:",i),i){case C.CONNECTION_STATUS.CONNFAIL:case C.CONNECTION_STATUS.ERROR:C.purgeQue(),window.cti.api.xmpp_connection.disconnect(),C.disablePing();break;case C.CONNECTION_STATUS.AUTHFAIL:C.setLastAuthStatus("failed"),window.cti.api.xmpp_connection.disconnect(),C.disablePing();break;case C.CONNECTION_STATUS.DISCONNECTED:C.disablePing(),r.resolve();break;case C.CONNECTION_STATUS.CONNECTED:C.setLastAuthStatus("success"),window.cti.api.xmpp_connection.addHandler(C.onMessage,null,"message",null,null,null),window.cti.api.xmpp_connection.addHandler(C.onIq,null,"iq",null,null,null),window.cti.api.xmpp_connection.addHandler(C.onAcknowledgement,null,"a",null,null,null),window.cti.api.xmpp_connection.addHandler(C.onPresence,null,"presence",null,null,null),window.cti.api.xmpp_connection.streamManagement.requestResponseInterval=1,window.cti.api.xmpp_connection.streamManagement.enable(function(){var a=window.$iq({from:window.cti.api.xmpp_connection.jid,id:window.cti.api.xmpp_connection.getUniqueId(),type:"get"});a.c("query",{xmlns:"jabber:iq:roster"}),o.set("xmpp."+C.id+".contacts",[]),window.cti.api.xmpp_connection.sendIQ(a,function(a){e.debug("[xmpp.fct.js] ("+C.id+") GOT CONTACTS:",a),C.processContacts(a.querySelector("query").childNodes);var i=o.get("xmpp."+C.id+".user_status")||C.USER_STATUS.CHAT,s=function(){f.triggerEvent("connected",C.actions),
C.enablePing(),r.resolve()};C.setStatus(i).then(function(){C.stayConnected===!0?C.getSecureDb().then(function(o){e.debug("[xmpp.fct.js] ("+C.id+") Storing credentials for auto-login."),o.put({_id:C.DB.ID+"_data",_rev:C.DB.REVISION,data:t+":"+n}).then(function(t){C.DB.REVISION=t.rev,s()})["catch"](function(t){e.error(t),r.reject(t)})})["catch"](function(t){e.error(t),r.reject(t)}):s()})["catch"](function(t){r.reject(t)})})},function(t){r.reject(t)})}}):(C.setLastAuthStatus("failed"),window.cti.api.xmpp_connection.disconnect()),r.promise},C.logout=function(){var t=a.defer();return C.stayConnected===!0?C.getSecureDb().then(function(e){e.destroy().then(function(){C.DB.REVISION=null,window.cti.api.xmpp_connection.disconnect(),t.resolve()})["catch"](function(e){t.reject(e)})})["catch"](function(e){t.reject(e)}):(window.cti.api.xmpp_connection.disconnect(),t.resolve()),t.promise},C.pingTimeout=null,C.pingInterval=null,C.disablePing=function(){e.debug("[xmpp.fct.js] ("+C.id+") Disable ping."),null!==C.pingTimeout&&(clearTimeout(C.pingTimeout),C.pingTimeout=null),null!==C.pingInterval&&(clearInterval(C.pingInterval),C.pingInterval=null)},C.enablePing=function(){C.disablePing(),null!==window.cti.api.xmpp_connection&&window.cti.api.xmpp_connection.connected===!0&&(C.pingTimeout=setTimeout(function(){e.debug("[xmpp.fct.js] ("+C.id+") Pinging & setting ping interval."),C.ping(),C.pingInterval=setInterval(function(){C.ping()},C.pingTime||5e3)},5e3))},C.ping=function(){var t=window.$iq({from:window.cti.api.xmpp_connection.jid,id:window.cti.api.xmpp_connection.getUniqueId(),type:"get"});t.c("ping",{xmlns:"urn:xmpp:ping"}),e.debug("[xmpp.fct.js] ("+C.id+") Pinging."),window.cti.api.xmpp_connection.sendIQ(t,function(){e.debug("[xmpp.fct.js] ("+C.id+") Ping response.")},function(){e.debug("[xmpp.fct.js] ("+C.id+") No response from ping, disconnecting."),window.cti.api.xmpp_connection.disconnect()},C.pingTo||5e3)}):e.error("Missing data for XMPP instance."),r.$on("device-resume",function(){C.stayConnected!==!0||null!==window.cti.api.xmpp_connection&&window.cti.api.xmpp_connection.connected!==!1||C.reconnect()})}return p.prototype.calcGroups=function(){var t=o.get("xmpp."+this.id+".contacts"),e=[];t.forEach(function(t){void 0!==t.groups&&t.groups.forEach(function(t){var o=d("filter")(e,{name:t},!0);0===o.length?e.push({name:t,count:1}):e=e.map(function(t){return t.count++,t})})}),o.set("xmpp."+this.id+".groups",e)},p.prototype.processContacts=function(t){if(void 0!==t&&t.length>0){for(var e=o.get("xmpp."+this.id+".contacts")||[],n=0;n<t.length;n++){var r=t[n],a=r.getAttribute("jid");if("remove"===r.getAttribute("subscription"))e=e.filter(function(t){return t.username!==a});else{var i=[],s=r.querySelectorAll("group");if(s.length>0)for(var c=0;c<s.length;c++){var l=s[c];i.push(window.Strophe.getText(l))}var u={name:r.getAttribute("name"),username:a,groups:i,status:null,friendly_status:null},d=e.filter(function(t){return t.username===a})[0];void 0===d?e.push(u):d=u}}o.set("xmpp."+this.id+".contacts",e),this.calcGroups()}},p.prototype.getSecureDb=function(){this.DB.ID=o.getId()+"_"+this.id+"_xmpp_db";var t=new PouchDB(this.DB.ID,{revs_limit:10});return t.crypto(this.DB.KEY).then(function(){return t})},p.prototype.reconnect=function(){var t=a.defer(),o=this;return this.getSecureDb().then(function(r){r.get(o.DB.ID+"_data").then(function(r){o.DB.REVISION=r._rev;var a=r.data.split(":");if(void 0!==a[0]&&void 0!==a[1]){var i=a[0],s=a[1];e.debug("[xmpp.fct.js] ("+o.id+') Auto-Logging in with: "'+i+'" and "'+s+'".'),o.login(i,s).then(function(){var e=n.get("ActionFactory");e.triggerEvent("reconnected",o.actions),t.resolve()})["catch"](function(e){t.reject(e)})}else t.reject("Could not extract the saved credentials from the encrypted database.")})["catch"](function(){e.debug("[xmpp.fct.js] ("+o.id+") Stored credentials could not be found to auto-login."),t.resolve()})})["catch"](function(e){t.reject(e)}),t.promise},p.prototype.DB={ID:null,KEY:"2%^%123$^#_##}{P21$@#Dd}23fs#!@|#213@™4",REVISION:null},p.prototype.queue=[],p.prototype.USER_STATUS={AWAY:"away",CHAT:"chat",DO_NOT_DISTURB:"dnd",EXTENDED_AWAY:"xa"},p.prototype.MESSAGE_STATUS={SENDING:"sending",SENT:"sent",FAILED:"failed",RECEIVED:"received",DISPLAYED:"displayed",ACKNOWLEDGED:"acknowledged"},p.prototype.MEDIA_STATUS={DOWNLOADING:"downloading",DOWNLOADED:"downloaded",FAILED:"failed",UPLOADING:"uploading",UPLOADED:"uploaded"},p.prototype.CONNECTION_STATUS={ERROR:"error",CONNECTING:"connecting",CONNFAIL:"connection-failed",AUTHENTICATING:"authenticating",AUTHFAIL:"authentication-failed",CONNECTED:"connected",DISCONNECTED:"disconnected",DISCONNECTING:"disconnecting",ATTACHED:"attached"},p.prototype.setStatus=function(t){var e=a.defer(),n=null;switch(t){case this.USER_STATUS.AWAY:n="Away";break;case this.USER_STATUS.CHAT:n="Available";break;case this.USER_STATUS.DO_NOT_DISTURB:n="Do Not Disturb";break;case this.USER_STATUS.EXTENDED_AWAY:n="Extended Away"}if(null!==n){var r=window.$pres({from:window.cti.api.xmpp_connection.jid}).c("show",null,t).c("status",null,n);o.set("xmpp."+this.id+".user_status",t),window.cti.api.xmpp_connection.send(r.tree()),e.resolve()}else e.reject("Invalid status provided.");return e.promise},p.prototype.setConnectionStatus=function(t){o.set("xmpp."+this.id+".connection_status",t)},p.prototype.setLastAuthStatus=function(t){o.set("xmpp."+this.id+".last_auth_status",t)},p.prototype.statusCodeToTxt=function(t){var e=null;switch(t){case window.Strophe.Status.ERROR:e=this.CONNECTION_STATUS.ERROR;break;case window.Strophe.Status.CONNECTING:e=this.CONNECTION_STATUS.CONNECTING;break;case window.Strophe.Status.CONNFAIL:e=this.CONNECTION_STATUS.CONNFAIL;break;case window.Strophe.Status.AUTHENTICATING:e=this.CONNECTION_STATUS.AUTHENTICATING;break;case window.Strophe.Status.AUTHFAIL:e=this.CONNECTION_STATUS.AUTHFAIL;break;case window.Strophe.Status.CONNECTED:e=this.CONNECTION_STATUS.CONNECTED;break;case window.Strophe.Status.DISCONNECTED:e=this.CONNECTION_STATUS.DISCONNECTED;break;case window.Strophe.Status.DISCONNECTING:e=this.CONNECTION_STATUS.DISCONNECTING;break;case window.Strophe.Status.ATTACHED:e=this.CONNECTION_STATUS.ATTACHED}return e},p.prototype.createMessageXml=function(t){var e=this.getMessageFromAllHistory(t),o=window.$msg({to:e.to,from:e.from,id:t,type:"chat"}).tree();if(null!==e.addresses){var n=new window.Strophe.Builder("addresses",{xmlns:"http://jabber.org/protocol/address"}).tree();e.addresses.forEach(function(t){var e=new window.Strophe.Builder("address",{type:"to",jid:t}).tree();n.appendChild(e)}),o.appendChild(n)}if(void 0!==e.body){var r=new window.Strophe.Builder("body").t(e.body).tree();o.appendChild(r)}if(null!==e.media.remote){var a=new window.Strophe.Builder("x",{xmlns:"jabber:x:oob"}).tree(),i=new window.Strophe.Builder("url").t(e.media.remote).tree();a.appendChild(i),o.appendChild(a)}if(this.readReceipts!==!1){var s=new window.Strophe.Builder("markable",{xmlns:"urn:xmpp:chat-markers:0"}).tree();o.appendChild(s)}if(null!==e.ttl){var c=new window.Strophe.Builder("x",{xmlns:"jabber:x:expire",seconds:e.ttl}).tree();o.appendChild(c)}if(null!==e.metadata&&Object.keys(e.metadata).length>0){var l=new window.Strophe.Builder("metadata",{xmlns:"urn:commontime:mdesign:metadata"}).tree();for(var u in e.metadata)if(void 0!==e.metadata[u]){var d=new window.Strophe.Builder(u).t(e.metadata[u]).tree();l.appendChild(d)}o.appendChild(l)}return o},p.prototype.sendMarker=function(t,e){var o=this.getMessageFromAllHistory(t),n=window.$msg({to:o.from,from:o.to,id:window.cti.api.xmpp_connection.getUniqueId(),type:"marker"});n.c(e,{xmlns:"urn:xmpp:chat-markers:0",id:t}),o.status=e,this.calcReadCount(o.from),window.cti.api.xmpp_connection.send(n.tree())},p.prototype.calcReadCount=function(t){if(void 0!==window.cti.store.xmpp[this.id]&&void 0!==window.cti.store.xmpp[this.id].history&&void 0!==window.cti.store.xmpp[this.id].history[t]){var e=window.cti.store.xmpp[this.id].history[t].messages,o=0,n=0,r=this;e.forEach(function(e){e.from==t&&(e.status===r.MESSAGE_STATUS.DISPLAYED||e.status===r.MESSAGE_STATUS.ACKNOWLEDGED?o+=1:n+=1)}),window.cti.store.xmpp[this.id].history[t].read=o,window.cti.store.xmpp[this.id].history[t].unread=n,this.saveAndUpdate()}},p.prototype.createMessageObject=function(t,o,n,r,a,i,s,c){var l=o===window.cti.api.xmpp_connection.authzid?t:o;if(void 0!==l){var u={id:void 0!==a&&null!==a?a:window.cti.api.xmpp_connection.getUniqueId(),from:o,ttl:void 0!==i?i:null,to:t,body:n,status:o===window.cti.api.xmpp_connection.authzid?this.MESSAGE_STATUS.SENDING:null,ts:(new Date).getTime(),media:{local:null,remote:null,status:null},metadata:void 0!==s&&null!==s?s:null,addresses:void 0!==c?c:null};return void 0!==r&&null!==r&&(void 0!==r.local&&(u.media.local=r.local),void 0!==r.remote&&(u.media.remote=r.remote),void 0!==r.status&&(u.media.status=r.status)),this.addHistory(l,u),this.getMessageFromHistory(l,u.id)}return e.error("Recipient required for a message."),null},p.prototype.getMessageFromHistory=function(t,e){var o=null;if(void 0!==window.cti.store.xmpp[this.id].history[t]){var n=window.cti.store.xmpp[this.id].history[t].messages;void 0!==n&&n.length>0&&n.forEach(function(t){t.id==e&&(o=t)})}return o},p.prototype.getMessageFromAllHistory=function(t){var e=window.cti.store.xmpp[this.id].history,o=null;if(void 0!==e)for(var n in e)null===o&&(o=this.getMessageFromHistory(n,t));return o},p.prototype.addHistory=function(t,e){void 0===window.cti.store.xmpp[this.id].history[t]&&(window.cti.store.xmpp[this.id].history[t]={messages:[],read:0,unread:0}),e.ts=(new Date).getTime(),window.cti.store.xmpp[this.id].history[t].messages.push(e)},p.prototype.saveAndUpdate=function(){o.save().then(function(){r.$emit("StoreHasChanged")})},p.prototype.purgeQue=function(){var t=!1,e=this;this.queue.forEach(function(o){var n=e.getMessageFromAllHistory(o);null!==n&&(n.status=e.MESSAGE_STATUS.FAILED,t=!0)}),t===!0&&this.saveAndUpdate()},p.prototype.cleanQueue=function(){if(void 0!==window.cti.store.xmpp[this.id]){var t=window.cti.store.xmpp[this.id].history,e=!1;if(void 0!==t){var o=this;for(var n in t){var r=t[n].messages;void 0!==r&&r.forEach(function(t){t.status===o.MESSAGE_STATUS.SENDING&&(t.status=o.MESSAGE_STATUS.FAILED,e=!0)})}}e===!0&&this.saveAndUpdate()}},p.prototype.getBareJid=function(t){return window.Strophe.getBareJidFromJid(t)},p}]),angular.module("app.core").factory("XmppFactory",["Xmpp","$q",function(t,e){function o(e){u[e.name]=new t(e.name,e.endpoint,e.actions,e["upload-jid"],e["read-receipts"],e["stay-connected"],e["multicast-jid"],e["ping-time"],e["ping-timeout"])}function n(t){var o=e.defer(),n=t.name;return void 0!==n?void 0!==u[n]?u[n].send(t).then(function(){o.resolve(!0)})["catch"](function(t){o.reject(t)}):o.reject('XMPP instance with name "'+n+'" does not exist.'):o.reject("XMPP instance name not specified."),o.promise}function r(t){var o=e.defer(),n=t.name;return void 0!==n?void 0!==u[n]?u[n].sendToGroup(t).then(function(){o.resolve(!0)})["catch"](function(t){o.reject(t)}):o.reject('XMPP instance with name "'+n+'" does not exist.'):o.reject("XMPP instance name not specified."),o.promise}function a(t){var o=e.defer(),n=t.name;return void 0!==n?void 0!==u[n]?u[n].markRead(t).then(function(){o.resolve(!0)})["catch"](function(t){o.reject(t)}):o.reject('XMPP instance with name "'+n+'" does not exist.'):o.reject("XMPP instance name not specified."),o.promise}function i(t){var o=e.defer(),n=t.name;return void 0!==n?void 0!==u[n]?void 0!==t.id?(u[n].sendMarker(t.id,"acknowledged"),o.resolve()):o.reject("Message ID must be provided."):o.reject('XMPP instance with name "'+n+'" does not exist.'):o.reject("XMPP instance name not specified."),o.promise}function s(t){var o=e.defer(),n=t.name,r=t.custom||t.status;return void 0!==n&&void 0!==r?void 0!==u[n]?u[n].setStatus(r).then(function(){o.resolve(!0)})["catch"](function(t){o.reject(t)}):o.reject('XMPP instance with name "'+n+'" does not exist.'):o.reject("XMPP instance name not specified."),o.promise}function c(t){var o=e.defer(),n=t.name;return void 0!==n?void 0!==u[n]?u[n].login(t.username,t.password).then(function(){o.resolve()})["catch"](function(t){o.reject(t)}):o.reject('XMPP instance with name "'+n+'" does not exist.'):o.reject("XMPP instance name not specified."),o.promise}function l(t){var o=e.defer(),n=t.name;return void 0!==n?void 0!==u[n]?u[n].logout().then(function(){o.resolve()})["catch"](function(t){o.reject(t)}):o.reject('XMPP instance with name "'+n+'" does not exist.'):o.reject("XMPP instance name not specified."),o.promise}var u={},d={init:o,send:n,login:c,logout:l,markRead:a,setStatus:s,sendToGroup:r,markAcknowledged:i};return d}]),angular.module("app.core").factory("FileSystem",["Plugin","$q","Platform","electron","MimeTypes","$log",function(t,e,o,n,r,a){function i(){return void 0!==n.app}function s(){return void 0!==window.resolveLocalFileSystemURL}function c(){if(i()){var r=n.path.sep,a=n.app.getPath("userData"),s=a+r;return e.when(s)}if("winphone"==o.getName())return e.resolve("");var c=t.getSource("file");if(!c)return e.reject("File System unavailable on this platform: "+navigator.userAgent);var l=e.defer();switch(o.getName()){case"ios":l.resolve(c.documentsDirectory);break;case"android":l.resolve(c.externalDataDirectory);break;default:l.resolve(c.dataDirectory)}return l.promise}function l(){var t=e.defer();return c().then(function(e){s()?("winphone"==o.getName()&&""===e&&(e+=".\\"),window.resolveLocalFileSystemURL(e,function(e){t.resolve(e)},function(e){t.reject(e)})):t.reject("Local file system unavailable on this platform.")})["catch"](function(e){t.reject(e)}),t.promise}function u(t){var o=e.defer();return c().then(function(e){i()?n.fsplus.stat(e+t,function(n,a){n?o.reject({message:"Error obtaining file '"+t+"'",innerError:n}):o.resolve({name:t,filePath:e+t,mimeType:r.mimeTypeFromExtension(t),size:a.size})}):s()?window.resolveLocalFileSystemURL(e+t,function(t){t.file(function(t){o.resolve({name:t.name||t.localURL,filePath:t.localURL,mimeType:r.mimeTypeFromExtension(t.name||t.localURL),size:t.size})})},function(e){o.reject({message:"Error obtaining file '"+t+"'",innerError:e})}):o.reject("Local file system unavailable on this platform: "+navigator.userAgent)})["catch"](function(e){o.reject({message:"Error obtaining file '"+t+"'",innerError:e})}),o.promise}function d(t){var o=e.defer();return c().then(function(e){i()?n.fsplus.readFile(e+t,function(e,n){if(e)o.reject({message:"Error obtaining file blob for file '"+t+"'",innerError:e});else{var a=new Blob([n],{type:r.mimeTypeFromExtension(t)});o.resolve(a)}}):s()?window.resolveLocalFileSystemURL(e+t,function(e){e.file(function(e){var n=new FileReader;n.onloadend=function(e){var n=new Blob([e.target.result],{type:r.mimeTypeFromExtension(t)});o.resolve(n)},n.readAsArrayBuffer(e)})},function(e){o.reject({message:"Error obtaining file blob for file '"+t+"'",innerError:e})}):o.reject("Unable to read file on this platform: "+navigator.userAgent)})["catch"](function(e){o.reject({message:"Error obtaining file blob for file '"+t+"'",innerError:e})}),o.promise}function p(t){return t.replace(/\\/g,"/").split("/").pop()}function g(t){return t.indexOf("/")==-1?t.substring(0,t.lastIndexOf("\\")+1):t.substring(0,t.lastIndexOf("/")+1)}function m(t,o){var a=e.defer();return c().then(function(e){var c=e+t,u=r.mimeTypeFromExtension(t);if(i()){var d=new Uint8Array(o),p=new window.Buffer(d);n.fsplus.writeFile(c,p,function(e){e?a.reject({message:"Error saving file '"+t+"'",innerError:e}):a.resolve(c)})}else s()?l().then(function(e){e.getFile(t,{create:!0,exclusive:!1},function(e){e.createWriter(function(n){n.onwriteend=function(){e.file(function(t){a.resolve(t.localURL)})},n.onerror=function(e){a.reject({message:"Error saving file '"+t+"'",innerError:e})};var r=new Blob([o],{type:u});n.write(r)})})}):a.reject("Unable to save file on this platform: "+navigator.userAgent)})["catch"](function(e){a.reject({message:"Error saving file '"+t+"'",innerError:e})}),a.promise}function f(t,o){var r=e.defer();return c().then(function(e){if(i()){var a=e+t,c=e+o;n.fsplus.rename(a,c,function(e){e?r.reject({message:"Error renaming file '"+t+"'",innerError:e}):r.resolve(c)})}else s()?l().then(function(e){e.getFile(t,{create:!1,exclusive:!0},function(n){n.moveTo(e,o,function(t){t.file(function(t){r.resolve(t.localURL)})},function(e){r.reject({message:"Error renaming file '"+t+"'",innerError:e})})},function(e){r.reject({message:"Error renaming file '"+t+"'",innerError:e})})}):r.reject("Unable to rename file on this platform: "+navigator.userAgent)})["catch"](function(e){r.reject({message:"Error renaming file '"+t+"'",innerError:e})}),r.promise}function C(t,r){var a=e.defer();return c().then(function(e){if(i()){var c=e+r;n.fsplus.rename(t,c,function(e){e?a.reject({message:"Error moving file at '"+t+"'",innerError:e}):a.resolve(c)})}else if(s()){"ios"!==o.getName()&&"android"!==o.getName()||t.indexOf("file://")==-1&&(t="file://"+t);var l=g(t),u=p(t);window.resolveLocalFileSystemURL(l,function(e){e.getFile(u,{create:!1,exclusive:!0},function(o){o.moveTo(e,r,function(t){t.file(function(t){a.resolve(t.localURL)})},function(e){a.reject({message:"Error moving file '"+t+"'",innerError:e})})},function(e){a.reject({message:"Error moving file '"+t+"'",innerError:e})})})}else a.reject("Unable to move file on this platform: "+navigator.userAgent)})["catch"](function(e){a.reject({message:"Error moving file '"+t+"'",innerError:e})}),a.promise}function h(o,n,r){var a=i()?t.getSource("@commontimeltd/com.commontime.filetransfer"):t.getSource("FileTransfer");if(!a)return e.reject("File transfer plugin not available");var s=e.defer(),c={httpMethod:r.httpMethod,fileName:r.fileName||p(o),fileKey:r.fileKey,headers:r.headers},l=new a;return l.upload(o,n,function(t){s.resolve({source:o,target:n,response:t.response})},function(t){s.reject({message:"Error uploading file '"+o+"' to '"+n+"'",innerError:t})},c),s.promise}function S(o,n){function a(t){var e=t+n,a=new s;a.download(o,e,function(t){i()?u.resolve({filePath:t.filePath,mimeType:r.mimeTypeFromExtension(t.filePath)}):t.file(function(t){u.resolve({filePath:t.localURL,mimeType:r.mimeTypeFromExtension(t.localURL)})},function(t){u.reject({message:"Error download file from '"+o+"' to '"+e+"'",innerError:t})})},function(t){u.reject({message:"Error download file from '"+o+"' to '"+e+"'",innerError:t})})}var s=i()?t.getSource("@commontimeltd/com.commontime.filetransfer"):t.getSource("FileTransfer");if(!s)return e.reject("File transfer plugin not available");i()?c().then(function(t){a(t)}):l().then(function(t){a(t.nativeURL)});var u=e.defer();return u.promise}function v(){var t=e.defer(),o=new Date,n=o.getTime(),r=n+".m4a";return c().then(function(e){0===e.indexOf("file://")&&(e=e.replace("file://",""));var o=e+r;t.resolve(o)})["catch"](function(t){a.error(t)}),t.promise}function w(t){var r=e.defer(),c=function(){a.error(arguments),r.reject(arguments)};if(void 0===t||null===t)c("Could not delete media item - no uri specified");else if(i()||s())if(i())try{n.fsplus.existsSync(t)===!1?c("Error deleting file - file does not exist"):n.fsplus.isFileSync(t)===!1?c("Error deleting file - path was not a file"):(n.fsplus.removeSync(t),r.resolve())}catch(l){c("Error deleting file",l)}else try{var u=t.indexOf("file://")==-1;"winphone"!=o.getName()&&u&&(t="file://"+t),window.resolveLocalFileSystemURL(t,function(e){e.isDirectory?c("Error getting file to delete - file uri resolved to a directory: ",t):e.remove(function(){r.resolve()},function(t){c("Error deleting the file: ",t)})},function(t){c("Error getting file entry",t)})}catch(l){c("Error deleting file: ",l)}else c("resolveLocalFileSystemURL is not available - platform could not be detected");return r.promise}function y(t){var o=e.defer(),i=[];if(void 0!==t&&t.length>0){var s=[];t.forEach(function(t){var e=r.extensionFromMimeType(t);null!==e&&s.push(e)}),s.length>0&&i.push({name:"Mimes",extensions:s})}return n.dialog.showOpenDialog({properties:["openFile","singleSelection"],filters:i},function(t){void 0==t||void 0!=t&&0==t.length||c().then(function(e){var r=t[0],i=p(r),s=e+i;n.fsplus.copy(t[0],s,function(t){return t?a.error(t):void o.resolve(s)})})}),o.promise}return{getStorageLocation:c,getStorage:l,getFile:u,getFileBlob:d,getFileNameFromPath:p,saveFile:m,renameFile:f,moveFileToStorage:C,upload:h,download:S,generateFileName:v,deleteMediaItem:w,selectFile:y}}]),angular.module("app.core").factory("Platform",["StoreFactory",function(t){function e(){t.set("env.platform.type",o()),t.set("env.platform.name",n())}function o(){return window.cordova!==!1&&/iPhone|iPad|iPod|IEMobile|Android/i.test(navigator.userAgent)?"device":/Electron/i.test(navigator.userAgent)?"desktop":/Chrome/i.test(navigator.userAgent)||/Firefox/i.test(navigator.userAgent)||a.test(navigator.userAgent)?"browser":null}function n(){return/IEMobile/i.test(navigator.userAgent)||/Windows Phone 8\.1/i.test(navigator.userAgent)?"winphone":/Android/i.test(navigator.userAgent)?"android":/iPhone|iPad|iPod/i.test(navigator.userAgent)?"ios":/Electron/i.test(navigator.userAgent)?"electron":/Chrome/i.test(navigator.userAgent)?"chrome":/Firefox/i.test(navigator.userAgent)?"firefox":a.test(navigator.userAgent)?"internet_explorer":null}var r={init:e,getType:o,getName:n},a=navigator.userAgent.indexOf("MSIE")!=-1?/MSIE (\d+\.\d+);/:/Trident.*rv[ :]*(\d+\.\d+)/;return r}]),angular.module("app.core").factory("InboxOutboxFactory",["$q","$log","$injector","Plugin","Utilities","electron",function(t,e,o,n,r,a){function i(){var e=sessionStorage.getItem("debug");if(e){var n=e.split("|");N=n.indexOf("*")!==-1||n.indexOf("inboxoutbox")!==-1}if(T('Ensuring "InboxOutbox" factory is initialised...'),R)return t.when();var r=t.defer();return G=o.get("SchemaService"),B=o.get("ActionFactory"),b().then(function(){V===!1?r.reject('Unable to initialise "notify" plugin'):setTimeout(function(){T("Registering global outbox and inbox change handlers"),V.receiveInboxChanges(I,A),V.receiveOutboxChanges(I,L),U=!0,r.resolve()},0)})["catch"](function(t){E(t)}),R=!0,r.promise}function s(e){if(!U)return t.reject("Notfiy plugin not initialised");var o=t.defer();return T('Setting "notify" options:',e),V.setOptions(function(){o.resolve()},function(){o.reject("Error setting message queue options")},e),o.promise}function c(t){return M?n.getSource("@commontimeltd/com.commontime."+t):n.getSource(t)}function l(e){return T("Registering provider with InboxOutboxFactory:",e),q[e.name]={outboxChangeCallback:e.outboxChangeCallback,inboxChangeCallback:e.inboxChangeCallback},t.when(q[e.name])}function u(){return G.isPreview()||G.isLivePreview()}function d(t){return"REQUEST_"+t.toUpperCase()+"_"+r.uuid()}function p(e){return U?j("addChannel",[e]):t.reject("Notfiy plugin not initialised")}function g(e){return U?j("removeChannel",[e]):t.reject("Notfiy plugin not initialised")}function m(e){return U?(T("Sending message...",e),j("sendMessage",[e])):t.reject("Notfiy plugin not initialised")}function f(e,o){return U?(T('Acknowledging message id "'+o+'" for receiver "'+e+'"'),j("messageReceivedAck",[e,o])):t.reject("Notfiy plugin not initialised")}function C(e){return U?(T('Deleting message "'+e+'"'),j("deleteMessage",[e])):t.reject("Notfiy plugin not initialised")}function h(t){return t.hasOwnProperty(G.ITEM_AUTO_ID_PROPERTY)?t[G.ITEM_AUTO_ID_PROPERTY]:null}function S(t){return G.findItemById(t)}function v(t,e,o){return T('Calling "'+e+'" actions from',t,"with model",o),B.triggerEvent(e,t,o)}function w(e,o,n){return T("Looking for child actions of:",e),null===e||!e.actions instanceof Array?t.when():v(e.actions,o,n)}function y(){return N===!0}function L(t,e){setTimeout(function(){T("Outbox change received:",e);var o=$(e),n=x(o);null!==n&&"function"==typeof n.outboxChangeCallback&&(T('Routing outbox change to provider "'+o+'"'),n.outboxChangeCallback(t,e))},0)}function A(t,e){setTimeout(function(){T("Inbox change received:",e);var o=$(e),n=x(o);null!==n&&"function"==typeof n.inboxChangeCallback&&(T('Routing inbox change to provider "'+o+'"'),n.inboxChangeCallback(t,e))},100)}function b(){var e=t.defer();return T('Obtaining "nofity" plugin...'),V=F===!0?k():M?n.getSource("@commontimeltd/com.commontime.notify"):n.getSource("notify"),e.resolve(V),e.promise}function j(e,o){var n=t.defer();return o.push(function(t,e){t?n.reject(t):n.resolve(e)}),V[e].apply(V,o),n.promise}function $(t){var e=t.message.provider;return e||(e=P),e}function x(t){return q.hasOwnProperty(t)?q[t]:null}function T(){if(N===!0&&void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[inboxOutbox.fct.js] "+t[0]),e.log.apply(e,t)}}function E(){if(void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[inboxOutbox.fct.js] "+t[0]),e.error.apply(e,t)}}function k(){function t(t,e){setTimeout(function(){t(void 0,e)},o)}e.info("*** USING MOCK NOTIFY PLUGIN: Turn this off in inboxOutbox.fct.js if you expect to use the real plugin ***");var o=500;return{___queues:{},___localChannels:[],___onInboxChange:null,___onOutboxChange:null,addChannel:function(e,o){T("addChannel called with arguments:",arguments),this.___localChannels.indexOf(e)===-1&&this.___localChannels.push(e),t(o,e)},removeChannel:function(e,o){T("removeChannel called with arguments:",arguments);var n=this.___localChannels.indexOf(e);n!==-1&&this.___localChannels.splice(n,1),t(o,e)},sendMessage:function(e,o){T("sendMessage called with arguments:",arguments),this.___queues[e.channel]||(this.___queues[e.channel]=[]);var n="Message_"+r.uuid();if(e.id=n,e.date=(new Date).getTime(),this.___queues[e.channel].push(e),this.___localChannels.indexOf(e.channel)!==-1){if("function"==typeof this.___onOutboxChange){var a={action:"SENDING",message:e},i={action:"SENT",message:e};this.___onOutboxChange(void 0,a),this.___onOutboxChange(void 0,i)}if("function"==typeof this.___onInboxChange){var s={action:"create",message:e};this.___onInboxChange(void 0,s)}}t(o,n)},deleteMessage:function(e,o){T("deleteMessage called with arguments:",arguments);for(var n in this.___queues)if(this.___queues.hasOwnProperty(n))for(var r=this.___queues[n].length-1;r>=0;r--)this.___queues[n][r].id===e&&this.___queues[n].splice(r,1);t(o,e)},messageReceivedAck:function(e,o,n){T("messageReceivedAck called with arguments:",arguments),t(n,null)},receiveInboxChanges:function(t,e){T("receiveInboxChanges called with arguments:",arguments),this.___onInboxChange=e},receiveOutboxChanges:function(t,e){T("receiveOutboxChanges called with arguments:",arguments),this.___onOutboxChange=e}}}var F=!1,I="com.commontime.inboxOutbox",P="azure.servicebus",_="azure.appservices",D="rest",O=null,N=!1,M=void 0!==a.app,R=!1,U=!1,q={},V=null,G=null,B=null;return{init:i,setOptions:s,getProviderPlugin:c,registerProvider:l,isFromStudio:u,generateRequestId:d,addChannel:p,removeChannel:g,sendMessage:m,acknowledgeMessage:f,deleteMessage:C,getActionId:h,getActionById:S,callActions:v,callChildActions:w,isDebugMode:y,USE_MOCK_PLUGIN:F,PROVIDER_AZURESERVICEBUS:P,PROVIDER_AZUREAPPSERVICES:_,PROVIDER_REST:D,PROVIDER_UNKNOWN:O}}]),angular.module("app.core").factory("MessageQueueFactory",["$q","$log","InboxOutboxFactory","StoreFactory",function(t,e,o,n){function r(e){if($)return t.when();var n=t.defer();return o.init().then(function(){h("Initialising message queue providers with schema...",e);var t=e.settings["message-queue"],o=u(t);0===o.length&&(h("No message queue providers enabled"),n.resolve()),E=p(o),g().then(function(){return m(o)}).then(function(){return f(e)}).then(function(){return C()}).then(function(){x=!0,n.resolve()})["catch"](function(t){S(t),n.reject(t)})})["catch"](function(t){S(t),n.reject(t)}),$=!0,n.promise}function a(e){if(!x)return t.reject("Message Queue plugin not initialised");if(!e)return t.reject("Missing queue name");e=e.toLowerCase(),h('Listening to queue "'+e+'"...');var n=o.addChannel(e);return n.then(function(){h('Adding "'+e+'" to store'),w(e)}),n}function i(e){if(!x)return t.reject("Message Queue plugin not initialised");if(!e)return t.reject("Missing queue name");e=e.toLowerCase(),h('Stopped listening to queue "'+e+'"...');var n=o.removeChannel(e);return n.then(function(){h('Removing "'+e+'" from store'),y(e)}),n}function s(e,n){if(!x)return t.reject("Message Queue plugin not initialised");if(!e)return t.reject("Missing queue name");if(!n)return t.reject('Invalid message content "'+n+'"');e=e.toLowerCase();var r=new Date,a=r.getUTCFullYear()+1,i=Date.UTC(a,r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()),s={channel:e,subchannel:j,expiry:i,provider:E.name,notification:"",content:{data:n}};return o.sendMessage(s)}function c(t,e){return t?void S(t):void("sent"===e.action.toLowerCase()&&T.onSent.length&&(h('Triggering "message sent" event'),o.callActions(T.onSent,"click",{$messageId:e.message.id})))}function l(t,e){if(t)S(t);else if("create"===e.action.toLowerCase()&&T.onReceived.length){var n={$message:{id:e.message.id,queue:e.message.channel,body:e.message.content.data,sent:parseInt((e.message.date||0).toString()),received:parseInt((new Date).getTime().toString())}};h('Triggering "message received" event'),o.callActions(T.onReceived,"click",n).then(function(){o.acknowledgeMessage(b,e.message.id),o.deleteMessage(e.message.id)})}}function u(t){var e=[],n=t.asb||{};if(n.enabled===!0){h('Obtaining provider "'+o.PROVIDER_AZURESERVICEBUS+'"...');var r={sbHostName:n.hostName,serviceNamespace:n.serviceNamespace,sasKeyName:n.keyName,sasKey:n.key,brokerType:n.brokerType,brokerAutoCreate:n.autoCreate||!1};e.push({name:o.PROVIDER_AZURESERVICEBUS,loadProviderPromise:d("asb",r)})}return e}function d(e,n){var r=t.defer();h('Initialising "'+e+'" message queue provider...');var a=o.USE_MOCK_PLUGIN===!0?L(e):o.getProviderPlugin(e);return a===!1?r.reject('Unable to initialise "'+e+'" plugin'):o.isFromStudio()?(h('...running from Studio - injecting "'+e+'" message queue preferences:',n),a.start(r.resolve,r.reject,n)):(h('...using "'+e+'" message queue preferences from configuration file'),a.start(r.resolve,r.reject)),r.promise}function p(t){return t.length>0?t[0]:null}function g(){var e=t.defer();if(o.isFromStudio())if(null!==E){var n={defaultPushSystem:E.name};o.setOptions(n).then(function(){e.resolve()})["catch"](function(t){e.reject(t)})}else e.reject("No default push system was specified");else h("Options being obtained from config.xml / package.json"),e.resolve();return e.promise}function m(e){var n=[];return angular.forEach(e,function(e){var r=t.defer();e.loadProviderPromise.then(function(){h('Registering message queue provider "'+e.name+'"');var t={name:e.name,outboxChangeCallback:c,inboxChangeCallback:l};o.registerProvider(t).then(function(){r.resolve()})}),n.push(r)}),t.all(n)}function f(e){var o=t.defer();return e&&e.config&&e.config.length&&angular.forEach(e.config,function(t){if("message-queue-event"===t["item-type"])switch((t.eventType||"").toLowerCase()){case"ready":T.onReady=T.onReady.concat(t.actions);break;case"received":T.onReceived=T.onReceived.concat(t.actions);break;case"sent":T.onSent=T.onSent.concat(t.actions);break;default:S('Unknown message queue event type "'+t.eventType+'"')}}),h("Registered actions:",T),o.resolve(),o.promise}function C(){var e=t.defer();return setTimeout(function(){var t=v();t.length&&(h("Re-adding queues:",t),angular.forEach(t,function(t){o.addChannel(t.toLowerCase())})),h('Triggering "ready" event'),o.callActions(T.onReady,"click"),e.resolve()},0),e.promise}function h(){if(o.isDebugMode()&&void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[messageQueue.fct.js] "+t[0]),e.log.apply(e,t)}}function S(){if(void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[messageQueue.fct.js] "+t[0]),e.error.apply(e,t)}}function v(){var t=n.get(A)||{};return t.listeningTo||[]}function w(t){
var e=v();e.push(t),n.set(A,{listeningTo:e})}function y(t){var e=v(),o=e.indexOf(t);o!==-1&&(e.splice(o,1),n.set(A,{listeningTo:e}))}function L(t){function o(o,n){e.info("*** USING MOCK "+t.toUpperCase()+" PLUGIN: Set USE_MOCK_PLUGIN to false in inboxOutbox.fct.js if you expect to use the real plugin ***");var r=500;setTimeout(function(){o(void 0,n)},r)}return{start:function(t){h("start called with arguments:",arguments),o(t,"ok")}}}var A="messageQueues",b="com.commontime.infinity.messageQueue",j="default",$=!1,x=!1,T={onReady:[],onReceived:[],onSent:[]},E=null;return{init:r,startListening:a,stopListening:i,sendMessage:s}}]),angular.module("app.core").factory("RestFactory",["$q","$log","InboxOutboxFactory","Api","StoreFactory","Utilities","FileSystem","MimeTypes",function(t,e,o,n,r,a,i,s){function c(){if(b)return t.when();var e=t.defer();return o.init().then(function(){return g()}).then(function(){var t={name:o.PROVIDER_REST,outboxChangeCallback:d,inboxChangeCallback:p};return o.registerProvider(t)}).then(function(){j=!0,e.resolve()})["catch"](function(t){w(t),e.reject(t)}),b=!0,e.promise}function l(t){v("Registering Offline API item:",t),$.push(t)}function u(e){if(!j)return t.reject(A+" plugin not initialised");v("Making request for action:",e);var r=o.getActionId(e),a=e.data.name,i=e.data.operation,s=m(a),c=f(s,i);if(null===c)return t.reject('Unknown operation "'+i+'"');v('Invoking operation "'+i+'" with config:',c);var l=new n(s.name,s.url,s.params,s.headers,s.operations);return l.buildRequestObject(c,e.data.params,C).then(function(t){c.downloadAsFile===!0&&(t.downloadAsFile=c.downloadAsFile,t.downloadFileName=c.downloadFileName),t.invokingActionId=r;var n=c.ttlMinutes;void 0===n&&(n=60);var a=0;if(0===n)a=0;else{var i=new Date;a=Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds()),a+=60*n*1e3}var s=o.generateRequestId(o.PROVIDER_REST),l={channel:L,subchannel:s,provider:o.PROVIDER_REST,expiry:a,content:t};o.sendMessage(l)["catch"](function(t){w(t),o.callChildActions(e,"fail",{$response:t})})}),t.when(!0)}function d(t){void 0!==t&&w(t)}function p(t,e){if(void 0!==t)w(t);else if("create"===e.action.toLowerCase()){var n=h(e);if(null===n)v("Unable to handle inbox change - no message request data found in result:",e);else{var a=n.invokingActionId,i=o.getActionById(a);null!==i&&S(e).then(function(t){v("Parsed response:",t),t.isSuccess&&r.set("offlineApi."+i.data.name+"."+i.data.operation,t.responseData);var n=t.isSuccess?"success":"fail";v('Calling child "'+n+'" actions of action id "'+a+'" with model:',t.responseData),o.callChildActions(i,n,{$response:t.responseData}),o.deleteMessage(e.message.id)})}}}function g(){var e=t.defer();v('Initialising "'+A+'" plugin...');var n=o.USE_MOCK_PLUGIN===!0?y():o.getProviderPlugin(A);return n===!1?e.reject('Unable to initialise "'+A+'" plugin'):n.start(e.resolve,e.reject),e.resolve(),e.promise}function m(t){var e=$.filter(function(e){return e.name===t});return e.length?e[0]:null}function f(t,e){if(!t||!t.operations||!t.operations.length)return null;var o=t.operations.filter(function(t){return t.name===e});return o.length?o[0]:null}function C(o,n,r){var a=t.defer();if("formData"===n["in"]&&"file"===n.type){var c=r,l=i.getFileNameFromPath(c),u=n.typeConfig.base64encode;u?i.getFileBlob(l).then(function(t){var e=new FileReader;e.onloadend=function(t){o.headers["Content-Type"]="application/json",o.data[n.name]=t.target.result,n.typeConfig.fileNameParameterName&&(o.data[n.typeConfig.fileNameParameterName]=l),a.resolve(!0)},e.readAsDataURL(t)})["catch"](function(t){e.error(t),a.resolve(!1)}):(o.headers["Content-Type"]=s.mimeTypeFromExtension(c),o.data=r,o.uploadAsFile=!0,o.uploadAsMultipartForm=!0,o.formPartName=n.name,o.formPartFilename=l,a.resolve(!0))}else a.resolve(!1);return a.promise}function h(t){return t.message&&t.message.content?t.message.content.config:null}function S(e){if(!e.message||!e.message.content)return t.when({isSuccess:!1,responseData:"Invalid response message"});var o=parseInt(e.message.content.status||-1),n=o<=0||o>=400;if(n)return t.when({isSuccess:!1,responseData:{status:e.message.content.status,statusText:e.message.content.statusText,message:e.message.content.data}});var r=t.defer(),c=h(e),l=e.message.content.data,u=e.message.content.headers;if(c&&c.downloadAsFile===!0&&u){v("Response is downloaded file; file path:",l);var d=l,p="";if((c.downloadFileName||"").trim().length>0)p=c.downloadFileName;else{p=a.uuid();var g=(u["Content-Type"]||"").split(";")[0].trim(),m=s.extensionFromMimeType(g);null!==m&&(p+="."+m)}i.moveFileToStorage(d,p).then(function(t){r.resolve({isSuccess:!0,responseData:t})})["catch"](function(t){r.resolve({isSuccess:!1,responseData:t})})}else r.resolve({isSuccess:!0,responseData:l});return r.promise}function v(){if(o.isDebugMode()&&void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[rest.fct.js] "+t[0]),e.log.apply(e,t)}}function w(){if(void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[rest.fct.js] "+t[0]),e.error.apply(e,t)}}function y(){function t(t,o){e.info("*** USING MOCK "+A.toUpperCase()+" PLUGIN: Set USE_MOCK_PLUGIN to false in inboxOutbox.fct.js if you expect to use the real plugin ***");var n=500;setTimeout(function(){t(void 0,o)},n)}return{start:function(e){v("start called with arguments:",arguments),t(e,"ok")}}}var L="inboxoutbox."+o.PROVIDER_REST,A="rest",b=!1,j=!1,$=[];return{init:c,registerOfflineApi:l,makeRequest:u}}]),angular.module("app.core").factory("AzureAppServicesFactory",["$q","$log","InboxOutboxFactory","StoreFactory",function(t,e,o,n){function r(e){if(v)return t.when();var n=t.defer();return y=e,o.init().then(function(){return l(e)}).then(function(){var t={name:o.PROVIDER_AZUREAPPSERVICES,outboxChangeCallback:s,inboxChangeCallback:c};return o.registerProvider(t)}).then(function(){w=!0,n.resolve()})["catch"](function(t){f(t),n.reject(t)}),v=!0,n.promise}function a(e){if(!w)return t.reject(S+" plugin not initialised");m("Making request for action:",e);var n=o.getActionId(e),r=e.data.operation,a=u(r);if(null===a)return t.reject("Unknown operation '"+r+"'");var i=a.path;m("Invoking operation '"+i+"' with config:",a);var s={transport:{type:"zumoDirect",httpMethod:a.method,api:i},invokingActionId:n};if(e.data.params){s.data={};for(var c in e.data.params)if(e.data.params.hasOwnProperty(c)){var l=d(a,c);if(null!==l)switch(l.type){case"fileref":s.data[c]="#fileref:"+e.data.params[c];break;default:s.data[c]=e.data.params[c]}}}var p=a.ttlMinutes;void 0===p&&(p=60);var g=0;if(0===p)g=0;else{var C=new Date;g=Date.UTC(C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate(),C.getUTCHours(),C.getUTCMinutes(),C.getUTCSeconds()),g+=60*p*1e3}var v=o.generateRequestId(o.PROVIDER_AZUREAPPSERVICES),y={channel:h,subchannel:v,provider:o.PROVIDER_AZUREAPPSERVICES,expiry:g,content:s};return o.sendMessage(y)["catch"](function(t){f(t),o.callChildActions(e,"fail",{$response:t})}),t.when(!0)}function i(){if(!w)return t.reject(S+" plugin not initialised");var e=t.defer();m("Attempting logout");var n=o.USE_MOCK_PLUGIN===!0?C():o.getProviderPlugin(S);return n===!1?e.reject("Unable to initialise '"+S+"' plugin"):n.logout(e.resolve,e.reject),e.promise}function s(t){void 0!==t&&f(t)}function c(t,e){if(void 0!==t)f(t);else if("create"===e.action.toLowerCase()){var r=p(e);if(null===r)m("Unable to handle inbox change - no message request data found in result:",e);else{var a=r.invokingActionId,i=o.getActionById(a);null!==i&&g(e).then(function(t){m("Parsed response:",t),t.isSuccess&&n.set("azureAppServices."+i.data.name+"."+i.data.operation,t.responseData);var r=t.isSuccess?"success":"fail";m("Calling child '"+r+"' actions of action id '"+a+"' with model:",t.responseData),o.callChildActions(i,r,{$response:t.responseData}),o.deleteMessage(e.message.id)})}}}function l(e){var n=t.defer();m("Initialising '"+S+"' plugin...");var r=o.USE_MOCK_PLUGIN===!0?C():o.getProviderPlugin(S);if(r===!1)n.reject("Unable to initialise '"+S+"' plugin");else if(o.isFromStudio()){var a={url:e.aasUrl,authenticationMethod:e.aasAuthenticationMethod,useBlobStorage:e.aasUseBlobStorage};m("...running from Studio - injecting '"+S+"' preferences:",a),r.start(n.resolve,n.reject,a)}else m("...using '"+S+"' preferences from configuration file"),r.start(n.resolve,n.reject);return n.resolve(),n.promise}function u(t){if(!y.operations||!y.operations.length)return null;var e=y.operations.filter(function(e){return e.name===t});return e.length?e[0]:null}function d(t,e){if(!t||!t.params.length)return null;var o=t.params.filter(function(t){return t.name===e});return o.length?o[0]:null}function p(t){return t.message&&t.message.content?t.message.content.config:null}function g(e){if(!e.message||!e.message.content)return t.when({isSuccess:!1,responseData:"Invalid response message"});var o=t.defer(),n=e.message.content.errorType&&e.message.content.errorMessage;return n?o.resolve({isSuccess:!1,responseData:e.message.content.errorMessage}):o.resolve({isSuccess:!0,responseData:e.message.content.response}),o.promise}function m(){if(o.isDebugMode()&&void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[azureAppServices.fct.js] "+t[0]),e.log.apply(e,t)}}function f(){if(void 0!==arguments){var t=Array.prototype.slice.call(arguments);t.length>0&&"string"==typeof t[0]&&(t[0]="[azureAppServices.fct.js] "+t[0]),e.error.apply(e,t)}}function C(){function t(t,o){e.info("*** USING MOCK "+S.toUpperCase()+" PLUGIN: Set USE_MOCK_PLUGIN to false in inboxOutbox.fct.js if you expect to use the real plugin ***");var n=500;setTimeout(function(){t(void 0,o)},n)}return{start:function(e){m("start called with arguments:",arguments),t(e,"ok")},logout:function(e){m("logout called with arguments:",arguments),t(e,"ok")}}}var h="inboxoutbox."+o.PROVIDER_AZUREAPPSERVICES,S="zumo",v=!1,w=!1,y=null;return{init:r,makeRequest:a,logout:i}}]),angular.module("app.core").factory("DataflowFactory",["Dataflow","$q",function(t,e){function o(e,o){r[e]=new t(o)}function n(t,o){var n=e.defer();return void 0!=r[t]&&r[t].execute(o).then(function(t){n.resolve(t)})["catch"](function(t){n.reject(t)}),n.promise}var r={},a={init:o,execute:n};return a}]),angular.module("app.core").factory("Dataflow",["$log","$q","$injector","StoreFactory","localStorageService",function($log,$q,$injector,StoreFactory,localStorageService){function Dataflow(t){this.steps=t,this.debug="true"==localStorageService.get("debug")}function __copy(t){return JSON.parse(JSON.stringify(t))}return Dataflow.prototype={execute:function(data){var deferred=$q.defer(),$scope=this;if(void 0!==$scope.steps){var result=[],_data=data;angular.isObject(data)&&!angular.isArray(data)&&(_data=[data]);var source=window.Rx.Observable.from(_data),$store=window.cti.store,ActionFactory=$injector.get("ActionFactory");$scope.debug&&$log.log("========== WORKFLOW =========="),this.steps.forEach(function(step){switch(step["item-type"]){case"map":step=StoreFactory.parse(angular.copy(step),{$data:_data}),void 0!==step.content&&step.content.length>0?(eval("var stepFunction = function($data){ "+step.content+" }"),source=source.map(stepFunction)):void 0!==step.xpath&&step.xpath.length>0?source=source.map(function(t){var e=JSON.search(t,step.xpath);return $scope.debug&&($log.log("[MAP] - XPATH RESULT:",e[0]),$log.log("============ ▼ ============")),1===e.length?e[0]:e}):$log.error("No xpath or code has been added for a 'map' step.");break;case"flat-map":step=StoreFactory.parse(angular.copy(step),{$data:_data}),void 0!==step.content&&step.content.length>0?(eval("var stepFunction = function($data, $index){ "+step.content+" }"),source=source.flatMap(stepFunction)):void 0!==step.xpath&&step.xpath.length>0?source=source.flatMap(function(t){var e=JSON.search(t,step.xpath);return $scope.debug&&($log.log("[FLAT MAP] - XPATH RESULT:",e[0]),$log.log("============ ▼ ============")),1===e.length?e[0]:e}):$log.error("No xpath or code has been added for a 'flat-map' step.");break;case"reduce":step=StoreFactory.parse(angular.copy(step),{$data:_data}),void 0!==step.content&&step.content.length>0?(eval("var stepFunction = function($acc, $current, $index, $source){ "+step.content+"; }"),source=source.reduce(stepFunction)):void 0!==step.xpath&&step.xpath.length>0?source=source.reduce(function(t){var e=JSON.search(t,step.xpath);return $scope.debug&&($log.log("[REDUCE] - XPATH RESULT:",e[0]),$log.log("============ ▼ ============")),1===e.length?e[0]:e}):$log.error("No xpath or code has been added for a 'reduce' step.");break;case"some":step=StoreFactory.parse(angular.copy(step),{$data:_data}),void 0!==step.content&&step.content.length>0?(eval("var stepFunction = function($data){ "+step.content+"; }"),source=source.some(stepFunction)):void 0!==step.xpath&&step.xpath.length>0?source=source.some(function(t){var e=JSON.search(t,step.xpath);return $scope.debug&&($log.log("[SOME] - XPATH RESULT:",e[0]),$log.log("============ ▼ ============")),1===e.length?e[0]:e}):$log.error("No xpath or code has been added for a 'some' step.");break;case"convert":step=StoreFactory.parse(angular.copy(step),{$data:_data},!1),void 0!==step.content?source=source.map(function(stepData){var template=null;try{eval("template = "+step.content)}catch(e){$log.error(e)}if(null!==template){var res=window.jsonapter.instance().run(template,stepData);return $scope.debug&&($log.log("[CONVERT] - TEMPLATE:",template),$log.log("[CONVERT] - JSONAPTER RESULT:",res),$log.log("============ ▼ ============")),res}}):$log.error("No template has been added for a 'convert' step.");break;case"take":step=StoreFactory.parse(angular.copy(step),{$data:_data}),void 0!==step.content?source=source.take(step.content):$log.error("No value has been added for a 'take' step.");break;case"every":void 0!==step.content&&step.content.length>0?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($data){ "+step.content+"; }"),source=source.every(stepFunction)):void 0!==step.operations&&step.operations.length>0?source=source.every(function(t){return ActionFactory.evalOperations(__copy(step.operations),{$data:t,$store:$store})}):$log.error("No expression or code has been added for an 'every' step.");break;case"filter":void 0!==step.content&&step.content.length>0?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($current, $index, $source){ "+step.content+" }"),source=source.filter(stepFunction)):void 0!==step.operations&&step.operations.length>0?source=source.filter(function(t,e,o){return ActionFactory.evalOperations(__copy(step.operations),{$current:t,$index:e,$source:o,$store:$store})}):$log.error("No expression or code has been added for a 'filter' step.");break;case"find":void 0!==step.content&&step.content.length>0?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($current, $index, $source){ "+step.content+"; }"),source=source.find(stepFunction)):void 0!==step.operations&&step.operations.length>0?source=source.find(function(t,e,o){return ActionFactory.evalOperations(__copy(step.operations),{$current:t,$index:e,$source:o,$store:$store})}):$log.error("No expression or code has been added for a 'find' step.");break;case"to-array":source=source.toArray();break;case"max":void 0!==step.content?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($current, $next){ "+step.content+"; }"),source=source.average(stepFunction)):source=source.max();break;case"min":void 0!==step.content?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($current, $next){ "+step.content+"; }"),source=source.average(stepFunction)):source=source.min();break;case"sum":void 0!==step.content?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($current, $index, $source){ "+step.content+"; }"),source=source.average(stepFunction)):source=source.sum();break;case"count":void 0!==step.content?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($current){ "+step.content+"; }"),source=source.average(stepFunction)):source=source.count();break;case"average":void 0!==step.content?(step=StoreFactory.parse(angular.copy(step),{$data:_data}),eval("var stepFunction = function($data){ "+step.content+"; }"),source=source.average(stepFunction)):source=source.average()}}),source.subscribe(function(t){$scope.debug&&($log.log("ON NEXT:",t),$log.log("============ ▼ ============")),result.push(t)},function(t){$log.error(t),deferred.reject(t)},function(){var t=1===result.length?result[0]:result;$scope.debug&&($log.log("COMPLETED:",t),$log.log("===========================")),deferred.resolve(t)})}return deferred.promise}},Dataflow}]),angular.module("app.core").factory("ActionflowFactory",["Actionflow","$q",function(t,e){function o(e,o){r[e]=new t(o)}function n(t,o){var n=e.defer();return void 0!=r[t]&&r[t].execute(o).then(function(t){n.resolve(t)})["catch"](function(t){n.reject(t)}),n.promise}var r={},a={init:o,execute:n};return a}]),angular.module("app.core").factory("Actionflow",["$log","$q","$injector","localStorageService",function(t,e,o,n){function r(t){this.actions=t,this.debug="true"==n.get("debug")}return r.prototype={execute:function(t){var e=o.get("ActionFactory");return e.triggerEvent(null,this.actions,t)}},r}]),angular.module("app.core").factory("LoggingFactory",["$injector","electron","SchemaHelper",function(t,e,o){function n(t){return{log:function(){u(arguments,!0),t.log.apply(null,arguments)},debug:function(){d(arguments,!0),t.debug.apply(null,arguments)},info:function(){p(arguments,!0),t.info.apply(null,arguments)},error:function(){g(arguments,!0),t.error.apply(null,arguments)},warn:function(){m(arguments,!0),t.warn.apply(null,arguments)}}}function r(e){var n=t.get("StoreFactory");R=e,0!=o.schema.hostContext?(S(o.schema.settings.logging.enabled||!1),w(o.schema.settings.logging.appEnabled||!1,K),w(o.schema.settings.logging.clientEnabled||!1,J),w(o.schema.settings.logging.nativeEnabled||!1,W),L(o.schema.settings.logging.appUseDefault?o.schema.settings.logging.defaultRootLogLevel:o.schema.settings.logging.appRootLogLevel,K),L(o.schema.settings.logging.clientUseDefault?o.schema.settings.logging.defaultRootLogLevel:o.schema.settings.logging.clientRootLogLevel,J),L(o.schema.settings.logging.nativeUseDefault?o.schema.settings.logging.defaultRootLogLevel:o.schema.settings.logging.nativeRootLogLevel,W),b(o.schema.settings.logging.bufferFrequency)):(v().then(function(t){gt=t,n.set(Q,t)}),y(K).then(function(t){mt=t,n.set(Z,t)}),y(J).then(function(t){ft=t,n.set(tt,t)}),y(W).then(function(t){n.set(et,t)}),A(K).then(function(t){Ct=t,n.set(ot,t)}),A(J).then(function(t){ht=t,n.set(nt,t)}),A(W).then(function(t){n.set(rt,t)}));var r=n.get(at);void 0===r?b(o.schema.settings.logging.bufferFrequency):dt=r;var i=n.get(lt);void 0===i?a():a(i);var s=n.get(ut);void 0!==s&&(pt=s)}function a(e){var o=t.get("StoreFactory");void 0===e&&(M&&(pt.unshift(M),o.set(ut,pt)),e=R+"_logs_"+(new Date).getTime().toString()),N=new PouchDB(e,{revs_limit:1}),N.changes({since:"now",live:!0,include_docs:!0}).on("change",function(){c(!0)}),M=e,o.set(lt,e)}function i(t){return new PouchDB(t,{revs_limit:1})}function s(e){var o=t.get("$q"),n=o.defer();return e.destroy().then(function(){n.resolve()})["catch"](function(t){n.reject(t)}),n.promise}function c(e){var o=t.get("$q"),n=o.defer(),r=arguments;return N.info().then(function(o){var i=0==r.length&&o.doc_count>0||e===!1&&o.doc_count>0||e&&o.doc_count>=dt;!i||void 0!==e&&e&&o.db_name==St?n.resolve():(St=o.db_name,a(),l().then(function(e){var o=t.get("StoreFactory");e.forEach(function(t){var e=pt.indexOf(t);pt.splice(e,1)}),o.set(ut,pt),k().then(function(t){null!=t[J]&&o.set(st,t[J]),null!=t[K]&&o.set(it,t[K]),null!=t[W]&&o.set(ct,t[W])}),n.resolve()}))}),n.promise}function l(){var e=t.get("$q"),o=e.defer(),n=[],r=pt.length;return pt.forEach(function(e){var a=i(e);a.allDocs({include_docs:!0},function(i,c){if(!i){for(var l=[],u=0;u<c.rows.length;u++){var d=c.rows[u].doc;l.push(d.data)}var p=t.get("Plugin"),g=t.get("Platform"),m=p.getSource("logging");if(m){var f="desktop"===g.getType();f?(m.logMessages(l),s(a).then(function(){n.push(e),r--,0==r&&o.resolve(n)})["catch"](function(){r--,0==r&&o.resolve(n)})):m.logMessages(function(){s(a).then(function(){n.push(e),r--,0==r&&o.resolve(n)})["catch"](function(){r--,0==r&&o.resolve(n)})},function(){r--,0==r&&o.resolve(n)},l)}}})}),o.promise}function u(arguments,t){f(t,arguments)?ft&&x(V,ht)&&(arguments=C(arguments),h("["+_()+"] [DEBUG] "+arguments,q,J)):mt&&x(V,Ct)&&(arguments=C(arguments),h("["+_()+"] [DEBUG] "+arguments,q,K))}function d(arguments,t){f(t,arguments)?ft&&x(q,ht)&&(arguments=C(arguments),h("["+_()+"] [DEBUG] "+arguments,q,J)):mt&&x(q,Ct)&&(arguments=C(arguments),h("["+_()+"] [DEBUG] "+arguments,q,K))}function p(arguments,t){f(t,arguments)?ft&&x(V,ht)&&(arguments=C(arguments),h("["+_()+"] [INFO] "+arguments,V,J)):mt&&x(V,Ct)&&(arguments=C(arguments),h("["+_()+"] [INFO] "+arguments,V,K))}function g(arguments,t){f(t,arguments)?ft&&x(B,ht)&&(arguments=C(arguments),h("["+_()+"] [ERROR] "+arguments,B,J)):mt&&x(B,Ct)&&(arguments=C(arguments),h("["+_()+"] [ERROR] "+arguments,B,K))}function m(arguments,t){f(t,arguments)?ft&&x(G,ht)&&(arguments=C(arguments),h("["+_()+"] [WARN] "+arguments,G,J)):mt&&x(G,Ct)&&(arguments=C(arguments),h("["+_()+"] [WARN] "+arguments,G,K))}function f(t,arguments){return t===!0||arguments.length>=2&&arguments[0]===z}function C(arguments){var t=[],e=Array.prototype.slice.call(arguments);arguments.length>=2&&arguments[0]===z&&e.shift();for(var o=0;o<e.length;o++){var n=e[o];if(angular.isObject(n)||angular.isArray(n))try{t.push(JSON.stringify(n))}catch(r){t.push(n)}else"function"==typeof n?t.push(n.toString()):t.push(n)}return e.length>0&&(t=O.apply(null,t)),t}function h(t,e,o){if(null!=N){var n={logLevel:e,message:t,destination:o};N.put({_id:(new Date).getTime().toString()+window.performance.now(),data:n},function(){})}}function S(e){gt=e;var o=t.get("StoreFactory"),n=t.get("Plugin"),r=t.get("Platform"),a=n.getSource("logging");if(a){var i="desktop"===r.getType();i?(e?a.enableLogging():e||a.disableLogging(),o.set(Q,e)):e?a.enableLogging(function(){o.set(Q,e)},function(){}):e||a.disableLogging(function(){o.set(Q,e)},function(){})}}function v(){var e=t.get("$q"),o=e.defer(),n=t.get("Plugin"),r=t.get("Platform"),a=n.getSource("logging");if(a){var i="desktop"===r.getType();i?o.resolve(a.isLoggingEnabled()):a.isLoggingEnabled(function(t){o.resolve(t)},function(t){o.reject(t)})}return o.promise}function w(e,o){var n=t.get("StoreFactory"),r=t.get("Plugin"),a=t.get("Platform"),i=r.getSource("logging");if(i){var s="desktop"===a.getType();s?(e?i.enableDestination(o):e||i.disableDestination(o),o===K?(mt=e,n.set(Z,e)):o===J?(ft=e,n.set(tt,e)):o===W&&n.set(et,e)):e?i.enableDestination(function(){o===K?(mt=e,n.set(Z,e)):o===J?(ft=e,n.set(tt,e)):o===W&&n.set(et,e)},function(){},o):e||i.disableDestination(function(){o===K?(mt=!1,n.set(Z,!1)):o===J?(ft=!1,n.set(tt,!1)):o===W&&n.set(et,!1)},function(){},o)}}function y(e){var o=t.get("$q"),n=o.defer(),r=t.get("Plugin"),a=t.get("Platform"),i=r.getSource("logging");if(i){var s="desktop"===a.getType();s?n.resolve(i.isDestinationEnabled(e)):i.isDestinationEnabled(function(t){n.resolve(t)},function(t){n.reject(t)},e)}return n.promise}function L(e,o){if(void 0!==e&&(e=e.toLowerCase(),e===V||e===q||e===G||e===B)){var n=t.get("StoreFactory"),r=t.get("Plugin"),a=t.get("Platform"),i=r.getSource("logging");if(i){var s="desktop"===a.getType();o?(s?i.setRootLogLevel(e,o):i.setRootLogLevel(function(){},function(){},e,o),o===K?(Ct=e,n.set(ot,e)):o===J?(ht=e,n.set(nt,e)):o===W&&n.set(rt,e)):(s?(i.setRootLogLevel(e,J),i.setRootLogLevel(e,K),i.setRootLogLevel(e,W)):(i.setRootLogLevel(function(){},function(){},e,J),i.setRootLogLevel(function(){},function(){},e,K),i.setRootLogLevel(function(){},function(){},e,W)),n.set(ot,e),n.set(nt,e),n.set(rt,e))}}}function A(e){var o=t.get("$q"),n=o.defer(),r=t.get("Plugin"),a=t.get("Platform"),i=r.getSource("logging");if(i){var s="desktop"===a.getType();s?n.resolve(i.getRootLogLevel(e)):i.getRootLogLevel(function(t){n.resolve(t)},function(t){n.reject(t)},e)}return n.promise}function b(e){void 0===e?e=X:e<X?e=X:e>Y&&(e=Y),dt=e;var o=t.get("StoreFactory");o.set(at,e)}function j(e,o){var n=t.get("Plugin"),r=t.get("Platform"),a=n.getSource("logging");if(a){var i="desktop"===r.getType();o?i?a.configure(e,o):a.configure(function(){},function(){},e,o):i?(a.configure(e,J),a.configure(e,K),a.configure(e,W)):(a.configure(function(){},function(){},e,J),a.configure(function(){},function(){},e,K),a.configure(function(){},function(){},e,W))}}function $(e){var o=t.get("$q"),n=o.defer(),r=t.get("Plugin"),a=t.get("Platform"),i=r.getSource("logging");return i?c().then(function(){var t="desktop"===a.getType();t?i.zipLogFiles(e,function(t){n.resolve(t)}):i.zipLogFiles(function(t){n.resolve(t)},function(){n.reject()},e)}):n.reject(),n.promise}function x(t,e){return!!gt&&(e!==H&&(e===q?t===q||t===V||t===G||t===B:e===V?t===V||t===G||t===B:e===G?t===G||t===B:e!==B||t===B))}function T(o,n,r,a){var i=t.get("Plugin"),s=t.get("Platform"),c=i.getSource("logging");c&&$(a).then(function(t){var a="desktop"===s.getType();a?(location.href="mailto:"+o+"?subject="+n+"&body="+r,c.getRootLogFolder(function(t){e.shell.openItem(t)})):c.makeFilesPublic(function(t){E(o,n,r,t,function(){})},function(){},t)})}function E(e,o,n,r,a){var i=t.get("Plugin"),s=i.getSource("email");s.open({to:e,subject:o,body:n,attachments:r},function(){a()})}function k(){var e=t.get("$q"),o=e.defer(),n=t.get("Plugin"),r=t.get("Platform"),a=n.getSource("logging");if(a){var i="desktop"===r.getType();i?a.getLogFilePaths(function(t){o.resolve(t)}):a.getLogFilePaths(function(t){o.resolve(t)},function(t){o.reject(t)})}return o.promise}function F(){var e=t.get("$q"),o=e.defer(),n=t.get("Plugin"),r=t.get("Platform"),a=n.getSource("logging");if(a){var i="desktop"===r.getType();i?a.getArchivedLogFilePaths(function(t){o.resolve(t)}):a.getArchivedLogFilePaths(function(t){o.resolve(t)},function(t){o.reject(t)})}return o.promise}function I(e){var o=t.get("$q"),n=o.defer(),r=t.get("Plugin"),a=t.get("Platform"),i=r.getSource("logging");if(i){var s="desktop"===a.getType();s?n.resolve(e):i.makeFilesPublic(function(t){n.resolve(t)},function(t){n.reject(t)},e)}return n.promise}function P(){var e=t.get("Plugin"),o=t.get("Platform"),n=e.getSource("logging");if(n){var r="desktop"===o.getType();r?n.removePublicFiles():n.removePublicFiles(function(){},function(){})}}function _(){return vt.format(new Date)}function D(t){this.formatString=t;var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=function(t){return("0"+t).substr(-2,2)},r=function(t){return("00"+t).substr(-3,3)},a={d:["getDate",function(t){return n(t)}],m:["getMonth",function(t){return n(t+1)}],n:["getMonth",function(t){return e[t]}],w:["getDay",function(t){return o[t]}],y:["getFullYear"],H:["getHours",function(t){return n(t)}],M:["getMinutes",function(t){return n(t)}],S:["getSeconds",function(t){return n(t)}],s:["getMilliseconds",function(t){return r(t)}],i:["toISOString"]};this.format=function(t){var e=this.formatString.replace(/%(.)/g,function(e,o){var n=t[a[o][0]]();return null!=a[o][1]&&(n=a[o][1](n)),n});return e}}function O(){var t=function(t,e){return(parseInt(t,10)||0).toString(e)},e={s:function(t){return t.toString()},d:function(e){return t(e,10)},i:function(t){return this.d(t)},b:function(e){return t(e,2)},o:function(e){return t(e,8)},x:function(e){return t(e,16)},X:function(e){return t(e,16).toUpperCase()},e:function(t){return(parseFloat(t,10)||0).toExponential()},E:function(t){return this.e(t,10).toUpperCase()},f:function(t){return(parseFloat(t,10)||"0.0").toString()}},o="";for(var n in e)o+=n;for(var r=Array.prototype.slice.call(arguments).slice(),a=r.shift().toString().replace(new RegExp("%(["+o+"])","g"),function(t,o){if(!r.length)throw new Error("Too few elements");return e[o](r.shift())}),i=0;i<r.length;i++){var s=r[i];a+=" "+s}return a}var N,M,R,U={init:r,emailLogs:T,setRootLogLevel:L,flushBuffer:c,setBufferFrequency:b,configure:j,zipLogs:$,enableDisableLogging:S,enableDisableDestination:w,getLogFilePaths:k,getArchivedLogFilePaths:F,isLoggingEnabled:v,isDestinationEnabled:y,getRootLogLevel:A,makeFilesPublic:I,removePublicFiles:P,process$log:n},q="debug",V="info",G="warn",B="error",H="off",z="_cti_log_",J="client",K="app",W="native",X=1,Y=500,Q="env.logging.enabled",Z="env.logging.appDestinationEnabled",tt="env.logging.clientDestinationEnabled",et="env.logging.nativeDestinationEnabled",ot="env.logging.currentAppLogRootLevel",nt="env.logging.currentClientLogRootLevel",rt="env.logging.currentNativeLogRootLevel",at="env.logging.currentBufferSize",it="env.logging.appLogFilePath",st="env.logging.clientLogFilePath",ct="env.logging.nativeLogFilePath",lt="activeDbName",ut="requiresFlushDbNames",dt=1,pt=[],gt=!1,mt=!1,ft=!1,Ct=B,ht=B,St="x",vt=new D("%y-%m-%d %H:%M:%S:%s");if(window.console&&console.log){var wt=console.log;console.log=function(){u(arguments),wt.apply(this,arguments)}}if(window.console&&console.info){var yt=console.info;console.info=function(){p(arguments),yt.apply(this,arguments)}}if(window.console&&console.debug){var Lt=console.debug;console.debug=function(){d(arguments),Lt.apply(this,arguments)}}if(window.console&&console.error){var At=console.error;console.error=function(){g(arguments),At.apply(this,arguments)}}if(window.console&&console.warn){var bt=console.warn;console.warn=function(){m(arguments),bt.apply(this,arguments)}}return U}]),angular.module("app.core").factory("AudioPlayer",["$q","Plugin","electron","$interval","$log","$timeout",function(t,e,o,n,r,a){function i(t){var e=0,o=0;return t>0&&(e=Math.floor(t%60),o=Math.floor(t/60)),""+o+":"+(e<10?"0":"")+e}function s(t,e){return null===d?void r.error("Audio has not been initialised yet, cannot continue."):void d.getCurrentPosition(function(o){t({state:e,position:o>-1?o:0,currentTime:i(o)})})}function c(t,e){function i(t){switch(t){case l.MEDIA_NONE:n.cancel(g),a(function(){s(e,"released")},60);break;case l.MEDIA_RUNNING:a(function(){s(e,"playing")},50),g=n(function(){s(e,"running")},50);break;case l.MEDIA_PAUSED:n.cancel(g),a(function(){s(e,"paused")},60);break;case l.MEDIA_STOPPED:n.cancel(g),a(function(){s(e,"stopped")},60)}}if(null!==d){d.release();for(var c in u)void 0!==u[c]&&(n.cancel(g),s(u[c],"stopped"),u[c]=void 0)}u[t]=e,void 0!==o.app?(d={change:function(t){i(t)},play:function(){p.play(),d.change(l.MEDIA_RUNNING)},pause:function(){p.pause(),d.change(l.MEDIA_PAUSED)},stop:function(){p.pause(),p.currentTime=0,d.change(l.MEDIA_STOPPED)},getCurrentPosition:function(t){p.ended===!0&&d.stop(),t(p.currentTime)},getDuration:function(){return p.duration},release:function(){p.currentTime=0,d.change(l.MEDIA_NONE)}},p.onloadeddata=function(){d.play()},p.setAttribute("src",t)):(d=new l(t,function(){},function(t){r.error("Audio Error:",t)},i),d.play())}var l=e.getSource("Media"),u={},d=null,p=document.createElement("audio");p.setAttribute("preload","auto");var g=null;return{getDuration:function(t,n){if(void 0!==t&&0!==t.length)if(void 0!==o.app){var a=document.createElement("audio");a.setAttribute("preload","auto"),a.onloadeddata=function(t){n(t.currentTarget.duration,i(t.currentTarget.duration))},a.setAttribute("src",t)}else{var s=e.getSource("mediaproperties");if(s===!1)return;s.getProperties(function(t){n(t.duration,i(t.duration))},function(t){r.error("Audio Error, could not get media properties:",t)},t)}},play:function(t,e){c(t,e)},stop:function(){null!==d&&d.stop()},pause:function(){null!==d&&d.pause()},unpause:function(){null!==d&&d.play()}}}]),angular.module("app.core").factory("GoogleMapService",["$q","$rootScope",function(t,e){
function o(o){if(!i){i=t.defer();var r=document.createElement("script");r.onload=function(){i.resolve()},r.onerror=function(t){i.resolve(t),i=void 0};var a=n(e.currentLanguage);o&&o.length>0?r.src="https://maps.googleapis.com/maps/api/js?key="+o+"&libraries=visualization&language="+a:r.src="https://maps.googleapis.com/maps/api/js?libraries=visualization&language="+a,document.head.appendChild(r)}return i.promise}function n(t){var e={ar:"ARABIC",eu:"BASQUE",bg:"BULGARIAN",bn:"BENGALI",ca:"CATALAN",cs:"CZECH",da:"DANISH",de:"GERMAN",el:"GREEK",en:"ENGLISH","en-AU":"ENGLISH (AUSTRALIAN)","en-GB":"ENGLISH (GREAT BRITAIN)",es:"SPANISH",fa:"FARSI",fi:"FINNISH",fil:"FILIPINO",fr:"FRENCH",gl:"GALICIAN",gu:"GUJARATI",hi:"HINDI",hr:"CROATIAN",hu:"HUNGARIAN",id:"INDONESIAN",it:"ITALIAN",iw:"HEBREW",ja:"JAPANESE",kn:"KANNADA",ko:"KOREAN",lt:"LITHUANIAN",lv:"LATVIAN",ml:"MALAYALAM",mr:"MARATHI",nl:"DUTCH",no:"NORWEGIAN",pl:"POLISH",pt:"PORTUGUESE","pt-BR":"PORTUGUESE (BRAZIL)","pt-PT":"PORTUGUESE (PORTUGAL)",ro:"ROMANIAN",ru:"RUSSIAN",sk:"SLOVAK",sl:"SLOVENIAN",sr:"SERBIAN",sv:"SWEDISH",tl:"TAGALOG",ta:"TAMIL",te:"TELUGU",th:"THAI",tr:"TURKISH",uk:"UKRAINIAN",vi:"VIETNAMESE","zh-CN":"CHINESE (SIMPLIFIED)","zh-TW":"CHINESE (TRADITIONAL)"},o=t.replace("_","-");return e[o]?o:(o=t.substr(0,2),e[o]?o:"en-GB")}function r(t){s.push(t)}function a(t){s.splice(s.indexOf(t),1)}var i,s=[];return window.addEventListener("resize",function(){for(var t=s.length;t--;)s[t]?google.maps.event.trigger(s[t],"resize"):s.splice(t,1)},!0),{requestGoogleMapsScript:o,registerResize:r,unregisterResize:a}}]),angular.module("app.core").factory("ListFactory",["$rootScope","SchemaHelper","StoreFactory",function(t,e,o){function n(t){var o=t.pages;o.forEach(function(t){var o=t.name,n=e.getItems(t.content,"content","list");n.forEach(function(t){var e=t.name;d(o,e,!0,!0,!0)})})}function r(t,e){return Math.ceil(t/(e||1))}function a(t,e,o){var n=[],r=1,a=e;if(o&&o>0){var i=Math.min(o,e),s=Math.floor(i/2);i%2===0&&(s-=1);var c=i-s-1;if(r=t-s,a=t+c,r<1){var l=1-r;r=1,a+=l}if(a>e){var u=a-e;a=e,r-=u}}for(var d=r;d<=a;d++)n.push(d);return n}function i(t,e){var n="$store.pages."+t+"."+e;return o.get(n)}function s(t,e,o){var n={numberOfItems:o.listData.length};if(o.search&&o.search.enabled){var r="";o.search.internal?r="internal":o.search.allowExternal&&o.search.external&&(r=o.search.external.simple?"simple":"advanced");var a=o.search.internal?o.search.term:o.search.external&&o.search.external.criteria||null,i=r,s=a,c=o.filteredListData.length;m(n,i,s,c)}var l=o.order.property,u=o.order.reverse?"desc":"asc";if(f(n,l,u),o.pagination&&o.pagination.enabled){var d=o.pagination.currentPage,p=o.pagination.totalPages,g=o.pagination.limit,S=o.pagination.currentPage>1,v=o.pagination.currentPage<o.pagination.totalPages;C(n,d,p,g,S,v)}return h(t,e,n)}function c(t,e,o,n,r){var a=g(t,e);if(!a)throw'Could not obtain list "'+e+'" on page "'+t+'"';if(r!==!0&&"external"!==a.search)throw'Search actions not allowed for list "'+e+'" on page "'+t+'"';var s=i(t,e);m(s,o,n,void 0),p(t,e,s)}function l(t,e,o,n){var r=g(t,e);if(!r)throw'Could not obtain list "'+e+'" on page "'+t+'"';var a=i(t,e);"switch"===n&&(n=a&&a.order&&a.order.property===o&&"asc"===a.order.direction?"desc":"asc"),f(a,o,n),p(t,e,a)}function u(t,e,o){var n=g(t,e);if(!n)throw'Could not obtain list "'+e+'" on page "'+t+'"';if(!n.pagination)throw'Pagination not enabled for list "'+e+'" on page "'+t+'"';var r=i(t,e),a=1,s=1,c=void 0;if(r&&r.pagination&&(s=r.pagination.totalPages||1,c=r.pagination.pageSize||void 0),isNaN(o)){if(r&&r.pagination){var l=r.pagination.currentPage||1;switch(o){case"first":a=1;break;case"prev":a=l-1;break;case"next":a=l+1;break;case"last":a=s}}}else a=o;a<1&&(a=1),a>s&&(a=s);var u=a>1,d=a<s;C(r,a,s,c,u,d),p(t,e,r)}function d(t,e,o,n,r){var a=g(t,e);if(!a)throw'Could not obtain list "'+e+'" on page "'+t+'"';var s=i(t,e);s&&(o&&delete s.search,n&&delete s.order,r&&delete s.pagination,p(t,e,s))}function p(e,o,n){h(e,o,n),t.$emit("UpdateList_"+e+"_"+o)}function g(t,o){if(!t||!o)return null;var n=e.schema,r=n.pages.filter(function(e){return e.name===t})[0];if(!r)return null;var a='//content//*[name="'+o+'"]';return JSON.search(r,a,!0)[0]}function m(t,e,o,n){t=t||{},angular.extend(t,{search:{mode:e,criteria:o,totalSearchResults:n}})}function f(t,e,o){t=t||{},angular.extend(t,{order:{property:e,direction:o}})}function C(t,e,o,n,r,a){t=t||{},angular.extend(t,{pagination:{currentPage:e,totalPages:o,pageSize:n,hasPreviousPage:r,hasNextPage:a}})}function h(t,e,n){var r="$store.pages."+t+"."+e;return o.set(r,n)}return{initializeListsForApp:n,calculateNumberOfPages:r,calculateVisiblePages:a,getListState:i,setListStateFromListScope:s,setListSearchState:c,setListOrderState:l,setListPaginationState:u,resetListState:d,triggerListRefresh:p}}]),angular.module("mobile-router",["LocalStorageModule"]),angular.module("mobile-router").provider("RouterConfig",function(){this.options={},this.set=function(t,e){switch(t){case"id":this.options.id=e;break;case"startPage":this.options.startPage=e;break;case"mode":switch(e){case"allin":case"intelligent":case"single":this.options[t]=e;break;default:console.log("Invalid Value: An invalid value for option 'mode' was specified.")}break;case"animation":switch(e){case"off":case"slide-in":case"slide-out":case"flip-in":case"fade-in":case"rotate-in-left":this.options[t]=e;break;default:console.log("Invalid Value: An invalid value for option 'animation' was specified.")}break;default:console.log("Invalid Option: An invalid option was specified.")}};var t=this;this.$get=function(){return{options:t.options,set:t.set}}}),angular.module("mobile-router").factory("RouteStack",["localStorageService",function(t){function e(e){l=e;var o=t.get(l+"_stack");u=angular.fromJson(o)||[]}function o(t){var e=a();t&&t!==e&&(t&&(window.cti.store.state.currentPage=t.replace("/",""),u.length>=c&&u.shift(),u.push(t)),s())}function n(t){for(var e=-1,o=u.length-1;o>=0&&e===-1;o++)u[o]===t&&(e=o);e>-1&&(u.splice(e,1),s())}function r(){l&&(u=[],t.remove(l+"_stack"))}function a(){return u[u.length-1]}function i(){return u[u.length-2]}function s(){l&&t.set(l+"_stack",u)}var c=25,l=null,u=[];return{init:e,add:o,remove:n,clear:r,getCurrent:a,getPrevious:i}}]),angular.module("mobile-router").factory("Router",["RouterConfig","$templateCache","$log","$filter","RouteStack","$rootScope","$timeout","$q","$injector","$location","Auth",function(t,e,o,n,r,a,i,s,c,l,u){function d(t){return t.toString().replace(/\/$/,"").replace(/^\//,"")}function p(){return r.getPrevious()}function g(){var t=r.getCurrent(),e=r.getPrevious();t&&e&&(r.remove(t),y(e))}function m(t){for(var e=0;e<x.routes.length;e++)if(x.routes[e].path==t)return!0;return!1}function f(){return n("filter")(x.routes,{path:x.currentPath},!0)[0]}function C(){var e=null;if(void 0!==t.options.id){r.init(t.options.id);var n=r.getCurrent();if(void 0!==t.options.startPage)e=t.options.startPage,v(A(e).actions);else if(void 0!==A(n)){e=n;var a=A(n);v(a.actions)}else{var i=x.routes[0];angular.forEach(x.routes,function(t){t.start===!0&&(i=t)}),void 0!=i?(e=i.path,v(i.actions)):o.error("No first page available")}null!==e&&(window.location.hash="#"+e,window.dispatchEvent(new CustomEvent("hashchange")))}}function h(t,n){if(void 0!=t)if(m(t)===!1){var r=d(t),a=n.templateUrl?n.templateUrl:r+".tpl.html";void 0!=n.template&&e.put(a,n.template),x.routes.push({path:t,id:r,templateUrl:a,possibilities:n.possibilities,actions:n.actions,start:n.start,auth:n.auth})}else o.error("Duplicate route names are not allowed.")}function S(){var t=window.location.href.match(/#(.*)$/);if(null!==t)return t[1]}function v(t){if(void 0!==t&&t.length>0){var e=c.get("ActionFactory");return e.triggerEvent("onload",t)}var o=s.defer();return o.resolve(),o.promise}function w(t){var e=s.defer();return t.auth===!0?u.authenticate().then(function(){e.resolve()})["catch"](function(t){e.reject(t)}):e.resolve(),e.promise}function y(t){function e(){t=t||"";var e=A(t);void 0!==e&&w(e).then(function(){v(e.actions).then(function(){l.path(t)})})["catch"](function(t){a.errorMessage=t.message||t,l.path("/error")})}a.$$phase?e():a.$apply(e)}function L(t){var e=void 0;return angular.forEach(x.routes,function(o){void 0===e&&o.id==t&&(e=o)}),e}function A(t){var e=void 0;return angular.forEach(x.routes,function(o){void 0===e&&o.path==t&&(e=o)}),e}function b(t){var e=!1;return angular.forEach(x.views,function(o){o.path==t&&(e=!0)}),e}function j(){var e=f();if(void 0!=e)switch(t.options.mode){case"allin":angular.forEach(x.routes,function(t){b(t.path)===!1&&x.views.push(t)}),i(function(){x.animate=!0},1500);break;case"single":x.views=[e],i(function(){x.animate=!0},1500);break;case"intelligent":default:b(e.path)===!1&&x.views.push(e),i(function(){angular.forEach(e.possibilities,function(t){var e=L(t);void 0!=e&&b(e.path)===!1&&x.views.push(e)})},500),i(function(){x.animate=!0},1500)}}function $(t){x.currentPath!=t&&(x.currentPath=t,"/error"!=t&&r.add(t),j())}var x={routes:[],views:[],animate:!1,currentPath:null,getCurrent:f,init:C,addRoute:h,go:y,lastRoute:p,goPrevious:g};return window.onhashchange=function(t){if(t.newURL!=t.oldURL||void 0===t.newURL&&void 0===t.oldURL){var e=S();void 0!=e&&""!=e&&(a.$$phase?$(e):a.$apply(function(){$(e)}))}},x}]),angular.module("mobile-router").directive("mobileView",["Router","RouterConfig","StoreFactory","localStorageService","$rootScope","LoadingStatus","$timeout","Platform",function(t,e,o,n,r,a,i,s){return{restrict:"A",template:['<div class="grace-warning" ng-if="$root.grace">',"   This app will expire on <strong>{{$root.grace | date:'short'}}</strong></strong>","</div>",'<div class="preview-bar" ng-if="::$root.cancelable">','   <a href="javascript:void(0)" ng-click="view.exit()">','       <span class="fa fa-arrow-circle-left"></span> BACK',"   </a>",'   <a href="javascript:void(0)" ng-click="view.toggle()" class="drop-menu">','       <span class="fa fa-ellipsis-h"></span>',"   </a>","</div>",'<nav class="drop-menu-nav" ng-class="{\'open\': (view.open && $root.cancelable)}">','   <a href="javascript:void(0)" ng-click="view.reset()">','       <span class="fa fa-trash"></span> Reset',"   </a>","</nav>","<div class=\"app-container\" ng-class=\"{'loading': (view.load.loading), 'cancelable': ($root.cancelable), 'grace': ($root.grace)}\">",'   <div class="loader-container alert alert-primary">','       <span ng-if="view.load.loading" class="fa fa-spinner fa-spin"></span> {{view.load.message | translate}}',"   </div>",'   <div ng-repeat="route in view.router.views" id="{{::route.id}}" page-info ng-controller="PageController as page" class="page-container {{::view.config.options.animation}}" ng-class="{\'current\': (view.router.currentPath == route.path), \'animate\': (view.router.animate == true)}">','       <div class="flexbox-container" ng-form name="pageForm" md-form ng-include="route.templateUrl"></div>','       <div md-dom-ready="view.onDomReady(route)" ng-if="view.router.currentPath == route.path"></div>',"   </div>","</div>"].join(""),controller:function(){var c=this;c.router=t,c.config=e,c.load=a,c.exit=function(){if(r.cancelable){var t=null!==n.get("cancelUrl")?n.get("cancelUrl"):n.get("backUrl");null!==t&&(n.remove("backUrl"),n.remove("appName"),o.set("env.exit","cancel"),window.location.href=t)}},c.open=!1,c.toggle=function(){c.open=!c.open},c.reset=function(){r.cancelable&&(o.destroyAllData(),window.location.reload())},c.onDomReady=function(t){i(function(){if(r.$emit("onPageContentLoaded",t),"ios"===s.getName()){var e=document.querySelector("#"+t.id),o=Array.prototype.slice.call(e.querySelectorAll(".scrollable-item"),0);o.forEach(function(t){t.classList.remove("scrollable-item-ios"),setTimeout(function(){t.classList.add("scrollable-item-ios")},100)})}},0)}},controllerAs:"view"}}]),angular.module("mobile-router").directive("endOfRender",["Router","$log",function(t,e){return{restrict:"E",link:function(o){e.log("END OF RENDER: ",o.route.id),t.rendered=!0}}}]),angular.module("app.core").factory("WcUtils",["StoreFactory",function(t){function e(e,o,n){if(e&&e[0]){if(angular.isObject(o)&&Object.keys(o).length>0)for(var r in o)if(o.hasOwnProperty(r)&&0!==r.indexOf("$")){var a=o[r],i=!1;null===a&&(i=!0),"string"==typeof a&&a.indexOf("{{")!==-1&&(i=!0,a=t.parse(a)),!i&&n||(""!==a&&void 0!==a&&null!==a?e[0].setAttribute(r,a):e[0].removeAttribute(r))}e[0].$$attrsHandled=!0}}function o(t,e){t&&t[0]&&angular.isObject(e)&&Object.keys(e).length>0&&t[0].setAttribute("md-expressions",JSON.stringify(e))}function n(t,e){t&&t[0]&&(t[0].setAttribute("md-actions","from-schema"),e&&t[0].setAttribute("md-actions-event-detail-only","true"))}return{applyAttributes:e,applyExpressions:o,applyActionsFromSchema:n}}]),angular.module("app.core").factory("ctDataGrid",["$rootScope","WcUtils","SchemaHelper","StoreFactory","TranslationService","DirectiveBridge",function(t,e,o,n,r,a){function i(t,o){switch(t){case"grid":return function(){var n=angular.element('<ct-data-grid id="'+o.name+'" schema-source="'+o._auto_id_+'" ct-data-grid-bridge></ct-data-grid>'),r=s(n,t,o);return e.applyAttributes(n,r),e.applyExpressions(n,o.expressons),e.applyActionsFromSchema(n,!0),n}();case"column":case"edit-actions-column":return function(){var n=r.translate(o.heading)||"",a=angular.element("<ct-data-col>"+n+"</ct-data-col>"),i=s(a,t,o);return e.applyAttributes(a,i),a}()}return!1}function s(t,e,o){function a(t,e){""!==e&&void 0!==e&&(i[t]=e)}var i={};switch(e){case"grid":!function(){"remote"===o.sourceType&&(a("data-source",o.dataSource),a("data-source-method",o.dataSourceMethod),a("data-source-page-param",o.dataSourcePageParam),a("data-source-page-size-param",o.dataSourcePageSizeParam),a("data-source-search-param",o.dataSourceSearchParam),a("data-source-sort-column-param",o.dataSourceSortColumnParam),a("data-source-sort-direction-param",o.dataSourceSortDirectionParam),a("data-results-property",o.dataResultsProperty),a("data-results-total-property",o.dataResultsTotalProperty),a("use-local-interaction",o.useLocalInteraction)),a("show-search",o.showSearch),a("fixed-headers",o.fixedHeaders);var e=!1;if(0===o.usePagination.indexOf("{{")){var r=o.usePagination.replace("{{","").replace("}}","");e=n.getForElement(r,t)}else e="true"===o.usePagination;e?(a("page-size",o.pageSize),a("show-pagination",o.showPagination)):(a("page-size",null),a("show-pagination",null)),a("row-css-key",o.rowCssKey),a("selection-mode",o.selectionMode),a("class",o.classes)}();break;case"column":!function(){a("key",o.key),a("data-type",o.dataType),o.useDisplayKey&&o.displayKey&&a("display-key",o.displayKey),a("css-key",o.cssKey),a("sortable",o.sortable),a("sort",o.sort),a("editable",o.editable),a("width",o.width),a("class",o.classes)}();break;case"edit-actions-column":!function(){a("data-type","controls"),a("edit-button-label",r.translate(o.editButtonLabel)||""),a("save-button-label",r.translate(o.saveButtonLabel)||""),a("cancel-button-label",r.translate(o.cancelButtonLabel)||""),a("width",o.width),a("class",o.classes)}()}return i}function c(t){var e=t.pages;e.forEach(function(t){var e=t.name,n=o.getItems(t.content,"content","data-grid");n.forEach(function(t){var o=t.name;u(e,o)})})}function l(t,e){var o="$store.pages."+t+"."+e;return n.get(o)}function u(t,e){var o="$store.pages."+t+"."+e;return n.set(o,void 0)}function d(t,e,o,n){var r=n.getVisibleData(),a=n.getSearch(),i=n.getSort(),s=n.getPage(),c={numberOfItems:a.unfilteredTotalResults,visibleData:r},l=a&&a.query||"",u=a?a.totalResults:void 0;w(c,l,u);var d=i&&i.column||"",p=i&&i.direction||"";if(y(c,d,p),"false"!==o.usePagination&&s){var g=s.number,m=s.total,f=s.pageSize,C=s.hasPrevious,h=s.hasNext;L(c,g,m,f,C,h)}return A(t,e,c)}function p(t,e,o){var n=v(t,e);if(!n)throw'Could not obtain dataGrid "'+e+'" on page "'+t+'"';var r=l(t,e);w(r,o,void 0),C(t,e,r)}function g(t,e,o,n){var r=v(t,e);if(!r)throw'Could not obtain dataGrid "'+e+'" on page "'+t+'"';var a=l(t,e);"switch"===n&&(n=a&&a.order&&a.order.column===o&&"asc"===a.order.direction?"desc":"asc"),y(a,o,n),C(t,e,a)}function m(t,e,o){var n=v(t,e);if(!n)throw'Could not obtain dataGrid "'+e+'" on page "'+t+'"';if("false"===n.usePagination)throw'Pagination not enabled for dataGrid "'+e+'" on page "'+t+'"';var r=l(t,e),a=1,i=1,s=void 0;if(r&&r.pagination&&(i=r.pagination.totalPages||1,s=r.pagination.pageSize||void 0),isNaN(o)){if(r&&r.pagination){var c=r.pagination.currentPage||1;switch(o){case"first":a=1;break;case"prev":a=c-1;break;case"next":a=c+1;break;case"last":a=i}}}else a=o;a<1&&(a=1),a>i&&(a=i);var u=a>1,d=a<i;L(r,a,i,s,u,d),C(t,e,r)}function f(t,e,o,n,r){var a=v(t,e);if(!a)throw'Could not obtain dataGrid "'+e+'" on page "'+t+'"';var i=l(t,e);i&&(o&&delete i.search,n&&delete i.order,r&&delete i.pagination,C(t,e,i))}function C(e,o,n){A(e,o,n),t.$emit("UpdateDataGrid_"+e+"_"+o)}function h(t,e,o,n){var r=v(t,e);if(!r)throw'Could not obtain dataGrid "'+e+'" on page "'+t+'"';var i=a.getItemApi(t,e);if(i)switch(o){case"selected":var s=angular.copy(n);if(angular.isArray(s)||(s=[s]),!b(s))throw"Invalid value of indexes: "+n;i.editIndexes(s);break;case"all":i.editAll();break;default:throw"Unknown items selection: "+o}}function S(t,e){var o=v(t,e);if(!o)throw'Could not obtain dataGrid "'+e+'" on page "'+t+'"';var n=a.getItemApi(t,e);return n?n.finishedEdit():[]}function v(t,e){if(!t||!e)return null;var n=o.schema,r=n.pages.filter(function(e){return e.name===t})[0];if(!r)return null;var a='//content//*[name="'+e+'"]';return JSON.search(r,a,!0)[0]}function w(t,e,o){angular.extend(t,{search:{query:e,totalSearchResults:o}})}function y(t,e,o){angular.extend(t,{order:{column:e,direction:o}})}function L(t,e,o,n,r,a){angular.extend(t,{pagination:{currentPage:e,totalPages:o,pageSize:n,hasPreviousPage:r,hasNextPage:a}})}function A(t,e,o){var r="$store.pages."+t+"."+e;return n.set(r,o)}function b(t){var e=t.some(function(t){return"number"!=typeof t});return!e}return{buildDom:i,getAttributes:s,initializeDataGridsForApp:c,getDataGridState:l,setDataGridStateFromComponent:d,setDataGridSearchState:p,setDataGridOrderState:g,setDataGridPaginationState:m,resetDataGridState:f,triggerDataGridRefresh:C,startEditMode:h,finishEditMode:S}}]),angular.module("app.core").directive("ctDataGridBridge",["$rootScope","$log","StoreFactory","ActionFactory","WcUtils","DirectiveBridge","ctDataGrid",function(t,e,o,n,r,a,i){return{restrict:"A",scope:!0,require:["?^mdContextProvider","^pageInfo"],link:function(s,c,l,u){function d(){return i.getDataGridState(w,y)}function p(){L||(g(),L=!0)}function g(){var t=d();if(t){var e=h.getSearch();e&&t.search?e.query!==t.search.query&&h.setSearch(t.search.query):h.setSearch(null);var o=h.getSort();o&&t.order?o.column===t.order.column&&o.direction===t.order.direction||h.setSort(t.order.column,t.order.direction):h.setSort(null);var n=h.getPage();n&&t.pagination?n.number!==t.pagination.currentPage&&h.setPage(t.pagination.currentPage||1):n&&h.setPage(null)}}function m(){S&&S.isRepeaterContextProvider()||i.setDataGridStateFromComponent(w,y,s._schema,h)}function f(t){C(t.detail)}function C(t){if("dynamic"===s._schema.sourceType&&s._schema.model&&s._schema.autoSaveEdits===!0){t instanceof Array==!1&&(t=[t]);var e=o.getForElement(s._schema.model,c);t.forEach(function(t){angular.extend(e[t.__idx],t.newValue)}),o.setForElement(s._schema.model,e,c,!0)}}var h=c[0],S=u[0],v=u[1],w=v.name,y=s._schema.name,L=!1;"static"===s._schema.sourceType&&s._schema.data?h.addEventListener("ready",function(){var t=null;try{t=JSON.parse(s._schema.data)}catch(o){e.error("Couldn't parse static data for grid:",o)}null!==t&&(p(),h.setData(t))}):"dynamic"===s._schema.sourceType&&s._schema.model?s.$watch(function(){return o.getForElement(s._schema.model,c)},function(t){h.isReady===!0&&(p(),h.setData(t))},!0):"remote"===s._schema.sourceType&&p(),t.$on("StoreChanged",function(){var t=i.getAttributes(c,"grid",s._schema);r.applyAttributes(c,t,!0)});var A=t.$on("UpdateDataGrid_"+w+"_"+y,g);h.addEventListener("data-rendered",m),h.addEventListener("data-change",f),s.$on("$destory",function(){A(),h.removeEventListener("data-rendered",m),h.removeEventListener("data-change",f)}),a.registerItemApi(w,y,{editIndexes:function(t){h.edit(t)},editAll:function(){var t=d();if(t){for(var e=[],o=0;o<t.numberOfItems;o++)e.push(o);h.edit(e)}},finishedEdit:function(){var t=h.finishedEdit();return C(t),t.forEach(function(t){n.triggerEvent("data-change",s._schema.actions,t)}),t}})}}}]),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/area/mdList/mdList.tpl.html",'<div id="{{:: name }}"\n     class="md-list {{:: classes }}">\n\n    <div ng-if="::(search.internal || pagination.showAbove)"\n         class="top">\n\n        <div ng-if="::search.internal" class="search-area">\n\n            <div class="search-box" ng-class="::{ \'input-group\': search.showButton }">\n                <input type="text" class="form-control" ng-model="search.inputValue" ng-model-options="::{ debounce: { default: search.debounce, blur: 0 } }" md-on-enter="performSearch()" placeholder="{{ \'Search...\' | translate }}"/>\n                <span ng-if="::search.showButton" class="input-group-btn">\n                    <button class="btn btn-default" ng-click="performSearch()">\n                        {{:: search.buttonLabel }}\n                        <span ng-if="::search.buttonIcon" class="fa {{:: search.buttonIcon }}"></span>\n                    </button>\n                </span>\n            </div>\n\n        </div>\n\n        <div ng-if="::pagination.showAbove"\n             ng-show="pagination.visible"\n             class="pagination-container"\n             ng-include="\'components/area/mdList/mdListPagination.tpl.html\'">\n        </div>\n\n    </div>\n\n    <div class="main scrollable">\n        <ul class="md-list-items">\n            <li md-list-item\n                ng-repeat="$item in (filteredListData = (listData | filter:filter | orderBy:listOrder:order.reverse)) | limitTo:pagination.limit:pagination.start track by itemTrackFn($item, $index)"\n                md-context-provider="::$item"\n                md-context-item-collection="::listData"\n                ng-class="itemCssClass($item, $index)">\n            </li>\n        </ul>\n    </div>\n\n    <div ng-if="::pagination.showBelow"\n         class="bottom">\n\n        <div ng-show="pagination.visible"\n             class="pagination-container"\n             ng-include="\'components/area/mdList/mdListPagination.tpl.html\'">\n        </div>\n\n    </div>\n\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/area/mdList/mdListPagination.tpl.html",'<nav>\n    <ul class="pagination pagination-sm">\n        <li ng-if="::pagination.showFirstLast"\n            class="page-first"\n            ng-class="{ \'disabled\': pagination.currentPage === 1 }">\n            <a ng-click="goToPage(\'first\')">\n                <span ng-if="::pagination.firstPageIcon" class="fa {{:: pagination.firstPageIcon }}"></span>\n                {{ pagination.firstPageLabel | translate }}\n            </a>\n        </li>\n        <li ng-if="::pagination.showPrevNext"\n            class="page-prev"\n            ng-class="{ \'disabled\': pagination.currentPage === 1 }">\n            <a ng-click="goToPage(\'prev\')">\n                <span ng-if="::pagination.prevPageIcon" class="fa {{:: pagination.prevPageIcon }}"></span>\n                {{ pagination.prevPageLabel | translate }}\n            </a>\n        </li>\n        <li ng-repeat="pageNumber in pagination.visiblePages"\n            class="numbered-page"\n            ng-class="{ \'active\': pageNumber === pagination.currentPage }">\n            <a ng-click="goToPage(pageNumber)">\n                {{ pageNumber }}\n            </a>\n        </li>\n        <li ng-if="::pagination.showPrevNext"\n            class="page-next"\n            ng-class="{ \'disabled\': pagination.currentPage === pagination.totalPages }">\n            <a ng-click="goToPage(\'next\')">\n                {{ pagination.nextPageLabel | translate }}\n                <span ng-if="::pagination.nextPageIcon" class="fa {{:: pagination.nextPageIcon }}"></span>\n            </a>\n        </li>\n        <li ng-if="::pagination.showFirstLast"\n            class="page-last"\n            ng-class="{ \'disabled\': pagination.currentPage === pagination.totalPages }">\n            <a ng-click="goToPage(\'last\')">\n                {{ pagination.lastPageLabel | translate }}\n                <span ng-if="::pagination.lastPageIcon" class="fa {{:: pagination.lastPageIcon }}"></span>\n            </a>\n        </li>\n    </ul>\n</nav>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/md-barcode.tpl.html",'<div class="barcode-group" md-actions="{{actions}}">\n\n    <div class="code-display" ng-if="displayValue !== false" ng-class="{\'placeholder\': (!inputModel)}">{{inputModel || \'--\'}}</div>\n\n    <button class="btn btn-primary btn-lg" type="button">\n        <span ng-if="codeType === \'bar\'">\n            <span class="fa fa-barcode"></span> {{ \'Capture Barcode\' | translate }}\n        </span>\n        <span ng-if="codeType === \'qr\'">\n            <span class="fa fa-qrcode"></span> {{ \'Capture QR Code\' | translate }}\n        </span>\n    </button>\n\n    <input type="hidden" validation="{{validators}}" name="{{::name}}" id="{{::name}}" ng-model="inputModel" ng-required="required" class="form-control" />\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/md-checkbox.tpl.html",'<div class="container md-checkbox-container">\n    <div class="checkbox-element" ng-repeat="option in options track by $index" ng-class="{\'vertical\': ($parent.$parent.vertical == true)}">\n        <div class="md-checkbox" ng-class="{ \'no-label\': !option.label, selected: (model[option.id] == true), \'md-checkbox-disabled\': disabled }"\n             md-actions="{{ actions }}"\n             ng-click="makeSelection(option.id)">\n            <span class="fa" ng-class="getClasses(option)"></span>\n            <span>{{option.label | translate}}</span>\n        </div>\n    </div>\n    <input type="hidden" name="{{name}}" validation="{{validators}}" ng-required="{{required}}" ng-model="model" />\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/md-radio.tpl.html",'<div class="container md-checkbox-container">\n    <div class="checkbox-element" ng-repeat="option in options track by $index">\n        <div class="md-checkbox" ng-class="{ \'no-label\': !option.label, selected: (model == option.value), \'md-radio-disabled\': (disabled) }"\n             md-actions="{{ actions }}"\n             ng-click="makeSelection(option.value)">\n            <span class="fa" ng-class="getClasses(option)"></span>\n            <span>{{option.label | translate}}</span>\n        </div>\n    </div>\n    <input type="hidden" name="{{name}}" validation="{{validators}}" ng-required="{{required}}" ng-model="model" />\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/record-audio.tpl.html",'<div class="{{classes}}" ng-class="{ \'audio-recorder-small\': smallrecorder, \'audio-recorder\': !smallrecorder }">\n    <a class="record-button" ng-click="recordButton()" ng-class="{ \'record-active\': state == 2, \'record-populated\': (isPopulated && !multiple) }">\n        <span class="fa fa-stack fa-2x">\n            <i id="mic-background" class="fa fa-stack-2x" ng-class="multiple ? (state == 2 ? \'fa-circle\' : \'fa-circle-thin\') : (state == 2 || isPopulated ? \'fa-circle\' : \'fa-circle-thin\')"></i>\n            <i id="mic-foreground" class="fa fa-microphone fa-stack-1x"></i>\n        </span>\n    </a>\n    <div ng-if="!smallrecorder" class="current-time">\n        {{currentTime}}\n    </div>\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/imageViewer/imageViewer.tpl.html",'<div class="image-viewer-container {{classes}}" ng-class="{\'dynamic\': (multiple || (image === undefined))}">\n    <div class="image-frame" ng-if="multiple" ng-repeat="fileURI in files track by $index" ng-switch="getFileType(fileURI)">\n        <img ng-switch-when="image" md-thumbnail="{{fileURI}}" md-thumbnail-maxwidth="200" md-thumbnail-maxheight="200" ng-click="open($index)"/>\n        <div ng-switch-when="audio" class="media-player text-center" ng-click="open($index)"><span class="fa fa-file-audio-o fa-3x"></span><br><br><span>{{getViewableFilePath(fileURI)}}</span></div>\n    </div>\n    <div class="image-frame no-data" ng-if="(multiple && files.length === 0) || (!multiple && image === undefined)">\n        <span class="fa fa-picture-o"></span>\n        {{ \'No sources have been added.\' | translate }}\n    </div>\n    <img md-thumbnail="{{image | trusted}}" md-thumbnail-maxwidth="{{maxWidth}}" md-thumbnail-maxheight="{{maxHeight}}" ng-if="!multiple && image !== undefined && scaleImage" ng-click="open($index)"/>\n    <img ng-src="{{image | trusted}}" ng-if="!multiple && image !== undefined && !scaleImage"/>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/imageViewer/imageViewerDisplay.tpl.html",'<div class="image-viewer-display-container"><div class="image-frame"><img ng-src="{{src}}" /></div><div class="image-footer"><a href="javascript:void(0)" class="danger" ng-click="delete()"><span class="fa fa-trash"></span> Delete</a><a href="javascript:void(0)" class="warning"><span class="fa fa-camera"></span> Retake</a><a href="javascript:void(0)" ng-click="close()" class="primary"><span class="fa fa-close"></span> Close</a></div></div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/mediaPlayer/audioPlayer.tpl.html","<div class=\"audio-player\" ng-class=\"{'play-active': (ap.info.state === 'running'), 'play-idle': (ap.info.state !== 'running'), 'disabled': (ap.info.state === null)}\">\n"+'    <a class="play-button" ng-click="ap.button()" ng-disabled="ap.info.state === null">\n        <span class="fa fa-stack fa-2x">\n            <i id="play-background" class="fa fa-stack-2x" ng-class="{\'fa-square\': (ap.info.state === \'running\'), \'fa-circle\': (ap.info.state !== \'running\')}"></i>\n            <i id="play-foreground" class="fa fa-stack-1x" ng-class="{\'fa-pause\': (ap.info.state === \'running\'), \'fa-play\': (ap.info.state !== \'running\')}"></i>\n        </span>\n    </a>\n    <span class="current-time">{{ap.info.currentTime}}</span>\n    <div class="timeline">\n        <div class="filler"></div>\n    </div>\n    <span class="total-time">{{ap.info.totalTime}}</span>\n    <!--<div class="loader" ng-if="ap.load === true">Loading...</div>-->\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/mediaPlayer/mediaPlayer.tpl.html",'<div class="media-player-container {{classes}}" ng-class="{\'dynamic\': (model)}">\n    <div ng-if="itemType == \'audio\'">\n        <audio-player name="{{name}}_player" src="{{src | trusted}}" actions="actions"></audio-player>\n    </div>\n    <div ng-if="itemType == \'video\'">\n        <video type="video/mp4" ng-src="{{src | trusted}}" controls></video>\n    </div>\n</div>');
}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/barcode.tpl.html",'<take-barcode code-type="bar" ng-model="$parent.$parent.inputModel"></take-barcode>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/checkbox.tpl.html",'<md-checkbox model="$parent.$parent.inputModel"\n             name="name"\n             required="required"\n             options="options"\n             disabled="disabled"\n             icon-selected="{{iconSelected}}"\n             validators="{{validators}}"\n             actions="{{actions}}"\n             icon-unselected="{{iconUnselected}}">\n</md-checkbox>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/date.tpl.html",'<div ng-class="{\'input-group\': (leftIcon || rightIcon)}" >\n    <div class="input-group-addon" ng-if="leftIcon"><span class="fa {{::leftIcon}}"></span></div>\n    <input type="text" pick-a-date="$parent.$parent.inputModel" pick-a-date-options="options" md-actions="{{actions}}" placeholder="{{::placeholder || \'--\' | translate}}" class="form-control" ng-disabled="disabled" />\n    <div class="input-group-addon" ng-if="rightIcon"><span class="fa {{::rightIcon}}"></span></div>\n</div>\n<input type="hidden" name="{{::name}}" validation="{{validators}}" ng-required="{{required}}" ng-model="$parent.$parent.inputModel" />\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/datetime.tpl.html",'\n<div class="row datetime-container">\n    <div class="col-xs-6">\n        <div class="input-group">\n            <div class="input-group-addon">\n                <span class="fa fa-calendar"></span>\n            </div>\n            <input type="text" validation="{{validators}}" pick-a-date date-value="$parent.$parent.inputModel" min="min" max="max" ng-model="dateModel" class="form-control" name="{{::name}}" id="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled">\n        </div>\n    </div>\n    <div class="col-xs-6">\n        <div class="input-group">\n            <div class="input-group-addon">\n                <span class="fa fa-calendar"></span>\n            </div>\n            <input type="text" validation="{{validators}}" pick-a-time date-value="$parent.$parent.inputModel" tmin="tmin" tmax="tmax" ng-model="dateModel" class="form-control" name="{{::name}}" id="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled">\n        </div>\n    </div>\n</div>\n\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/email.tpl.html",'<div ng-class="{\'input-group\': (leftIcon || rightIcon)}">\n    <div class="input-group-addon" ng-if="leftIcon"><span class="fa {{::leftIcon}}"></span></div>\n    <input type="email" md-actions="{{actions}}" valid-email validation="{{validators}}" class="form-control" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder | translate}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.inputModel" ng-model-options="{debounce: { \'default\': 500, \'blur\': 0 }}">\n    <div class="input-group-addon" ng-if="rightIcon"><span class="fa {{::rightIcon}}"></span></div>\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/number.tpl.html",'<div ng-class="{\'input-group\': (leftIcon || rightIcon)}">\n    <div class="input-group-addon" ng-if="leftIcon"><span class="fa {{::leftIcon}}"></span></div>\n    <input type="number" validation="{{validators}}" md-actions="{{actions}}" min="{{min}}" max="{{max}}" class="form-control" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder | translate}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.inputModel" ng-model-options="{debounce: { \'default\': 500, \'blur\': 0 }}" number-format decimal-places="{{::decimals}}" />\n    <div class="input-group-addon" ng-if="rightIcon"><span class="fa {{::rightIcon}}"></span></div>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/password.tpl.html",'<div ng-class="{\'input-group\': (leftIcon || rightIcon)}">\n    <div class="input-group-addon" ng-if="leftIcon"><span class="fa {{::leftIcon}}"></span></div>\n    <input type="password" validation="{{validators}}" md-actions="{{actions}}" class="form-control" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder | translate}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.inputModel" ng-model-options="{debounce: { \'default\': 500, \'blur\': 0 }}" />\n    <div class="input-group-addon" ng-if="rightIcon"><span class="fa {{::rightIcon}}"></span></div>\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/photo.tpl.html",'<take-photo ng-model="$parent.$parent.inputModel" image-url="$parent.$parent.inputModel" quality="quality" source="source" disabled="disabled" destination="destination"></take-photo>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/qrcode.tpl.html",'<take-barcode code-type="qr" ng-model="$parent.$parent.inputModel"></take-barcode>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/radio.tpl.html",'<md-radio model="$parent.$parent.inputModel"\n          name="name"\n          required="required"\n          options="options"\n          disabled="disabled"\n          icon-selected="{{iconSelected}}"\n          validators="{{validators}}"\n          actions="{{actions}}"\n          icon-unselected="{{iconUnselected}}">\n</md-radio>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/range-slider.tpl.html",'<md-range-slider name="name"\n                 model="$parent.$parent.inputModel"\n                 required="required"\n                 disabled="disabled"\n                 validators="{{validators}}"\n                 min="{{min}}"\n                 max="{{max}}"\n                 step="{{step}}"\n                 actions="actions">\n</md-range-slider>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/rating.tpl.html",'<div star-rating\n     class="star-rating"\n     rating-value="$parent.$parent.inputModel"\n     max="max || 5"\n     on-rating-selected="inputModel = rating; updateInputValue(rating);"\n     actions="actions"\n     disabled="disabled">\n</div>\n<input type="hidden" md-actions="{{actions}}" validation="{{validators}}" ng-model="$parent.$parent.inputModel" name="{{::name}}" ng-required="{{required}}" />\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/recordAudio.tpl.html",'<record-audio name="{{name}}" model="{{key}}" label="{{label}}" small-player="smallplayer" actions="actions"></record-audio>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/select.tpl.html",'<select ng-if="!searchable"\n        md-select\n        id="{{:: name }}"\n        name="{{:: name }}"\n        ng-model="$parent.$parent.$parent.inputModel"\n        ng-options="option.label group by option.group for option in $parent.options track by option.value"\n        ng-change="$parent.$parent.$parent.userInput()"\n        ng-required="{{ required }}"\n        ng-disabled="disabled"\n        ng-class="{ disabled: disabled }"\n        md-actions="{{ actions }}"\n        validation="{{ validators }}"\n        class="form-control">\n    <option value="">{{ \'Please select...\' | translate }}</option>\n</select>\n\n<div ng-if="searchable">\n    <ol class="nya-bs-select"\n        data-live-search="true"\n        data-size="5"\n        ng-model="$parent.$parent.$parent.inputModel"\n        ng-disabled="disabled"\n        md-actions="{{ actions }}">\n        <li nya-bs-option="option in $parent.options group by option.group track by option.value">\n            <span class="dropdown-header" ng-if="$group">{{ $group | translate }}</span>\n            <a>{{ option.label | translate }}</a>\n        </li>\n    </ol>\n    <input type="hidden" ng-model="$parent.$parent.inputModel" validation="{{validators}}" name="{{::name}}" ng-required="{{required}}"/>\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/signature.tpl.html",'<input type="hidden" validation="{{validators}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" ng-required="{{required}}" />\n<div class="signature-frame">\n    <div class="canvas-frame">\n        <canvas md-signature ng-model="$parent.$parent.inputModel" disabled="disabled" md-actions="{{actions}}"></canvas>\n        <div class="sign-line"></div>\n    </div>\n    <div class="controls">\n        <button class="btn btn-default" ng-click="$parent.$parent.inputModel = undefined;" ng-disabled="disabled">{{ \'Clear signature\' | translate }}</button>\n    </div>\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/slider.tpl.html",'<md-slider name="name"\n           model="$parent.$parent.inputModel"\n           required="required"\n           disabled="disabled"\n           validators="{{validators}}"\n           min="{{min}}"\n           max="{{max}}"\n           step="{{step}}"\n           actions="actions">\n</md-slider>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/smiley.tpl.html",'\n<div class="smiley-container">\n    <a href="javascript:void(0)" class="smile" ng-class="{\'active\': ($parent.$parent.inputModel == true)}" ng-click="$parent.$parent.inputModel = true; $parent.$parent.updateStore(true)"><span class="icon icon-smile"></span></a>\n    <a href="javascript:void(0)" class="frown" ng-class="{\'active\': ($parent.$parent.inputModel == false)}" ng-click="$parent.$parent.inputModel = false; $parent.$parent.updateStore(false)"><span class="icon icon-sad"></span></a>\n</div>\n<input type="hidden" validation="{{validators}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" ng-required="{{required}}" />\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/switch.tpl.html",'<div class="switch-container">\n\n    <span class="switch-text on">\n        <span ng-show="$parent.$parent.inputModel === true">{{ onText | translate }}</span>\n    </span>\n\n    <span class="switch"\n          ng-class="{ checked: $parent.$parent.inputModel, disabled: disabled }"\n          id="{{::name}}"\n          name="{{::name}}">\n\n        <small></small>\n\n        <input type="checkbox"\n               name="{{::name}}"\n               ng-disabled="disabled"\n               ng-model="$parent.$parent.inputModel"\n               md-actions="{{actions}}"\n               validation="{{validators}}"\n               ng-required="{{required}}"\n               style="width: 100%; height: 100%; margin: 0; opacity: 0; cursor: pointer;"\n               class="ng-pristine ng-untouched ng-valid"\n               ng-hide="disabled"\n               ng-model-options="{ debounce: 0, allowInvalid: true }" />\n\n    </span>\n\n    <span class="switch-text off">\n        <span ng-show="$parent.$parent.inputModel !== true">{{ offText | translate }}</span>\n    </span>\n\n</div>')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/text.tpl.html",'<div ng-switch="multi">\n    <div ng-switch-when="false" ng-class="{\'input-group\': (leftIcon || rightIcon)}">\n        <div class="input-group-addon" ng-if="leftIcon"><span class="fa {{::leftIcon}}"></span></div>\n        <input type="text" validation="{{validators}}" md-actions="{{actions}}" class="form-control" id="{{::name}}" name="{{::name}}" maxlength="{{::maxlength || undefined}}" placeholder="{{::placeholder | translate}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.$parent.inputModel" ng-model-options="{debounce: { \'default\': debounce, \'blur\': 0 }}" />\n        <div class="input-group-addon" ng-if="rightIcon"><span class="fa {{::rightIcon}}"></span></div>\n    </div>\n    <textarea ng-switch-when="true" class="form-control" validation="{{validators}}" md-actions="{{actions}}" id="{{::name}}" name="{{::name}}" maxlength="{{::maxlength || undefined}}" placeholder="{{::placeholder | translate}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.$parent.inputModel" rows="3" ng-model-options="{debounce: { \'default\': debounce, \'blur\': 0 }}">{{default | translate}}</textarea>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("components/mdDynamicForm/fields/templates/time.tpl.html",'<div ng-class="{\'input-group\': (leftIcon || rightIcon)}" id="{{::name}}">\n    <div class="input-group-addon" ng-if="leftIcon"><span class="fa {{::leftIcon}}"></span></div>\n    <input type="text" pick-a-time="$parent.$parent.inputModel" pick-a-time-options="options" md-actions="{{actions}}" placeholder="{{::placeholder || \'--\' | translate}}" class="form-control" ng-disabled="disabled" />\n    <div class="input-group-addon" ng-if="rightIcon"><span class="fa {{::rightIcon}}"></span></div>\n</div>\n<input type="hidden" name="{{::name}}" validation="{{validators}}" ng-required="{{required}}" ng-model="$parent.$parent.inputModel" />\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]">\n  <button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button>\n  <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog">\n  <div class="aside-dialog">\n    <div class="aside-content">\n      <div class="aside-header" ng-show="title">\n        <button type="button" class="close" ng-click="$hide()">&times;</button>\n        <h4 class="aside-title" ng-bind="title"></h4>\n      </div>\n      <div class="aside-body" ng-bind="content"></div>\n      <div class="aside-footer">\n        <button type="button" class="btn btn-default" ng-click="$hide()">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px;">\n<table style="table-layout: fixed; height: 100%; width: 100%;">\n  <thead>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)">\n          <i class="{{$iconLeft}}"></i>\n        </button>\n      </th>\n      <th colspan="{{ rows[0].length - 2 }}">\n        <button tabindex="-1" type="button" class="btn btn-default btn-block text-strong"  ng-click="$toggleMode()">\n          <strong style="text-transform: capitalize;" ng-bind="title"></strong>\n        </button>\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)">\n          <i class="{{$iconRight}}"></i>\n        </button>\n      </th>\n    </tr>\n    <tr ng-show="showLabels" ng-bind-html="labels"></tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%">\n      <td class="text-center" ng-repeat="(j, el) in row">\n        <button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled">\n          <span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu">\n  <li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content" >\n    <a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a>\n    <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a>\n  </li>\n</ul>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header" ng-show="title">\n        <button type="button" class="close" ng-click="$hide()">&times;</button>\n        <h4 class="modal-title" ng-bind="title"></h4>\n      </div>\n      <div class="modal-body" ng-bind="content"></div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" ng-click="$hide()">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/popover/popover.tpl.html",'<div class="popover">\n  <div class="arrow"></div>\n  <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n  <div class="popover-content" ng-bind="content"></div>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select">\n  <li ng-if="$showAllNoneButtons">\n    <div class="btn-group" style="margin-bottom: 5px; margin-left: 5px">\n      <button class="btn btn-default btn-xs" ng-click="$selectAll()">All</button>\n      <button class="btn btn-default btn-xs" ng-click="$selectNone()">None</button>\n    </div>\n  </li>\n  <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}">\n    <a style="cursor: default;" role="menuitem" tabindex="-1" ng-click="$select($index, $event)">\n      <i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i>\n      <span ng-bind="match.label"></span>\n    </a>\n  </li>\n</ul>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist">\n  <li ng-repeat="$pane in $panes track by $index" ng-class="$index == $panes.$active ? $activeClass : \'\'">\n    <a role="tab" data-toggle="tab" ng-click="$setActive($index)" data-index="{{ $index }}" ng-bind-html="$pane.title"></a>\n  </li>\n</ul>\n<div ng-transclude class="tab-content">\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto;">\n<table height="100%">\n  <thead>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)">\n          <i class="{{ $iconUp }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)">\n          <i class="{{ $iconUp }}"></i>\n        </button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="(i, row) in rows">\n      <td class="text-center">\n        <button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled">\n          <span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span>\n        </button>\n      </td>\n      <td>\n        <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span>\n      </td>\n      <td class="text-center">\n        <button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled">\n          <span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span>\n        </button>\n      </td>\n      <td ng-if="showAM">\n        &nbsp;\n      </td>\n      <td ng-if="showAM">\n        <button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button>\n        <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button>\n      </td>\n    </tr>\n  </tbody>\n  <tfoot>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)">\n          <i class="{{ $iconDown }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)">\n          <i class="{{ $iconDown }}"></i>\n        </button>\n      </th>\n    </tr>\n  </tfoot>\n</table>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="title"></div>\n</div>\n')}])}(),function(t){try{t=angular.module("app.templates")}catch(e){t=angular.module("app.templates",[])}t.run(["$templateCache",function(t){t.put("bower_components/angular-strap/src/typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select">\n  <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}">\n    <a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a>\n  </li>\n</ul>\n')}])}();